"use strict";(self.webpackChunkFusion=self.webpackChunkFusion||[]).push([[83339],{68474:(e,t,r)=>{r.d(t,{Z:()=>te});var i=r(68910),o=r(34091),n=r(18898),l=r(25301),a=r(72920),s=r(49147),d=r(37725),c=r(41494),u=r(5086),h=r(64248),p=r(95073),g=r(90097),v=r(75257),m=r(69262),Z=r(46816),y=r(60327),x=r(71975),f=r(44335),b=r(36012),w=r(55409),S=r(31394),$=r(47110),C=r(81208),k=r(46278),z=r(30330);const I=Math.round(555.5),_=(0,h.zo)("div",(e=>({display:"flex",transition:"max-width 400ms ease, opacity 400ms ease 100ms",maxWidth:e.$isVisible?"300px":0,opacity:e.$isVisible?1:0,position:"relative"}))),B=(0,h.zo)("div",(e=>{let{$theme:t,$isOverlapping:r,$isLoading:i}=e;return{...i?{...(0,w.Z)({$theme:t}),backgroundSize:"100vw 100%"}:{backgroundColor:t.colors.buttonPrimaryFill},display:"flex",flexDirection:"row",alignItems:"stretch",cursor:"pointer",height:"48px",borderRadius:t.borders.pillButtonBorderRadius,overflow:"hidden",boxShadow:r?t.shadows.filterCard:"none",margin:r?"24px 16px":0,...t.typography.LabelMedium,whiteSpace:"nowrap"}})),P={display:"flex",flexDirection:"row",alignItems:"center"},O=(0,h.zo)("div",P),T=24,L=(0,h.zo)("div",(e=>{let{$theme:t,$direction:r}=e;return{width:"".concat(T,"px"),height:"".concat(48,"px"),background:"radial-gradient(circle at ".concat("ltr"===r?"100%":"0%",", transparent ").concat(T,"px, ").concat(t.colors.backgroundPrimary," ").concat(T,"px)")}})),D=(0,h.zo)("div",(e=>{let{$theme:t,$direction:r}=e;return{width:"".concat(T,"px"),height:"".concat(48,"px"),background:"radial-gradient(circle at ".concat("ltr"===r?"0%":"100%",", transparent ").concat(T,"px, ").concat(t.colors.backgroundPrimary," ").concat(T,"px)")}})),R=(0,h.zo)("button",(e=>{let{$theme:t,$isDualButtons:r}=e;return{...P,padding:r?"14px 16px 14px 12px":"8px 16px",...(0,v.x)({$theme:t})}})),M=(0,h.zo)("button",(e=>{let{$theme:t,$isDualButtons:r}=e;return{...P,padding:r?"14px 12px 14px 8px":"8px 16px 8px 8px",...(0,v.x)({$theme:t})}})),H=(0,h.zo)("div",{height:"".concat(32,"px"),width:"".concat(32,"px"),flexShrink:0,borderRadius:"50%",overflow:"hidden",position:"relative"}),U=(0,h.zo)("img",{height:"".concat(32,"px"),width:"".concat(32,"px"),objectFit:"cover",flexShrink:0}),X=(0,h.zo)("div",(e=>{let{$theme:t,$isOverlapping:r}=e;return{width:"1.5px",margin:"12px 0",background:t.colors.contentSecondary}})),E=(0,h.zo)("div",(e=>{let{$theme:t,$isOverlapping:r}=e;return{background:t.colors.menuFill,color:t.colors.contentPrimary,boxShadow:"0px 4px 16px rgba(0, 0, 0, 0.12)",marginTop:"8px",top:r?"64px":t.sizing.scale1000,right:"0",position:"absolute",width:"420px",borderRadius:"16px",maxHeight:"".concat(I,"px"),overflow:"auto",zIndex:f.I_.modal}})),A=e=>{var t;let{isOverlapping:o,floatingMenuOpen:h,handleFloatingMenuOpen:v}=e;const{toggleSidebarCartVisible:f,headerCartDropdownVisible:w,setHeaderCartDropdownVisible:I}=(0,p.Lb)(),{totalOrders:P,cartViews:T,draftOrders:A,currentStoreDraftOrderUUID:F,activeDraftOrderUUID:q,draftOrderUUIDs:V,setActiveDraftOrder:G}=(0,m.Z)(),N=(0,Z.ZP)(),Q=(0,l.T)(),{toggleIsDropdownOpen:W,dropdownRef:Y,isDropdownOpen:j,onCartSelect:K}=(0,x.Z)({isDropdownOpen:null!=h?h:w,setIsDropdownOpen:null!=v?v:I}),J=(0,d.UO)(),ee=(0,C.Z)({encodedStoreUuid:null==J?void 0:J.encodedStoreUuid}),{isEditOrder:te,currentUserItemCount:re,isRepeatGroupOrder:ie}=(0,i.Z)(ee),oe=Boolean(F),ne=(0,S.gm)(),le=F&&T.find((e=>e.draftOrderUUID===F))||q&&T.find((e=>e.draftOrderUUID===q))||void 0,ae=!te&&(null==le||null===(t=le.storeImageUrls)||void 0===t?void 0:t[0])||(0,s.pZ)(r(67724)),se=P>1||oe&&ie,de=!(!oe||!se);n.useEffect((()=>{N("eats:multicart_cart_pill")}),[N]);const ce=1===P?(0,z.tZ)(a.v,{id:"shared.numCartsSingular",data:{numCarts:P}}):(0,z.tZ)(a.v,{id:"shared.numCarts",data:{numCarts:P}}),ue=1===re?(0,z.tZ)(a.v,{id:"shared.numCartItemsSingular",data:{numCartItems:re}}):(0,z.tZ)(a.v,{id:"shared.numCartItems",data:{numCartItems:re}}),{isRepeatOrderCartView:he}=(0,b.Z)();return(0,z.BX)(_,{ref:Y,$isVisible:!0,children:[(0,z.tZ)(c.ZP,{$width:"24px"}),(0,z.tZ)(B,{$isOverlapping:o,$isLoading:!A.hasLoaded,children:A.hasLoaded?(0,z.BX)(z.HY,{children:[oe||te?(0,z.BX)(M,{"data-test":"items-button",$isDualButtons:de,type:"button",onClick:()=>{G(F||""),f(),N("eats:cart_cta_click",{isMulticart:!0})},children:[(0,z.tZ)(H,{children:(0,z.tZ)(U,{src:ae,alt:"store"})}),(0,z.tZ)(c.ZP,{$width:"8px"}),ue]}):null,oe&&!se||te?null:(0,z.BX)(z.HY,{children:[de?(0,z.tZ)(X,{$isOverlapping:o}):null,(0,z.BX)(R,{"data-test":"cart-btn",$isOverlapping:o,$isDualButtons:de,"aria-label":Q("multicart.carts"),type:"button",onClick:()=>{if(0===P)f();else if(1!==P||he(T[0])||(0,k.e)(T[0]))W();else{var e,t,r,i,o;const n=null===(e=T[0])||void 0===e||null===(t=e.metadata)||void 0===t?void 0:t.openCheckoutMetadata,l=null!==(r=null!==(i=null==n?void 0:n.draftOrderUUID)&&void 0!==i?i:null==n||null===(o=n.bundleGroupMetadata)||void 0===o?void 0:o.primaryDraftOrderUUID)&&void 0!==r?r:V[0];G(l),f()}N("eats:cart_cta_click",{isMulticart:!0})},children:[(0,z.tZ)(g.Z,{size:20}),(0,z.tZ)(c.ZP,{$width:"8px"}),oe?null:ce,se?(0,z.BX)(z.HY,{children:[oe?null:(0,z.tZ)(c.ZP,{$width:"8px"}),(0,z.tZ)(y.Z,{size:12})]}):null]}),j?(0,z.tZ)(E,{$isOverlapping:o,children:(0,z.tZ)($.Z,{onCartSelect:(e,t)=>{K(e,t),f()},isMobile:!1})}):null]})]}):(0,z.BX)(O,{children:[(0,z.tZ)(L,{$direction:ne}),(0,z.tZ)(u.CB,{$width:"80px"}),(0,z.tZ)(D,{$direction:ne})]})})]})};var F=r(74978),q=r(76893),V=r(48532),G=r(93484);const N=e=>{let{$theme:t,disabled:r,radius:i}=e;return{color:t.colors.onlineOrderingSecondaryInverseText,background:t.colors.onlineOrderingSecondaryInverse,...r?(0,V.Z)(t):{":hover":{background:t.colors.onlineOrderingSecondaryInverseHover},":active":{background:t.colors.onlineOrderingSecondaryInverseActive},...(0,G.Z)(t)}}};var Q=r(90004),W=r(40324),Y=r(52449);const j=(0,h.zo)("div",(e=>({display:"flex",transition:"max-width 400ms ease, opacity 400ms ease 100ms",maxWidth:e.$isVisible?"300px":0,opacity:e.$isVisible?1:0,overflow:"hidden",position:"relative"}))),K=(0,h.zo)("button",(e=>{let{$theme:t,$isOverlapping:r,$isOnlineOrdering:i}=e;return{display:"flex",flexDirection:"row",alignItems:"center",cursor:"pointer",padding:"8px 12px",height:f.GC,borderRadius:t.borders.pillButtonBorderRadius,boxShadow:r?t.shadows.filterCard:"none",margin:r?"24px 16px":0,...i?N({$theme:t}):(0,v.x)({$theme:t}),...t.typography.LabelSmall}})),J=(0,h.zo)("div",(e=>{let{$theme:t}=e;return{marginLeft:"8px",whiteSpace:"nowrap"}})),ee=e=>{var t;let{isOverlapping:r}=e;const n=(0,o.Z)(),{serverCart:l}=(0,F.iQ)(),{toggleSidebarCartVisible:s}=(0,p.Lb)(),d=(null===(t=l.data)||void 0===t?void 0:t.items)||[],u=(0,q.dH)(d),{isDraftOrderParticipant:h,isBillSplitOrder:v}=(0,i.Z)(),m=(0,Q.Z)(),y=(0,Z.ZP)(),x=(0,Y.Z)(),f=(0,W.Z)();return n&&(!h||m||x&&v)?(0,z.BX)(j,{$isVisible:!0,children:[(0,z.tZ)(c.ZP,{$width:"24px"}),(0,z.BX)(K,{"data-test":"cart-btn",$isOverlapping:r,type:"button","aria-label":"checkout",onClick:()=>{s(),y("eats:cart_cta_click")},$isOnlineOrdering:f,children:[(0,z.tZ)(g.Z,{size:16}),(0,z.BX)(J,{children:[(0,z.tZ)(a.v,{id:"shared.cart"})," • ",u]})]})]}):null},te=e=>{let{isOverlapping:t=!1,floatingMenuOpen:r,handleFloatingMenuOpen:n}=e;const l=(0,o.Z)(),a=(0,Q.Z)(),{isDraftOrderParticipant:s,isBillSplitOrder:d}=(0,i.Z)(),c=(0,Y.Z)();return(l||a)&&(!s||a||c&&d)?a?(0,z.tZ)(A,{isOverlapping:t,floatingMenuOpen:r,handleFloatingMenuOpen:n}):(0,z.tZ)(ee,{isOverlapping:t}):null}},67424:(e,t,r)=>{r.d(t,{Z:()=>ie});var i=r(85865),o=r(77808),n=r(90997),l=r(37725),a=r(79510),s=r(72920),d=r(64248),c=r(95073),u=r(68910),h=r(60372),p=r(61587),g=r(76434),v=r(45055),m=r(50725),Z=r(44335),y=r(46311),x=r(9842),f=r(76005),b=r(26602),w=r(90145),S=r(92807),$=r(27531),C=r(74978),k=r(41494),z=r(12637),I=r(84401),_=r(46816),B=r(98854),P=r(32750),O=r(90097),T=r(30330);const L=(0,d.zo)("div",(e=>{let{$theme:t}=e;return{padding:"64px",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"}})),D=(0,d.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphMedium,marginTop:"16px",textAlign:"center"}})),R=()=>(0,T.BX)(L,{children:[(0,T.tZ)(O.Z,{size:44,color:"contentInverseTertiary"}),(0,T.tZ)(D,{children:(0,T.tZ)(s.v,{id:"shared.emptycartmessage"})})]});var M=r(14221),H=r(18081),U=r(49629),X=r(54949),E=r(4281),A=r(81416),F=r(60061),q=r(81208),V=r(32077),G=r(52449),N=r(92346),Q=r(44544);const W=(0,d.zo)("div",(e=>{let{$theme:t,$isClosing:r}=e;return{position:"fixed",top:"62px",right:"82px",width:"432px",zIndex:Z.I_.modal,background:t.colors.backgroundPrimary,boxShadow:t.shadows.box,transition:"opacity ".concat(500,"ms"),opacity:r?0:1,color:t.colors.contentPrimary}})),Y=(0,d.zo)("div",{maxHeight:"calc(100vh - 150px)",overflowY:"scroll"}),j=(0,d.zo)("div",{padding:"0 ".concat(24,"px")}),K=(0,d.zo)("div",{paddingTop:"16px",display:"flex"}),J=(0,d.zo)("div",(e=>e.$theme.typography.DisplayXSmall)),ee=(0,d.zo)(n.rU,(e=>({...e.$theme.typography.ParagraphSmall,color:e.$theme.colors.contentSecondary}))),te=(0,d.zo)("div",{display:"flex",alignItems:"center"}),re=(0,d.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphMedium,display:"inline"}})),ie=()=>{var e,t,r;const n=(0,N.TH)(),d=a.parse(n.search)[b.FSm.cartDisplay],[Z,O]=(0,o.useState)(!1),{cartRef:L,sidebarCartVisible:D,sidebarCartClosing:ie,openSidebarCart:oe,closeSidebarCart:ne,hideSidebarCart:le}=(0,c.Lb)({transitionMS:500}),{isDraftOrderCreator:ae,isDraftOrderParticipant:se,hasGroupOrder:de,isDraftOrderCartLocked:ce,isBillSplitOrder:ue}=(0,u.Z)(),{title:he,storeTitle:pe,restaurantLink:ge,restaurantLinkNode:ve}=(0,m.Z)(),{elementRef:me,isStuck:Ze}=(0,x.Z)(),ye=(0,o.useRef)(null),{serverCart:xe}=(0,C.iQ)(),fe=null===(e=xe.data)||void 0===e?void 0:e.storeUuid,{store:be}=(0,$.Z)(fe),we=(0,I.Z)(),Se=(0,N.UO)(),$e=(0,q.Z)({encodedStoreUuid:Se.encodedStoreUuid}),Ce=(0,l.k6)(),ke=(0,B.fw)(),ze=Boolean(ke),Ie=(0,F.Z)(),_e=Boolean(Ie),Be="postmates"===we,Pe=(0,_.ZP)(),Oe=!(null!==(t=xe.data)&&void 0!==t&&t.items.length),{guestCheckoutEnabled:Te}=(0,E.Z)(),Le=(0,V.xZ)();(0,o.useEffect)((()=>{if(d){var e;clearTimeout(null!==(e=ye.current)&&void 0!==e?e:void 0),oe();const t=setTimeout((()=>{O(!0)}),300);return()=>{clearTimeout(t)}}O(!0)}),[d,oe]),(0,o.useEffect)((()=>{if(void 0===i.Z||ie)return;const e=()=>{Z&&!ie&&ne()};return i.Z&&i.Z.addEventListener("scroll",e),()=>{i.Z&&i.Z.removeEventListener("scroll",e)}}),[Z,ne,ie]),(0,o.useEffect)((()=>le),[le]);const De=(0,G.Z)(),{orderName:Re}=(0,M.Z)();return(0,o.useEffect)((()=>{var e;D&&Pe("eats:cart_view",{storeUuid:null===(e=be.data)||void 0===e?void 0:e.uuid,cartView:Le})}),[D,Pe,be]),D&&(!se||De&&ue)?(0,T.tZ)(W,{ref:L,$isClosing:ie,children:(0,T.BX)(Y,{"data-test":"cart",children:[ae&&ce?(0,T.tZ)(U.c,{children:(0,T.tZ)(re,{children:(0,T.tZ)(s.v,{id:"go.unlock_cart_warning_text_2"})})}):null,(0,T.tZ)(f.Z,{hasCloseButton:!0,headerRef:me,isStuck:Ze,onClose:ne,title:de&&Re||pe,...ae?{topRightIconButton:{icon:(0,T.tZ)(H.Z,{color:"black"}),onClick:()=>Ce.push((0,b.vN_)(n,"shareGroupOrder"))}}:{}}),Oe&&!ae?(0,T.tZ)(R,{}):(0,T.BX)(j,{children:[(0,T.tZ)(v.ZP,{$height:24}),(0,T.tZ)(J,{"data-test":"cart-header",children:ae?he:pe}),(0,T.tZ)(Q.C,{}),ae?(0,T.BX)(T.HY,{children:[(0,T.tZ)(v.ZP,{$height:16}),(0,T.BX)(te,{children:[(0,T.tZ)(ee,{to:ge,onClick:()=>{Pe("eats:click_store_link",{source:"cart"})},children:ve}),(0,T.tZ)(z.Z,{})]})]}):null,(0,T.tZ)(K,{children:(0,T.BX)(P.Z,{separator:k.sA,children:[ae||$e===fe?null:(0,T.tZ)(w.Z,{source:"cart"}),de||null!==(r=be.data)&&void 0!==r&&r.isGroupOrderingDisabled||Be||Te?null:(0,T.tZ)(S.Z,{store:be})]})}),ze?(0,T.tZ)(B.T0,{$spaceBefore:32}):(0,T.tZ)(v.ZP,{$height:16}),_e?(0,T.tZ)(A.Q,{$spaceBefore:32}):(0,T.tZ)(v.ZP,{$height:16}),ae||De&&ue?(0,T.BX)(T.HY,{children:[(0,T.tZ)(X.Z,{gutterWidth:24}),(0,T.tZ)(h.Z,{gutterWidth:24,showAddGuestsBtn:!1,showFacePile:!0,showRemoveParticipantButton:!0})]}):(0,T.tZ)(T.HY,{children:(0,T.tZ)(p.Z,{disableGroupOrder:!0})}),(0,T.tZ)(g.Z,{children:(0,T.tZ)(y.Z,{})})]})]})}):null}},61604:(e,t,r)=>{r.d(t,{Z:()=>a});var i=r(72920),o=r(29886),n=r(41021),l=r(30330);const a=e=>{const t=(0,o.Z)(),r={date:(0,n.p6)(t,e.date),startTime:(0,n.CJ)(t,e.startTime),endTime:(0,n.CJ)(t,e.endTime)};return"shared.scheduledFor.dateAndTimeRange"===e.translationKey?(0,l.tZ)(i.v,{id:"shared.scheduledFor.dateAndTimeRange",data:r}):"shared.scheduledDeliveryTime.dateAndTimeRange"===e.translationKey?(0,l.tZ)(i.v,{id:"shared.scheduledDeliveryTime.dateAndTimeRange",data:r}):"shared.scheduledPickupTime.dateAndTimeRange"===e.translationKey?(0,l.tZ)(i.v,{id:"shared.scheduledPickupTime.dateAndTimeRange",data:r}):(0,l.tZ)(i.v,{id:"shared.dateAndTimeRange",data:r})}},79848:(e,t,r)=>{r.d(t,{Z:()=>a});var i=r(63732),o=r(72920),n=r(10247),l=r(30330);function a(e){const t=(0,n.d)();return(0,l.tZ)(i.Z,{diningMode:e.diningMode||t,delivery:e.shortenedTime?(0,l.tZ)(o.v,{id:"components.checkoutstepdeliverytime.now"}):(0,l.tZ)(o.v,{id:"shared.deliverNowSentenceCase"}),dineIn:(0,l.tZ)(o.v,{id:"dining_mode.dine_in.asap"}),pickup:(0,l.tZ)(o.v,{id:"dining_mode.pickup.asap"})})}},76434:(e,t,r)=>{r.d(t,{Z:()=>d});var i=r(64248),o=r(26735),n=r(45055),l=r(90004),a=r(30330);const s=(0,i.zo)("div",(e=>{let{$theme:t,$isInMulticart:r}=e;return{padding:"24px",position:r?"sticky":"absolute",bottom:0,left:0,right:0,...t.overlays.floatingButtonGradient}}));function d(e){const[t,r]=(0,o.Z)(),i=(0,l.Z)();return(0,a.BX)(a.HY,{children:[i?null:(0,a.tZ)(n.ZP,{$height:(null==t?void 0:t.height)||0}),(0,a.tZ)(s,{$isInMulticart:i,ref:r,children:e.children})]})}},49629:(e,t,r)=>{r.d(t,{c:()=>v});var i=r(18898),o=r(77808),n=r(64248),l=r(44335),a=r(34197),s=r(30330);const d=(0,n.zo)("div",{padding:"16px 24px"}),c=(0,n.zo)("div",(e=>({position:"absolute",width:"100%",top:"0",left:"0",backgroundColor:e.$theme.colors[e.$bgColor],zIndex:l.I_.modal}))),u=(0,n.zo)(a.Z,{width:"24px",height:"24px",display:"flex",position:"relative",cursor:"pointer",right:"6px"}),h=(0,n.zo)("div",{position:"relative",marginTop:"8px"}),p=((0,n.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.LabelMedium,color:t.colors.onNegative}})),(0,n.zo)("div",(e=>{let{$theme:t}=e;return t.typography.LabelMedium}))),g=e=>{const[t,r]=i.useState(!1);return(0,o.useEffect)((()=>{r(!1)}),[]),(0,s.tZ)(s.HY,{children:t?null:(0,s.tZ)(c,{$bgColor:e.$bgColor,children:(0,s.BX)(d,{children:[(0,s.tZ)(u,{onClick:()=>{r(!0)},iconColor:e.$iconFill}),(0,s.tZ)(h,{children:e.children})]})})})},v=e=>(0,s.tZ)(g,{$bgColor:"warning",$iconFill:"onWarning",children:(0,s.tZ)(p,{children:e.children})})},20619:(e,t,r)=>{r.d(t,{Z:()=>_});var i=r(77808),o=r(90997),n=r(26602),l=r(25301),a=r(46816),s=r(58252),d=r(79848),c=r(44501),u=r(41494),h=r(64248),p=r(48532),g=r(61604),v=r(92689),m=r(93484),Z=r(17812),y=r(88386),x=r(87813),f=r(40324),b=r(28239),w=r(70919),S=r(92346),$=r(30330);const C=e=>{let{$theme:t,$isOnlineOrdering:r,$isDisabled:i}=e;return i?(0,p.Z)(t):r?(e=>{let{$theme:t,disabled:r}=e;return{color:t.colors.onlineOrderingPrimaryInverseText,background:t.colors.onlineOrderingPrimaryInverse,...r?(0,p.Z)(t):{":hover":{background:t.colors.onlineOrderingPrimaryInverseHover},":active":{background:t.colors.onlineOrderingPrimaryInverseActive},...(0,m.Z)(t)}}})({$theme:t}):(0,v.y)({$theme:t})},k=(0,h.zo)(o.rU,(e=>{let{$size:t,$drawBorder:r,$theme:i,$isOnlineOrdering:o,$isDisabled:n}=e;return{...i.typography.LabelSmall,borderRadius:i.borders.pillButtonBorderRadius,display:"flex",flexDirection:"row",alignItems:"center",cursor:"pointer",height:"large"===t?"48px":"36px",padding:"8px 12px",boxSizing:"border-box",border:r?"1px solid ".concat(i.colors.onlineOrderingPrimaryInverseActive):void 0,...C({$theme:i,$isDisabled:n,$isOnlineOrdering:o})}})),z=(0,h.zo)("div",{textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}),I=(0,h.zo)("div",{whiteSpace:"nowrap"}),_=e=>{var t,r,o;const{deliveryTime:h,deliveryLocation:p,diningMode:v}=(0,y.Z)(),m=(0,S.TH)(),C=(0,i.useContext)(w.k),_=(0,l.T)(),B=(0,a.ZP)(),P=(0,Z.WI)("header-location-button"),O=(0,f.Z)(),T=null===(t=(0,b.d1)())||void 0===t||null===(r=t.customization)||void 0===r||null===(o=r.colorInfo)||void 0===o?void 0:o.primary,{shouldOverrideLabel:L,overrideLabel:D}=(0,x.Z)(),R=e.storeUuid?JSON.stringify({storeUuid:e.storeUuid}):null;return p?(0,$.tZ)("span",{children:(0,$.BX)(k,{"data-testid":"edit-delivery-location-button",ref:P,$size:e.size,$isDisabled:e.deliveryLocationPickerDisabled,to:R?(0,n.vN_)(m,"deliveryDetails",R):(0,n.vN_)(m,"deliveryDetails"),onClick:t=>{e.deliveryLocationPickerDisabled?t.preventDefault():(B("eats:delivery_details_click"),C.set("addressChangeTouched",!0))},$isOnlineOrdering:O,$drawBorder:Boolean(O&&T),children:[(0,$.tZ)(s.Z,{color:"onHeader",type:"Pin",width:"16px",ariaLabel:_("component.location_typeahead_mobile.deliver_to")}),(0,$.tZ)(u.ZP,{$width:"8px"}),L?D:(0,$.tZ)(z,{"data-testid":"delivery-address-label",children:p.address.address1}),(0,$.tZ)(c.Z,{spaces:2}),(0,$.tZ)(I,{"data-test":"delivery-time",children:"scheduled"in h?(0,$.tZ)(g.Z,{date:h.date,startTime:h.startTime,endTime:h.endTime}):(0,$.tZ)(d.Z,{shortenedTime:!0,diningMode:v})})]})}):null}},68772:(e,t,r)=>{r.d(t,{Z:()=>O});var i=r(77808),o=r(81922),n=r(64248),l=r(93011),a=r(26602),s=r(83351),d=r(93046),c=r(25301),u=r(72920),h=r(41494),p=r(7274),g=r(905),v=r(90997),m=r(4982),Z=r(95973),y=r(13753),x=r(86724),f=r(92346),b=r(30330);const w=(0,n.zo)("div",(e=>{let{$theme:t}=e;return{backgroundColor:t.colors.positive,color:t.colors.onPositive}})),S=(0,n.w1)(d.Z,(()=>({height:"80px",alignItems:"center"}))),$=(0,n.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.DisplayXSmall,letterSpacing:"normal"}})),C=(0,n.zo)("div",(e=>{let{$theme:t}=e;return t.typography.ParagraphSmall})),k=(0,n.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphSmall,padding:"0 16px"}})),z=(0,n.zo)("div",{alignItems:"center",display:"flex",position:"relative"}),I=(0,n.zo)(v.rU,{display:"flex",flexDirection:"row",justifyContent:"space-between",flex:1,alignItems:"center",height:"100%"}),_=(0,n.zo)("div",{position:"absolute",left:"-32px",display:"flex",alignItems:"center"}),B=(0,n.zo)("div",(e=>({backgroundColor:"rgba(255, 255, 255, 0.30)",minWidth:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",cursor:e.onClick?"pointer":"normal"}))),P=(0,n.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.LabelMedium,display:"flex",alignItems:"center"}})),O=()=>{var e;const t=(0,f.TH)(),r=(0,c.T)(),[n,d]=i.useState(0),v=(0,o.v)((e=>{let{activeOrders:t}=e;return t})),O=(0,m.Z)("eater_message_service_banner"),T=(0,m.Z)("active_order_banner_for_guest_users_enabled"),{eaterMessage:L}=(0,Z.Z)("FEED_ANNOUNCEMENTS_TOP"),{user:D,isUnregisteredUser:R}=(0,x.Z)(),M=T&&!(null!=D&&null!==(e=D.data)&&void 0!==e&&e.isLoggedIn)&&R;return O&&!M?L?(0,b.tZ)(y.Z,{eaterMessage:L}):null:(0,b.tZ)(g.Z,{source:v,error:()=>null,loaded:e=>{var i,o;const c=Array.isArray(e.orders)?e.orders.filter((e=>e.inAppNotification)):[];if(!c.length)return null;const g=c[n]?c[n]:c[0],v=(null==g?void 0:g.uuid)||"";return(0,b.tZ)(w,{children:(0,b.tZ)(S,{children:(0,b.BX)(l.Z,{eventName:"eats:header_orders_global",eventPayload:{orderUuid:v},$as:I,to:(0,a._u3)(t,{uuid:v}),children:[(0,b.BX)(z,{children:[(0,b.tZ)(_,{children:(0,b.tZ)(s.Z,{$color:"white"})}),(0,b.tZ)($,{children:(null==g||null===(i=g.inAppNotification)||void 0===i?void 0:i.title)||(0,b.tZ)(b.HY,{children:" "})})]}),(0,b.BX)(z,{children:[(0,b.tZ)(C,{children:(null==g||null===(o=g.inAppNotification)||void 0===o?void 0:o.subtitle)||(0,b.tZ)(b.HY,{children:" "})}),(0,b.tZ)(h.ZP,{$width:c.length>1?"24px":"40px"}),(0,b.BX)(P,{children:[(0,b.tZ)(u.v,{id:"components.activeOrdersHeader.trackOrderLink"}),(0,b.tZ)(h.ZP,{$width:"4px"}),(0,b.tZ)(p.Z,{size:16,rotate:180})]})]}),c.length>1?(0,b.BX)(z,{children:[(0,b.tZ)(B,{$as:"button",onClick:e=>{d(Math.max(0,n-1)),e.preventDefault()},"aria-label":r("shared.previous"),children:(0,b.tZ)(p.Z,{size:16})}),(0,b.tZ)(h.ZP,{$width:"2px"}),(0,b.tZ)(B,{children:(0,b.tZ)(k,{children:(0,b.tZ)(u.v,{id:"activeOrder.currentPage",data:{x:n+1,y:c.length}})})}),(0,b.tZ)(h.ZP,{$width:"2px"}),(0,b.tZ)(B,{$as:"button",onClick:e=>{d(Math.min(c.length-1,n+1)),e.preventDefault()},"aria-label":r("shared.next"),children:(0,b.tZ)(p.Z,{size:16,rotate:180})})]}):null]})})})},loading:()=>null})}},26060:(e,t,r)=>{r.d(t,{Z:()=>W});var i=r(77808),o=r(92346),n=r(25301),l=r(64248),a=r(40530),s=r(18898),d=r(58252),c=r(14709),u=r(95607),h=r.n(u),p=r(19785),g=r(30330);const v=(0,l.zo)("div",{display:"flex",flexDirection:"column",minWidth:0}),m=(0,l.zo)("div",(e=>({borderRadius:"50%",width:"36px",height:"36px",backgroundImage:"url(".concat(h()(e.$src),")"),backgroundSize:"cover",flexShrink:0}))),Z=(0,l.zo)("div",{maxWidth:"100%",display:"inline-block",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}),y=(0,l.w1)(Z,(e=>{let{$theme:t}=e;return{...t.typography.ParagraphSmall,color:t.colors.contentSecondary}})),x=(0,l.w1)(Z,(e=>{let{$theme:t}=e;return{...t.typography.LabelMedium,color:t.colors.contentTertiary}})),f=(0,l.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.LabelMedium,color:t.colors.contentPrimary,display:"inline"}})),b=(0,l.zo)("div",(e=>{let{$theme:t,$hasBorder:r}=e;return{...t.typography.LabelMedium,display:"flex",alignItems:"center",justifyContent:"space-between",flexGrow:1,height:"100%",overflow:"hidden",boxSizing:"border-box",...r?{borderBottom:"1px solid ".concat(t.colors.borderOpaque)}:{}}})),w=(0,l.zo)("div",(e=>{let{$isGrayedOut:t}=e;return{display:"flex",width:"100%",height:"100%",alignItems:"center",opacity:t?.6:void 0}})),S=(0,l.zo)("div",{width:"64px",height:"72px",display:"flex",flexGrow:0,flexShrink:0,boxSizing:"border-box",justifyContent:"center",alignItems:"center"});function $(e){const t=function(e){return e.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&")}(e.query),r=new RegExp(t,"gi");let i=r.exec(e.text),o=0;const n=[];for(;e.query.length>0&&null!==i;)i.index>o&&n.push(e.text.substring(o,i.index)),n.push((0,g.tZ)(f,{children:i[0]},o)),o=i.index+i[0].length,i=r.exec(e.text);return o<=e.text.length-1&&n.push(e.text.substring(o)),(0,g.tZ)(x,{children:n})}function C(e){return(0,g.BX)(w,{children:[(0,g.tZ)(S,{children:(0,g.tZ)(d.Z,{type:"Search"})}),(0,g.BX)(b,{$hasBorder:e.hasBorder,children:[(0,g.tZ)($,{text:e.title,query:e.query}),(0,g.tZ)(S,{children:(0,g.tZ)(d.Z,{type:"Chevron",rotate:90,color:"contentStateDisabled"})})]})]})}function k(e){return(0,g.BX)(w,{children:[(0,g.tZ)(S,{children:(0,g.tZ)(d.Z,{type:"Time"})}),(0,g.BX)(b,{$hasBorder:e.hasBorder,children:[(0,g.tZ)(Z,{children:e.title}),(0,g.tZ)(S,{children:(0,g.tZ)(d.Z,{type:"Chevron",rotate:90,color:"contentStateDisabled"})})]})]})}function z(e){return(0,g.BX)(w,{children:[(0,g.tZ)(S,{children:(0,g.tZ)(d.Z,{type:"Search"})}),(0,g.BX)(b,{$hasBorder:e.hasBorder,children:[(0,g.tZ)(Z,{children:e.title}),(0,g.tZ)(S,{children:(0,g.tZ)(d.Z,{type:"Chevron",rotate:90,color:"contentStateDisabled"})})]})]})}function I(e){let{store:t,query:r,hasBorder:i}=e;const o=Boolean(null==t?void 0:t.isOrderable),n=null==t?void 0:t.heroImageUrl,l=(null==t?void 0:t.title)||"",a=null==t?void 0:t.meta1,s=(null==t?void 0:t.categories)||[];return(0,g.BX)(w,{$isGrayedOut:!1===o,children:[(0,g.tZ)(S,{children:n?(0,g.tZ)(m,{$src:n}):null}),(0,g.BX)(b,{$hasBorder:i,children:[(0,g.BX)(v,{children:[(0,g.tZ)($,{text:l,query:r}),a?(0,g.tZ)(p.ZP,{text:a}):(0,g.tZ)(y,{children:s.join(" • ")})]}),(0,g.tZ)(S,{children:(0,g.tZ)(d.Z,{type:"Chevron",rotate:90,color:"contentStateDisabled"})})]})]})}function _(e){let{store:t,hasBorder:r}=e;const i=null==t?void 0:t.heroImageUrl,o=null==t?void 0:t.title;return(0,g.BX)(w,{children:[(0,g.tZ)(S,{children:i?(0,g.tZ)(m,{$src:i}):null}),(0,g.BX)(b,{$hasBorder:r,children:[(0,g.tZ)(v,{children:(0,g.tZ)(f,{children:o})}),(0,g.tZ)(S,{children:(0,g.tZ)(d.Z,{type:"Chevron",rotate:90,color:"contentStateDisabled"})})]})]})}function B(e){const t=(0,n.T)();return(0,g.BX)(w,{children:[(0,g.tZ)(S,{children:(0,g.tZ)(c.Z,{})}),(0,g.BX)(b,{$hasBorder:e.hasBorder,children:[(0,g.tZ)(x,{children:(0,g.tZ)(f,{children:t("search.your_past_orders_link")})}),(0,g.tZ)(S,{children:(0,g.tZ)(d.Z,{type:"Chevron",rotate:90,color:"contentStateDisabled"})})]})]})}var P=r(44335),O=r(46816);const T=(0,l.zo)("ul",(e=>{let{$theme:t,$isHidden:r}=e;return{background:t.colors.menuFill,position:"absolute",top:"100%",left:0,right:0,zIndex:P.I_.banner,borderColor:t.colors.borderOpaque,borderStyle:"solid",borderWidth:"0 1px 1px 1px",boxShadow:t.shadows.box,...r?{display:"none"}:{}}})),L=(0,l.zo)("li",(e=>({backgroundColor:e.$isHighlighted?e.$theme.colors.menuFillHover:"transparent",height:"72px",boxSizing:"border-box",cursor:"pointer",display:"flex",alignItems:"center",transition:P.pB.itemBackground,outline:"none",":hover":{background:e.$theme.colors.menuFillHover}}))),D=["pastOrdersLink","croStore","text","searchHistory","popularCategory","store"],R=function(e){(e=>{const t=(0,O.ZP)();let r=(0,i.useRef)([]);(0,i.useEffect)((()=>{e.suggestions.length&&r.current!==e.suggestions&&(r.current=e.suggestions,t("eats:search_dropdown_impression",{userQuery:e.query,result:e.suggestions.map((e=>{var t;return e.title||(null==e||null===(t=e.store)||void 0===t?void 0:t.title)||""})).join(",")}))}),[t,e.query,e.suggestions])})({query:e.query,suggestions:e.suggestions}),function(e){const{suggestions:t,query:r}=e,o=(0,O.ZP)();i.useEffect((()=>{const e=t.filter((e=>"croStore"===e.type));!r&&e.length>0&&o("eats:search_bar_past_order_impression",{pastOrderStoreUuids:e.map((e=>{var t;return(null==e||null===(t=e.store)||void 0===t?void 0:t.uuid)||""})).filter(Boolean)})}),[o,t,r])}({query:e.query,suggestions:e.suggestions});const t=e.suggestions.filter((e=>D.includes(e.type)));return e.suggestions.length?(0,g.tZ)(T,{...e.getMenuProps(),children:t.map(((r,i)=>{const o=i<t.length-1;return(0,g.BX)(L,{$isHighlighted:e.highlightedIndex===i,...e.getItemProps({index:i}),children:["pastOrdersLink"===r.type?(0,g.tZ)(B,{hasBorder:o}):null,"croStore"===r.type?(0,g.tZ)(_,{hasBorder:o,store:r.store}):null,"text"===r.type?(0,g.tZ)(C,{title:r.title,query:e.query,hasBorder:o}):null,"searchHistory"===r.type?(0,g.tZ)(k,{hasBorder:o,title:r.title}):null,"popularCategory"===r.type?(0,g.tZ)(z,{hasBorder:o,title:r.title}):null,"store"===r.type?(0,g.tZ)(I,{query:e.query,hasBorder:o,store:r.store}):null]},i)}))}):(0,g.tZ)(T,{...e.getMenuProps(),$isHidden:!0})};var M=r(43860),H=r(23037),U=r(73673);const X=(0,l.w1)(H.Z,(e=>({...e.$width?{width:"".concat(e.$width,"px")}:{}}))),E=(0,l.zo)("label",P.E2),A=e=>{const t=s.useRef(null);(0,U.Z)(t,(()=>{e.onClickOutside&&e.onClickOutside()}),e.isOpen);const{query:r,results:i,isOpen:o,getInputProps:n,getMenuProps:l,openMenu:a,getItemProps:d,reset:c,highlightedIndex:u,placeholder:h,onFocus:p,onClose:v,height:m,width:Z,backgroundColor:y,getLabelProps:x}=e,f=o&&(null==i?void 0:i.data)||[];return(0,g.BX)(X,{$width:Z,ref:t,children:[(0,g.tZ)(E,{...x(),children:h}),(0,g.tZ)(M.Z,{onFocus:()=>{p&&p(),a()},query:r,getInputProps:n,reset:c,onClose:v,placeholder:h,isLoading:!1,iconType:"Search",backgroundColor:y||"inputFill",height:m}),(0,g.tZ)(R,{query:r,suggestions:f,getMenuProps:l,getItemProps:d,highlightedIndex:u})]})};var F=r(10247);const q=e=>{const t=(0,n.T)(),r=(0,F.d)(),i=(0,a.Z)({initialQuery:e.initialQuery,onSuggestionSelected:e.onSelect,initialIsClosed:e.initialIsClosed,searchTypeaheadPlaceholder:t("DELIVERY"===r?"shared.mutilVerticalSearchBarHint":"shared.searchPlaceholder")});return(0,g.tZ)(A,{onClose:e.onClose,onFocus:e.onFocus,onClickOutside:e.onClickOutside,...i})};var V=r(26602),G=r(905),N=r(39718);const Q=(0,l.zo)("div",(e=>({flexGrow:1}))),W=e=>{const{onFocus:t}=e,r=(0,o.TH)(),{userQuery:l}=(0,V.RAN)(r,["userQuery"]),a=(0,n.T)(),s=(0,O.ZP)(),d=i.useCallback((()=>{s("eats:search_bar_click"),t()}),[s,t]),{feed:c}=(0,N.Z)(),u=(0,g.tZ)(Q,{role:"search","aria-label":a("shared.marketplaceSearchBarHintText"),children:(0,g.tZ)(q,{initialIsClosed:!0,onFocus:d,onClickOutside:e.clickOutside,initialQuery:l})});return(0,g.tZ)(G.Z,{source:c,error:()=>null,loaded:e=>!1===e.isInServiceArea?(0,g.tZ)(Q,{}):u,loading:()=>u})}},69834:(e,t,r)=>{r.d(t,{ZP:()=>H});var i=r(64248),o=r(41494),n=r(93046),l=r(17812),a=r(4845),s=r(44335),d=r(25858),c=r(20619),u=r(40324),h=r(68474),p=r(22021),g=r(26060),v=r(87655),m=r(3599),Z=r(20480),y=r(56105),x=r(86724),f=r(67424),b=r(49900),w=r(90004),S=r(39718),$=r(6593),C=r(13050),k=r(85399),z=r(2452),I=r(8566),_=r(46816),B=r(53308),P=r(30330);const O=(0,i.w1)(n.Z,(e=>{let{$theme:t}=e;return{color:t.colors.onHeader,position:"relative",display:"flex",flexDirection:"row",alignItems:"center",height:s.sd}})),T=((0,i.zo)("div",{position:"relative"}),(0,i.zo)("button",{display:"flex",flexDirection:"row",cursor:"pointer",whiteSpace:"nowrap"}),(0,i.zo)("div",(e=>{let{$theme:t}=e;return{width:"100%",background:t.colors.header}}))),L=(0,i.zo)("div",{width:"100%",maxWidth:"722px"}),D=(0,i.zo)("div",{flex:1}),R=(0,i.zo)("div",{justifyContent:"flex-end",display:"flex",flexGrow:0,alignItems:"center"}),M=e=>{var t,r;let{shouldNotRedirectToHomeFeed:i,showDiningMode:n,showCart:s,isSearchFeed:M,storeUuid:H}=e;const{user:U}=(0,x.Z)(),X=(0,u.Z)(),E=(0,B.Z)(),A=(0,Z.Z)(),F=(0,_.ZP)(),q=(0,l.WI)("header-location-typeahead"),{openMenu:V,closeMenu:G,closeAndUpdate:N}=(0,v.Z)(),Q=(0,w.Z)(),{showMultiVerticalSearchSuggestions:W}=(0,C.Z)(),Y=Boolean(H),{showSigninSignup:j,campaign:K,logSignInSignUpClick:J}=(0,I.M)(Y||!1);let ee;ee=Q?(0,P.tZ)(b.Z,{startShoppingRedirect:!M&&!Y}):(0,P.tZ)(f.Z,{});const{feed:te}=(0,S.Z)(),re=(null==A||null===(t=A.address)||void 0===t?void 0:t.address1)||"";return E?(0,P.tZ)(T,{children:(0,P.tZ)(O,{children:(0,P.tZ)(d.Z,{})})}):W?(0,P.tZ)(k.ZP,{shouldNotRedirectToHomeFeed:i,showDiningMode:n,showCart:s,isSearchFeed:M,showSigninSignup:j,campaign:K,logSignInSignUpClick:J,storeUuid:H}):(0,P.tZ)(T,{children:(0,P.BX)(O,{children:[X?null:(0,P.BX)(P.HY,{children:[(0,P.tZ)(y.Z,{}),(0,P.tZ)(o.ZP,{$width:"32px"}),(0,P.tZ)(d.Z,{}),(0,P.tZ)(o.ZP,{$width:"40px"})]}),A?(0,P.BX)(P.HY,{children:[n?(0,P.BX)(P.HY,{children:[(0,P.tZ)(m.Z,{isDisabled:te.isLoading}),(0,P.tZ)(o.ZP,{$width:"16px"})]}):null,(0,P.tZ)(c.Z,{size:"large",storeUuid:H}),W?(0,P.tZ)(o.ZP,{$width:"48px"}):(0,P.tZ)(o.ZP,{$width:"64px"}),X?null:(0,P.tZ)(g.Z,{onFocus:()=>{F("eats:search_bar_clicked"),V("search")},clickOutside:()=>{G()}}),W?(0,P.tZ)(o.ZP,{$width:"24px"}):null]}):(0,P.BX)(P.HY,{children:[(0,P.tZ)(o.ZP,{$width:"64px"}),(0,P.tZ)(L,{children:(0,P.tZ)(p.Z,{registerRef:q,onLocationSelected:e=>{N(e,void 0,i)},initialQuery:re,id:"header"})}),(0,P.tZ)(D,{})]}),(0,P.BX)(R,{children:[A||s?(0,P.tZ)(h.Z,{}):null,(0,P.tZ)(P.HY,{children:ee}),(0,P.tZ)(a.Z,{}),null!==(r=U.data)&&void 0!==r&&r.isLoggedIn?null:(0,P.BX)(P.HY,{children:[(0,P.tZ)(o.ZP,{$width:"24px"}),j?(0,P.tZ)($.m,{campaign:K}):(0,P.tZ)(z.Z,{campaign:K,beforeClick:()=>J("signin","header")})]})]})]})})};M.displayName="HeaderDesktop";const H=M},27619:(e,t,r)=>{r.d(t,{Z:()=>l});var i=r(77808),o=r(2590),n=r(30330);const l=i.forwardRef((function(e,t){return(0,n.tZ)(o.Z,{viewBox:"0 0 8 6",ref:t,...e,children:(0,n.tZ)("path",{d:"M8 .333v2.534L4 5.933 0 2.867V.333L4 3.4 8 .333z"})})}))},60327:(e,t,r)=>{r.d(t,{Z:()=>l});var i=r(77808),o=r(2590),n=r(30330);const l=i.forwardRef((function(e,t){return(0,n.tZ)(o.Z,{viewBox:"0 0 24 24",ref:t,...e,children:(0,n.tZ)("path",{d:"M22 6.9v3.8l-10 7.7-10-7.7V6.9l10 7.7 10-7.7z"})})}))},4942:(e,t,r)=>{r.d(t,{Z:()=>l});var i=r(77808),o=r(2590),n=r(30330);const l=i.forwardRef((function(e,t){return(0,n.tZ)(o.Z,{viewBox:"0 0 20 20",ref:t,...e,children:(0,n.tZ)("path",{d:"M18.834 17l-3.666-3.667c.916-1.333 1.5-2.916 1.5-4.666C16.667 4.333 13.083.75 8.75.75 4.417.75.834 4.333.834 8.667c0 4.333 3.583 7.916 7.917 7.916 1.75 0 3.333-.583 4.666-1.5l3.667 3.667 1.75-1.75zm-15.5-8.25c0-3 2.417-5.417 5.417-5.417s5.416 2.417 5.416 5.417-2.416 5.417-5.416 5.417c-3 0-5.417-2.417-5.417-5.417z"})})}))},68680:(e,t,r)=>{r.d(t,{Z:()=>f});var i=r(64248),o=r(72920),n=r(41494),l=r(58252),a=r(44335),s=r(37852),d=r(30330);const c=(0,i.zo)("li",(e=>({backgroundColor:e.$isHighlighted?e.$theme.colors.menuFillHover:"transparent",padding:"16px 16px",display:"flex",cursor:"pointer",transition:a.pB.itemBackground,outline:"none",":hover":{background:e.$theme.colors.menuFillHover}}))),u=(0,i.zo)("div",{alignSelf:"start"}),h=(0,i.zo)("div",{minWidth:0}),p=(0,i.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphMedium,color:t.colors.contentPrimary,textOverflow:"ellipsis",overflow:"hidden"}})),g=(0,i.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphSmall,color:t.colors.contentSecondary,textOverflow:"ellipsis",overflow:"hidden"}})),v=e=>(0,d.BX)(c,{$isHighlighted:e.highlightedIndex===e.index,...e.getItemProps({index:e.index}),children:[(0,d.tZ)(u,{children:(0,d.tZ)(l.Z,{type:"Pin",background:!0})}),(0,d.tZ)(n.ZP,{$width:"8px"}),(0,d.BX)(h,{children:[(0,d.tZ)(p,{children:e.location.addressLine1}),(0,d.tZ)(g,{children:e.location.addressLine2})]})]}),m=e=>(0,d.BX)(c,{$isHighlighted:e.highlightedIndex===e.index,...e.getItemProps({index:e.index}),children:[(0,d.BX)(u,{children:["work"===e.taggedLocation.tag.toLowerCase()?(0,d.tZ)(s.Z,{}):null,"work"!==e.taggedLocation.tag.toLowerCase()?(0,d.tZ)(l.Z,{type:"home"===e.taggedLocation.tag?"Home":"Time",background:!0}):null]}),(0,d.tZ)(n.ZP,{$width:"8px"}),(0,d.BX)(h,{children:[(0,d.tZ)(p,{children:e.taggedLocation.address.address.title}),(0,d.tZ)(g,{children:e.taggedLocation.address.address.subtitle}),e.taggedLocation.interactionString&&e.taggedLocation.instructionNotes?(0,d.tZ)(g,{children:(0,d.tZ)(o.v,{id:"shared.taggedLocationInstructions",data:{interaction:e.taggedLocation.interactionString,notes:e.taggedLocation.instructionNotes}})}):(0,d.tZ)(g,{children:e.taggedLocation.interactionString||e.taggedLocation.instructionNotes})]})]}),Z=(0,i.zo)("li",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphMedium,padding:"16px"}})),y=e=>{let{getItemProps:t}=e;return(0,d.tZ)(Z,{...t({index:0}),children:(0,d.tZ)(o.v,{id:"shared.hmmCantFindThisAddress"})})},x=(0,i.zo)("ul",(e=>{let{$hasResults:t,$theme:r}=e;return{background:r.colors.menuFill,position:"absolute",top:"100%",left:0,right:0,zIndex:a.I_.foreground,boxShadow:r.shadows.box,...t?{paddingBottom:"8px"}:{}}})),f=e=>{let t=null,r=!1;return e.isOpen&&(e.showTryAgainMessage?t=(0,d.tZ)(y,{getItemProps:e.getItemProps}):(t=e.locations.map(((t,r)=>"isTaggedLocation"in t&&t.isTaggedLocation?(0,d.tZ)(m,{index:r,taggedLocation:t,getItemProps:e.getItemProps,highlightedIndex:e.highlightedIndex},r):"isTaggedLocation"in t?void 0:(0,d.tZ)(v,{index:r,location:t,getItemProps:e.getItemProps,highlightedIndex:e.highlightedIndex},r))),r=e.locations.length>0)),(0,d.tZ)(x,{...e.getMenuProps(),$hasResults:r,children:t})}},22021:(e,t,r)=>{r.d(t,{Z:()=>g});var i=r(25301),o=r(64248),n=r(68680),l=r(46816),a=r(43860),s=r(23037),d=r(20480),c=r(44335),u=r(49731),h=r(30330);const p=(0,o.zo)("label",c.E2),g=e=>{const t=(0,l.ZP)(),r=(0,d.Z)(),o=(0,i.T)(),{query:c,placeholder:g,locations:v,isLoading:m,highlightedIndex:Z,isOpen:y,showTryAgainMessage:x,openMenu:f,reset:b,getItemProps:w,getMenuProps:S,getInputProps:$,getLabelProps:C}=(0,u.Z)({onLocationSelected:e.onLocationSelected,initialQuery:e.initialQuery,id:e.id,initialIsClosed:!0});return(0,h.tZ)(s.Z,{children:(0,h.BX)("div",{ref:e.registerRef,children:[(0,h.tZ)(p,{...C(),children:o("shared.combobox.a11y_instructions")}),(0,h.tZ)(a.Z,{query:c,getInputProps:$,reset:b,placeholder:g,isLoading:m,iconType:"Pin",backgroundColor:"inputFill",onFocus:()=>{f(),t("eats:enter_delivery_address_start",{address:null==r?void 0:r.address.address1,latitude:null==r?void 0:r.latitude,longitude:null==r?void 0:r.longitude})}}),(0,h.tZ)(n.Z,{locations:v.data||[],getMenuProps:S,getItemProps:w,highlightedIndex:Z,showTryAgainMessage:x,isOpen:y})]})})}},46437:(e,t,r)=>{r.d(t,{Z:()=>w});var i=r(90997),o=r(64248),n=r(19785),l=r(77808),a=r(60783),s=r(9024);function d(e){const{$size:t,$theme:r}=e,i=r.sizing.scale1000,o=t||i;return r.sizing[o]||o}const c=(0,s.zo)("img",(e=>{const t=d(e);return{borderTopLeftRadius:"50%",borderTopRightRadius:"50%",borderBottomRightRadius:"50%",borderBottomLeftRadius:"50%",boxSizing:"border-box",display:e.$imageLoaded?"block":"none",height:t,width:t,objectFit:"cover"}}));c.displayName="Avatar";const u=(0,s.zo)("div",(e=>({...e.$theme.typography.font300,color:e.$theme.colors.contentInversePrimary,alignItems:"center",display:"flex",justifyContent:"center",height:"100%"})));u.displayName="Initials";const h=(0,s.zo)("div",(e=>{const{$didImageFailToLoad:t}=e,r=d(e);return{backgroundColor:t?e.$theme.colors.backgroundInversePrimary:null,borderTopLeftRadius:"50%",borderTopRightRadius:"50%",borderBottomRightRadius:"50%",borderBottomLeftRadius:"50%",boxSizing:"border-box",display:"inline-block",height:t?r:null,width:t?r:null}}));h.displayName="Root";var p=r(30330);function g(e){return e.split(" ").map((e=>e[0])).slice(0,2).join("").toUpperCase()}function v(e){let{initials:t,name:r="",overrides:i={},size:o="scale1000",src:n}=e;const s=l.useRef(null),[d,v]=l.useState(!1);function m(){v(!0)}function Z(){v(!1)}l.useEffect((()=>(v(!1),s.current&&"string"==typeof n&&(s.current.src=n,s.current.onload=m,s.current.onerror=Z),()=>{s.current&&(s.current.onload=null,s.current.onerror=null)})),[n]);const[y,x]=(0,a.jb)(i.Avatar,c),[f,b]=(0,a.jb)(i.Initials,u),[w,S]=(0,a.jb)(i.Root,h);return(0,p.BX)(w,{"aria-label":d?null:r,role:d?null:"img",$didImageFailToLoad:!d,$size:o,"data-baseweb":"avatar",...S,children:[(0,p.tZ)(y,{ref:s,alt:r,$imageLoaded:d,$size:o,...x}),!d&&(0,p.tZ)(f,{...b,children:t||g(r)})]})}const m=(0,o.zo)(i.rU,(e=>{let{$theme:t}=e;return{width:"100%",height:"64px",position:"relative",display:"block"}})),Z=(0,o.zo)("div",{position:"absolute",top:"50%",width:"100%",transform:"translateY(-50%)"}),y=(0,o.zo)("div",{width:"40px",display:"inline-block",marginRight:"16px",verticalAlign:"middle"}),x=(0,o.zo)("div",(e=>{let{$theme:t,$hasBorder:r}=e;return{width:"calc(100% - 56px)",boxSizing:"border-box",display:"inline-block",verticalAlign:"middle",...r?{borderBottom:"1px solid ".concat(t.colors.borderOpaque)}:{}}})),f=(0,o.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.LabelMedium,width:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}})),b=(0,o.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphSmall}})),w=e=>{const{store:{categories:t=[],title:r="",heroImageUrl:i="",meta1:o},url:l,hasBorder:a,onClick:s}=e;return(0,p.tZ)(m,{to:l,onClick:s,children:(0,p.BX)(Z,{children:[(0,p.tZ)(y,{children:(0,p.tZ)(v,{name:r,size:"scale1000",src:i})}),(0,p.BX)(x,{$hasBorder:a,children:[(0,p.tZ)(f,{children:r}),o?(0,p.tZ)(n.ZP,{text:o}):(0,p.tZ)(b,{children:t.join(" • ")})]})]})})}},25737:(e,t,r)=>{r.d(t,{Z:()=>m});var i=r(95607),o=r.n(i),n=r(64248),l=r(41494),a=r(19785),s=r(49151),d=r(30330);const c=(0,n.zo)(s.Z,(e=>{let{$isGrayedOut:t}=e;return{display:"flex",width:"100%",alignItems:"center",opacity:t?.6:void 0}})),u=(0,n.zo)("div",{width:"40px",display:"flex",justifyContent:"center",alignItems:"center"}),h=(0,n.zo)("div",(e=>({borderRadius:"50%",width:"40px",height:"40px",backgroundImage:"url(".concat(o()(e.$src),")"),backgroundSize:"cover"}))),p=(0,n.zo)("div",(e=>{let{$theme:t,$hasBorder:r}=e;return{padding:"8px 0",width:"100%",boxSizing:"border-box",...r?{borderBottom:"1px solid ".concat(t.colors.borderOpaque)}:{}}})),g=(0,n.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.LabelMedium}})),v=(0,n.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphSmall}})),m=e=>{const{url:t,hasBorder:r,onClick:i}=e,{categories:o=[],title:n="",heroImageUrl:s="",meta1:m,isOrderable:Z}=e.store||{};return(0,d.BX)(c,{suggestionAction:t,$isGrayedOut:!1===Z,onClick:i,children:[(0,d.tZ)(u,{children:s?(0,d.tZ)(h,{$src:s,title:n,"aria-hidden":!0}):null}),(0,d.tZ)(l.IQ,{}),(0,d.BX)(p,{$hasBorder:r,children:[(0,d.tZ)(g,{children:n}),m?(0,d.tZ)(a.ZP,{text:m}):(0,d.tZ)(v,{children:o.join(" • ")})]})]})}},19900:(e,t,r)=>{r.d(t,{L1:()=>f,rG:()=>x});var i=r(18898),o=r(64248),n=r(77808),l=r(2590),a=r(30330);const s=n.forwardRef((function(e,t){return(0,a.tZ)(l.Z,{viewBox:"0 0 25 24",ref:t,...e,children:(0,a.tZ)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.5 12c0-6.1 4.9-11 11-11s11 4.9 11 11-4.9 11-11 11-11-4.9-11-11zm3 0c0 4.4 3.6 8 8 8s8-3.6 8-8-3.6-8-8-8-8 3.6-8 8zm6.5 2.5V7h3v4.5h3.5v3H11z"})})}));var d=r(4942),c=r(41494),u=r(7329),h=r(46502),p=r(49151),g=r(99534);const v=(0,o.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.LabelLarge,margin:"12px 0 8px 0"}})),m=(0,o.zo)(p.Z,{display:"flex",width:"100%",height:"64px",alignItems:"center"}),Z=(0,o.zo)("div",(e=>{let{$theme:t}=e;return{display:"flex",flexGrow:0,flexShrink:0,boxSizing:"border-box",justifyContent:"center",alignItems:"center",width:"40px",height:"40px",borderRadius:"50%",background:t.colors.backgroundSecondary}})),y=(0,o.zo)("div",(e=>{let{$theme:t,$hasBorder:r}=e;return{...t.typography.LabelMedium,display:"flex",alignItems:"center",justifyContent:"space-between",flexGrow:1,height:"100%",overflow:"hidden",boxSizing:"border-box",...r?{borderBottom:"1px solid ".concat(t.colors.borderOpaque)}:{}}})),x=e=>{let{item:t,hasBorder:r,onClick:o}=e;const{iconType:n,title:l,url:p,iconColor:v}=t,[x,f]=(0,u.T)({root:null}),{trackSearchHomeItemClick:b,trackSearchHomeItemView:w}=(0,h.Z)();return i.useEffect((()=>{t.eventData&&f&&f.isIntersecting&&w(t.eventData)}),[f]),(0,a.BX)(m,{suggestionAction:p,ref:x,onClick:()=>{t.eventData&&b(t.eventData),o&&o(l)},children:[(0,a.tZ)(Z,{children:"clock"===n?(0,a.tZ)(s,{size:20}):"search"===n?(0,a.tZ)(d.Z,{size:18}):"home"===n?(0,a.tZ)(g.Z,{size:20,color:v}):null}),(0,a.tZ)(c.IQ,{}),(0,a.tZ)(y,{$hasBorder:r,children:l})]})},f=e=>{let{title:t}=e;return(0,a.tZ)(v,{children:t})}},49151:(e,t,r)=>{r.d(t,{Z:()=>l});var i=r(77808),o=r(90997),n=r(30330);const l=i.forwardRef((function(e,t){let{suggestionAction:r,onClick:i,children:l,...a}=e;return"link"===r.type?(0,n.tZ)(o.rU,{...a,to:r.to,onClick:i,ref:t,children:l}):"anchor"===r.type?(0,n.tZ)("a",{...a,href:r.href,onClick:i,ref:t,children:l}):(0,n.tZ)("a",{...a,onClick:e=>{e.preventDefault(),i&&i(e)},ref:t,children:l})}))},43860:(e,t,r)=>{r.d(t,{Z:()=>y});var i=r(77808),o=r(25301),n=r(72920),l=r(64248),a=r(58252),s=r(34197),d=r(96210),c=r(41494),u=r(30330);const h=(0,l.w1)(d.U,(e=>({display:"flex",padding:"8px 16px",position:"relative",...e.$backgroundColor?{backgroundColor:e.$theme.colors[e.$backgroundColor]}:{},...e.$isFocused?{boxShadow:e.$theme.shadows.focusedInput}:{},...e.$height?{height:"".concat(e.$height,"px")}:{}}))),p=(0,l.zo)("div",(e=>{let{$shouldAnimatePin:t}=e;return{padding:"8px 0",display:"flex",flexShrink:0,alignItems:"center",...t?{animationDuration:"3s",animationDelay:"2s",animationIterationCount:"infinite",animationName:{"0%":{transform:"rotateY(0deg)"},"20%":{transform:"rotateY(360deg)"},"100%":{transform:"rotateY(360deg)"}}}:{}}})),g=(0,l.zo)("input",(e=>({flex:1,backgroundColor:e.$backgroundColor?e.$theme.colors[e.$backgroundColor]:e.$theme.colors.inputFill,...e.$width?{width:"".concat(e.$width,"px")}:{},appearance:"none",outline:"none","::placeholder":{...e.$theme.typography.LabelMedium,color:e.$theme.colors.contentTertiary}}))),v=(0,l.zo)("button",(e=>{let{$theme:t}=e;return{...t.typography.LabelSmall,color:t.colors.contentTertiary,cursor:"pointer"}})),m=(0,l.zo)("div",(e=>{let{$theme:t}=e;return{width:"1px",margin:"0 16px",backgroundColor:t.colors.borderOpaque}})),Z=(0,l.zo)(s.Z,{cursor:"pointer"}),y=e=>{const t=(0,o.T)(),[r,l]=i.useState(!1),s=i.useRef(null),{value:d,...y}=e.getInputProps({onFocus:()=>{e.onFocus&&e.onFocus(),l(!0)},onBlur:()=>l(!1),ref:s});return(0,u.BX)(h,{$backgroundColor:e.backgroundColor,$isFocused:r,$height:e.height,children:[(0,u.tZ)(p,{$shouldAnimatePin:e.shouldAnimatePin,children:(0,u.tZ)(a.Z,{type:e.isLoading?"Loading":e.iconType,ariaLabel:e.isLoading?t("loading"):void 0})}),(0,u.tZ)(c.ZP,{$width:"16px"}),(0,u.tZ)(g,{...y,value:d||"",type:"text",autoComplete:"off",name:"searchTerm",placeholder:e.placeholder,$backgroundColor:e.backgroundColor,$width:e.queryWidth}),(0,u.tZ)(c.ZP,{$width:"8px"}),e.query.length>0?(0,u.tZ)(v,{type:"button",onClick:()=>{e.reset(),s.current&&s.current.focus()},children:(0,u.tZ)(n.v,{id:"shared.clear"})}):null,e.onClose&&e.query.length>0?(0,u.tZ)(m,{}):null,e.onClose?(0,u.tZ)(Z,{onClick:e.onClose}):null]})}},23037:(e,t,r)=>{r.d(t,{Z:()=>i});const i=(0,r(64248).zo)("div",{flexDirection:"column",position:"relative",flex:1})},65236:(e,t,r)=>{r.d(t,{G:()=>u});var i=r(25301),o=r(77808),n=r(20312),l=r(2815),a=r(52753),s=r(30879),d=r(39718),c=r(52431);const u=e=>{var t,r,u,h;let p=(0,c.E)(e);const{feed:g}=(0,d.Z)(),v="t_dishes"===p;let m=(0,o.useRef)(!0);const Z=(0,i.T)();let y=(0,o.useRef)([]);const x=(0,n.t)({dropPastOrders:!1,addtionalStoreMeta:["categories"]}),f=(0,o.useCallback)((e=>{let{imageUrl:t,title:r,orderDate:i}=e.store.topDishes[0];const{store:{slug:o,uuid:n,categories:l,title:a}}=e;return{storeSlug:o,storeUuid:n,heroImageUrl:t,title:r,orderDate:i,categories:l.length?l:[a]}}),[]),b=(0,o.useMemo)((()=>{var e;return(null===(e=x.data)||void 0===e?void 0:e.searchHistory.filter((e=>"croStore"===e.type)))||[]}),[null===(t=x.data)||void 0===t?void 0:t.searchHistory]),w=(0,o.useMemo)((()=>b.filter((e=>e.store.topDishes.length))),[b]);y.current=(0,o.useMemo)((()=>{let e=[];return"t_restaurant"===p&&b.length>=2&&(e=b.map((e=>{let{ts:t,store:r}=e;return{storeSlug:(null==r?void 0:r.slug)||"",storeUuid:(null==r?void 0:r.uuid)||"",heroImageUrl:(null==r?void 0:r.heroImageUrl)||"",title:(null==r?void 0:r.title)||"",orderDate:t,categories:(null==r?void 0:r.categories)||[]}}))),v&&w.length>=4&&(e=w.map(f),m.current=!1),v&&w.length<4&&(e=w.reduce(((e,t)=>{var r;return[...e,...((null==t||null===(r=t.store)||void 0===r?void 0:r.topDishes)||[]).map((e=>{var r,i,o,n,l;return{storeSlug:(null==t||null===(r=t.store)||void 0===r?void 0:r.slug)||"",storeUuid:(null==t||null===(i=t.store)||void 0===i?void 0:i.uuid)||"",categories:null!=t&&null!==(o=t.store)&&void 0!==o&&o.categories||null!=t&&null!==(n=t.store)&&void 0!==n&&n.title?[null==t||null===(l=t.store)||void 0===l?void 0:l.title]:[],heroImageUrl:(null==e?void 0:e.imageUrl)||"",title:(null==e?void 0:e.title)||"",orderDate:(null==e?void 0:e.orderDate)||""}}))]}),[]).sort(((e,t)=>new Date(e.orderDate)>new Date(t.orderDate)?-1:1))),e}),[v,f,p,b,w]);const S=function(e,t){const r=(0,s.Z)("getTopDishesV1"),i=(0,a.H)("getTopDishesV1",{});return(0,l.useQuery)({queryKey:i,queryFn:e=>{let{queryKey:t}=e;return r.request("getTopDishesV1",t[1])},...null==t?void 0:t.queryObserverOptions})}(0,{queryObserverOptions:{enabled:v&&0===y.current.length}});y.current=(0,o.useMemo)((()=>{if(0===y.current.length&&"t_dishes"===p&&!S.isLoading&&S.data&&(y.current=S.data?S.data.map((e=>{var t,r,i,o,n;return{storeSlug:e.storeSlug,storeUuid:e.storeUuid,categories:[e.storeName],heroImageUrl:null==e||null===(t=e.dishStateMapDisplayInfo)||void 0===t||null===(r=t.available)||void 0===r?void 0:r.imageUrl,title:null==e||null===(i=e.dishStateMapDisplayInfo)||void 0===i||null===(o=i.available)||void 0===o||null===(n=o.title)||void 0===n?void 0:n.text}})):[]),y.current.length>0&&"t_dishes"===p&&(m.current=!1),0===b.length||0!==b.length&&0===y.current.length){var e;const t=((null==g||null===(e=g.data)||void 0===e?void 0:e.feedItems)||[]).filter((e=>"REGULAR_STORE"===e.type&&e.store)).map((e=>e.store));t.length&&(y.current=t.filter((e=>{var t,r;return null==e||null===(t=e.image)||void 0===t||null===(r=t.items)||void 0===r?void 0:r.length})).map((e=>{var t,r,i,o;return{storeSlug:"",actionUrl:e.actionUrl,storeUuid:e.storeUuid,categories:[],heroImageUrl:null==e||null===(t=e.image)||void 0===t||null===(r=t.items)||void 0===r||null===(i=r[0])||void 0===i?void 0:i.url,title:null===(o=e.title)||void 0===o?void 0:o.text}})))}return y.current}),[null==g||null===(r=g.data)||void 0===r?void 0:r.feedItems,S.data,S.isLoading,b,p]);const $=(0,o.useMemo)((()=>"t_dishes"!==p||m.current||S.data?"t_dishes"===p&&!m.current&&S.data?Z("search.top.dishes"):"t_dishes"===p&&m.current?Z("search.top.restaurants"):b.length>=2?Z("search.recent.restaurants"):Z("search.top.restaurants"):Z("search.recent.dishes")),[b.length,S.data,Z,p]),C=null===(u=x.data)||void 0===u?void 0:u.browseHomeFeed.find((e=>"CATEGORY"===e.itemType));let k=(null===(h=x.data)||void 0===h?void 0:h.searchHistory.filter((e=>"searchHistory"===e.type)).slice(0,5))||[],z=[];return 0===k.length&&(z=(null==C?void 0:C.items.map((e=>({title:e.title}))))||[]),{searches:(k.length?k:z).slice(0,5),middleRow:y.current.slice(0,5),searchHeading:k.length>0?Z("search.recent.searches"):Z("search.top.searches"),middleRowHeading:$,categoriesHeading:Z("search.top.categories"),categories:null!=C&&C.items?null==C?void 0:C.items:[],hasRecentSearches:k.length>0}}},52431:(e,t,r)=>{r.d(t,{E:()=>a});var i=r(46091),o=r(77808),n=r(46816),l=r(67288);const a=e=>{const t=(0,i.F2)(),[r,a]=(0,o.useState)("default"),s=(0,n.ZP)();return(0,o.useEffect)((()=>{if(e){let e=t.getString({...l.m.multi_column_zero_state_search,defaultValue:"default"});s("eats:eats_web_cro_zero_state_search_multicolumn_inclusion",{param_name:"eats_web_cro_zero_state_search_multicolumn_inclusion",param_value:e}),a(e)}else a("default")}),[s,t,e]),r}},8566:(e,t,r)=>{r.d(t,{M:()=>s});var i=r(77808),o=r(67288),n=r(46091),l=r(46816),a=r(86724);const s=e=>{var t;const r=(0,l.ZP)(),s=(0,n.F2)(),{user:d}=(0,a.Z)(),c=null===(t=d.data)||void 0===t?void 0:t.isLoggedIn,[u,h]=(0,i.useState)("default");(0,i.useEffect)((()=>{if(e&&!c){let e=s.getString({...o.m.store_signin_signup,defaultValue:"default"});r("eats:signin_signup",{param_name:"signin_signup_treatment",param_value:e}),h(e)}}),[e,c,s,r]);const p=(0,i.useCallback)(((e,t)=>{r("eats:signin_signup_click",{type:e,eventSource:t})}),[r]);return{showSigninSignup:!e||"t_both"===u,logSignInSignUpClick:p,campaign:e?"store_signin_universal_link":"signin_universal_link"}}},41138:(e,t,r)=>{r.d(t,{Z:()=>n});var i=r(46091),o=r(38652);function n(){return{storeDishItemsXP:(0,i.qp)({...o.J.feed_store_dish_items,defaultValue:"control"})}}},15194:(e,t,r)=>{r.d(t,{Z:()=>X});var i=r(92355),o=r(12272),n=r(72920),l=r(90997),a=r(9681),s=r(69591),d=r(905),c=r(64248),u=r(31394),h=r(95073),p=r(12351),g=r(19785),v=r(37977),m=r(92346),Z=r(63642),y=r(90294),x=r(26792),f=r(24062),b=r(40968),w=r(68008),S=r(30330);const $=(0,c.zo)(o.Z,(e=>{let{$isMobile:t,$isXlb:r}=e;return{maxHeight:t?r?"85vh":"75vh":"auto"}})),C=(0,c.zo)("div",(e=>{let{$theme:t}=e;return{display:"flex",alignItems:"center",position:"sticky",top:0,zIndex:1,background:t.colors.backgroundPrimary,borderBottom:"2px solid ".concat(t.colors.borderOpaque),...t.typography.LabelLarge}})),k=(0,c.zo)("div",(e=>{let{$theme:t}=e;return{height:t.sizing.scale1600,width:t.sizing.scale1600,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0}})),z=(0,c.zo)("div",(e=>{let{$theme:t}=e;return{display:"flex",flexGrow:1,alignItems:"center",paddingRight:t.sizing.scale800,minWidth:"0"}})),I=(0,c.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.LabelLarge,color:t.colors.contentPrimary,flexGrow:1,whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",maxWidth:"100%"}})),_=(0,c.zo)("div",(e=>{let{$theme:t}=e;return{display:"flex",flexShrink:0,paddingLeft:t.sizing.scale800}})),B=(0,c.zo)("ul",(e=>{let{$theme:t}=e;return{display:"flex",flexDirection:"column",listStyle:"none"}})),P=(0,c.zo)("div",(e=>{let{$theme:t,$direction:r}=e;return{padding:"".concat(t.sizing.scale600," ").concat(t.sizing.scale600," ").concat(t.sizing.scale300," ").concat(t.sizing.scale600),textAlign:"rtl"===r?"right":"left"}})),O=(0,c.zo)("li",(e=>{let{$theme:t}=e;return{display:"flex",alignItems:"center",cursor:"pointer",":hover":{background:t.colors.menuFillHover}}})),T=(0,c.zo)("div",(e=>{let{$theme:t}=e;return{display:"flex",flexShrink:0,height:t.sizing.scale1600,width:t.sizing.scale1600,margin:t.sizing.scale600,borderRadius:"50%",overflow:"hidden",position:"relative"}})),L=(0,c.zo)("div",(e=>{let{$theme:t}=e;return{position:"absolute",top:0,left:0,right:0,bottom:0}})),D=(0,c.zo)("div",(e=>{let{$theme:t}=e;return{display:"flex",alignItems:"center",flexGrow:1,minWidth:"0",minHeight:t.sizing.scale2400,overflow:"hidden",borderBottom:"1px solid ".concat(t.colors.borderOpaque)}})),R=(0,c.zo)("div",(e=>{let{$theme:t,$direction:r}=e;return{minWidth:"0",display:"flex",flexDirection:"column",flexGrow:1,textAlign:"rtl"===r?"right":"left"}})),M=(0,c.zo)("div",{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"}),H=(0,c.zo)("div",(e=>{let{$theme:t}=e;return{display:"flex",flexShrink:0,alignItems:"center",flexDirection:"row",paddingRight:t.sizing.scale800,paddingLeft:t.sizing.scale600}})),U=(0,c.zo)(l.rU,(e=>{let{$theme:t}=e;return{color:t.colors.action,...t.typography.LabelMedium}})),X=e=>{let{onBackClick:t,onCartSelect:r,isMobile:l,mealPlanUUID:c}=e;const X=(0,m.TH)(),{query:E}=(0,x.M)({mealPlanUUID:c,draftOrderPayloadType:{},screenId:a.DY.CARTS_VIEW}),{isCreator:A}=(0,f.Z)(c),F=(0,b.P1)(X,c),{closeSidebarCart:q,closeCartDropdown:V}=(0,h.Lb)(),G=(0,u.gm)(),N=(0,v.Z)();return(0,S.tZ)(d.a,{source:E,loaded:e=>{var a;let{draftOrderPayload:d}=e;const c=null==d?void 0:d.view;return(0,S.BX)($,{$isMobile:l,$isXLB:N,children:[(0,S.BX)(C,{children:[(0,S.tZ)(k,{onClick:e=>{e.stopPropagation(),null==t||t()},children:(0,S.tZ)(i.Z,{})}),(0,S.BX)(z,{children:[(0,S.tZ)(I,{$direction:G,children:null==c?void 0:c.title}),(0,S.tZ)(_,{children:(0,S.tZ)(U,{to:F,onClick:()=>{V(),q()},children:A?(0,S.tZ)(n.v,{id:"go.manage"}):(0,S.tZ)(n.v,{id:"carousel.see_all"})})})]})]}),(0,S.tZ)(o.Z,{children:null!=c&&c.emptyState?(0,S.tZ)(w._,{emptyState:null==c?void 0:c.emptyState}):null==c||null===(a=c.sections)||void 0===a?void 0:a.map(((e,t)=>{var i;return(0,S.BX)(B,{children:[(0,S.tZ)(P,{$direction:G,children:(0,S.tZ)(g.ZP,{text:e.title})}),null===(i=e.rows)||void 0===i?void 0:i.map(((e,t)=>{var i;return(0,S.BX)(O,{onClick:()=>{var i,o;const n=null===(i=e.button)||void 0===i?void 0:i.action;"openCart"===(null==n?void 0:n.type)&&null!=n&&null!==(o=n.openCart)&&void 0!==o&&o.draftOrderUUID&&r(n.openCart.draftOrderUUID,t)},children:[(0,S.BX)(T,{children:[(0,S.tZ)(p.SZ,{richIllustration:e.leadingIllustration}),(0,S.tZ)(L,{})]}),(0,S.BX)(D,{children:[(0,S.BX)(R,{$direction:G,children:[(0,S.tZ)(M,{children:(0,S.tZ)(g.ZP,{text:e.title,whiteSpace:"nowrap"})}),null===(i=e.taglines)||void 0===i?void 0:i.map(((e,t)=>(0,S.tZ)(M,{children:(0,S.tZ)(g.ZP,{text:e,whiteSpace:"nowrap"})},t)))]}),(0,S.tZ)(H,{children:(0,S.tZ)(s.Z,{size:12,color:"primary400"})})]})]},t)}))]},t)}))})]})},loading:()=>(0,S.tZ)(y.ZP,{}),error:e=>(0,S.tZ)(Z.Z,{})})}},49900:(e,t,r)=>{r.d(t,{Z:()=>he});var i=r(77808),o=r(72920),n=r(37725),l=r(73502),a=r(64248),s=r(95073),d=r(68910),c=r(60372),u=r(61587),h=r(95134),p=r(69262),g=r(44335),v=r(71975),m=r(2590),Z=r(30330);const y=i.forwardRef((function(e,t){return(0,Z.tZ)(m.Z,{viewBox:"0 0 8 6",ref:t,...e,children:(0,Z.tZ)("path",{d:"M8 .333v2.534L4 5.933 0 2.867V.333L4 3.4 8 .333z"})})}));var x=r(41494),f=r(47110);const b=(0,a.zo)("div",{position:"relative",zIndex:g.I_.surface}),w=(0,a.zo)("button",(e=>{let{$theme:t}=e;return{cursor:"pointer",border:"none",outline:"none",display:"flex",alignItems:"center",...t.typography.LabelMedium}})),S=(0,a.zo)("span",(e=>{let{$theme:t}=e;return{display:"block",borderBottom:"1px solid transparent",":hover":{borderBottom:"1px solid ".concat(t.colors.contentSecondary)}}})),$=()=>{const{cartViews:e}=(0,p.Z)(),{sidebarCartDropdownVisible:t,setSidebarCartDropdownVisible:r}=(0,s.Lb)(),{toggleIsDropdownOpen:i,dropdownRef:n,isDropdownOpen:l,onCartSelect:a,DropdownWrapperDesktop:d}=(0,v.Z)({isDropdownOpen:t,setIsDropdownOpen:r}),c=e.length;return(0,Z.BX)(b,{ref:n,children:[(0,Z.BX)(w,{"aria-haspopup":"true","aria-expanded":l,onClick:i,children:[(0,Z.tZ)(S,{children:(0,Z.tZ)(o.v,{id:"multicart.carts_with_num",data:{num:c}})}),(0,Z.tZ)(x.Tr,{}),(0,Z.tZ)(y,{rotate:l?180:0,size:9})]}),l?(0,Z.tZ)(d,{children:(0,Z.tZ)(f.Z,{onCartSelect:a,isMobile:!1})}):null]})};var C=r(61477);const k=(0,a.zo)("div",(e=>{let{$theme:t}=e;return{minHeight:t.sizing.scale1400,margin:"0 ".concat(t.sizing.scale800," 0 ").concat(t.sizing.scale300," !important"),display:"flex",justifyContent:"space-between",alignItems:"center"}})),z=(0,a.zo)(h.Z,{position:"static"}),I=e=>{const{totalOrders:t,draftOrders:r}=(0,p.Z)(),{isEditOrder:i}=(0,d.Z)(),o=t>1;return(0,Z.BX)(k,{children:[(0,Z.tZ)(z,{onClick:e.onClose}),0!==t||r.isLoading||i?null:(0,Z.tZ)(C.X,{}),o&&!i?(0,Z.tZ)($,{}):null]})};var _=r(90145),B=r(92807),P=r(91305),O=r(84401);const T=(0,a.zo)("div",(e=>{let{$theme:t}=e;return{borderBottom:"2px solid ".concat(t.colors.borderOpaque),padding:"0 24px",display:"flex",justifyContent:"center"}})),L=(0,a.zo)("button",(e=>{let{$theme:t,$isActive:r}=e;return{color:r?t.colors.contentPrimary:t.colors.contentTertiary,width:"216px",height:"54px",position:"relative",background:"none",outline:"none",border:"none",cursor:"pointer",overflowX:"clip",overflowY:"visible",whiteSpace:"nowrap",textOverflow:"ellipsis",padding:"0 16px","::after":{display:r?"unset":"none",borderBottom:"2px solid ".concat(t.colors.contentPrimary),content:'""',position:"absolute",bottom:"-2px",left:"0",width:"100%"}}})),D=()=>{const{cartViews:e,activeDraftOrderUUID:t,setActiveDraftOrder:r}=(0,p.Z)();if(e.length<2)return null;const i=e[0],o=e[1];return(0,Z.BX)(T,{children:[(0,Z.tZ)(L,{onClick:()=>{r(null==i?void 0:i.draftOrderUUID)},$isActive:t===(null==i?void 0:i.draftOrderUUID),children:(0,Z.tZ)("span",{children:null==i?void 0:i.title})}),(0,Z.tZ)(L,{onClick:()=>{r(null==o?void 0:o.draftOrderUUID)},$isActive:t===(null==o?void 0:o.draftOrderUUID),children:(0,Z.tZ)("span",{children:null==o?void 0:o.title})})]})};var R=r(74978),M=r(84249),H=r(89615),U=r(80554),X=r(54949),E=r(78506),A=r(49629),F=r(98854),q=r(60697),V=r(75890),G=r(80399),N=r(90120),Q=r(54932),W=r(9250),Y=r(92202),j=r(37800),K=r(84312),J=r(81416),ee=r(81208),te=r(60061),re=r(76722),ie=r(46816),oe=r(52449),ne=r(27531),le=r(44544);const ae=(0,a.zo)("div",(e=>{let{$theme:t}=e;return{height:"100%",display:"flex",flexDirection:"column",alignItems:"stretch",":first-child > :is(div, ul)":{margin:"0 ".concat(t.sizing.scale800)}}})),se=(0,a.zo)("div",{position:"sticky",bottom:0,margin:"0 !important"}),de=(0,a.zo)("div",{display:"flex"}),ce=(0,a.zo)("span",(e=>{let{$theme:t}=e;return t.typography.ParagraphMedium})),ue=(0,a.zo)("div",{flexGrow:1}),he=e=>{let{startShoppingRedirect:t}=e;const r=(0,n.k6)(),a=(0,N.Z)(),h=(0,n.UO)(),g=(0,ee.Z)({encodedStoreUuid:null==h?void 0:h.encodedStoreUuid}),v=(0,oe.Z)(),{inCartActionsXP:m}=(0,E.Z)(),{sidebarCartVisible:y,sidebarCartIn:f,sidebarCartClosing:b,closeSidebarCart:w}=(0,s.Lb)({transitionMS:500}),{hasGroupOrder:S,isDraftOrderCreator:$,isDraftOrderParticipant:C,storeUuid:k,isBillSplitOrder:z,isDraftOrderCartLocked:T,creatorName:L,isEditOrder:he}=(0,d.Z)(),pe="postmates"===(0,O.Z)(),{serverCart:ge}=(0,R.iQ)(),{isInCartTabTreatment:ve,totalOrders:me,draftOrders:Ze,setActiveDraftOrder:ye,activeDraftOrderUUID:xe,currentStoreDraftOrderUUID:fe}=(0,p.Z)(),be=(0,F.fw)(),we=Boolean(be),Se=(0,te.Z)(),$e=Boolean(Se),{isManagingGroupOrder:Ce}=(0,Y.Z)(),ke=(0,ie.ZP)(),ze=0===me&&!Ze.isLoading&&!he,Ie=!y&&!f,_e=!(0,P.Z)()||!Ie,{store:Be}=(0,ne.Z)(k,{cacheOnly:!_e});return(0,Q.Z)(),(0,M.Z)(y),(0,re.Z)({cartOpen:y&&f,store:Be,draftOrder:ge}),(0,i.useEffect)((()=>{b&&xe&&fe&&ye(fe||"")}),[b,fe,ye,xe,g]),Ie?null:(0,Z.tZ)(K.Z,{messageKey:"cart-drawer",children:(0,Z.tZ)(l.Z,{isOpen:y&&f,onClose:w,overrides:{Close:{style:{display:"none"}},DrawerContainer:{style:{width:"".concat(478,"px")}},DrawerBody:{style:{marginTop:0,marginBottom:0,marginLeft:0,marginRight:0}}},children:Ce?(0,Z.tZ)(j.Z,{}):(0,Z.BX)(ae,{"data-test":"cart",children:[(0,Z.tZ)(I,{onClose:()=>{w(),ke("eats:close_cart_cta")}}),ve?(0,Z.tZ)(D,{}):null,ze?(0,Z.tZ)(G.Z,{onClick:()=>{w(),t&&r.push(a),ke("eats:start_shopping_cta_click")}}):(0,Z.tZ)(U.Z,{store:Be,draftOrder:ge,loaded:(e,t)=>{var r;return(0,Z.BX)(Z.HY,{children:[(0,Z.BX)("div",{children:[T?(0,Z.tZ)(A.c,{children:(0,Z.tZ)(ce,{children:$?(0,Z.tZ)(o.v,{id:"go.unlock_cart_warning_text_2"}):(0,Z.tZ)(o.v,{id:"go.creator_order_locked_description",data:{creatorName:L}})})}):null,(0,Z.tZ)(W.Z,{store:e,onCartClose:w,onClearCart:w,cartActionsType:"dropdown"}),(0,Z.tZ)(le.C,{}),m?null:(0,Z.BX)(de,{children:[(0,Z.tZ)(_.Z,{source:"cart",onClick:w}),!e.isOpen||S||pe||null!==(r=Be.data)&&void 0!==r&&r.isGroupOrderingDisabled?null:(0,Z.BX)(Z.HY,{children:[(0,Z.tZ)(x.sA,{}),(0,Z.tZ)(B.Z,{store:Be})]}),$?(0,Z.BX)(Z.HY,{children:[(0,Z.tZ)(x.sA,{}),(0,Z.tZ)(H.Z,{})]}):null]}),we?(0,Z.tZ)(F.T0,{$spaceBefore:24}):null,$e?(0,Z.tZ)(J.Q,{$spaceBefore:24}):null,(0,Z.tZ)(q.Z,{})]}),S?(0,Z.BX)("div",{children:[(0,Z.tZ)(X.Z,{gutterWidth:16}),(0,Z.tZ)(c.Z,{gutterWidth:16,showAddGuestsBtn:!1,showFacePile:!0,showRemoveParticipantButton:!0})]}):(0,Z.tZ)(u.Z,{onClearCart:w,disableGroupOrder:!0,quantitySelectType:"picker"}),(0,Z.tZ)(ue,{}),!C||v&&z?(0,Z.tZ)(se,{children:(0,Z.tZ)(V.Z,{isMobile:!1,store:e})}):null]})}})]})})})}},47110:(e,t,r)=>{r.d(t,{Z:()=>J});var i=r(18898),o=r(77808),n=r(37725),l=r(92346),a=r(64248),s=r(49147),d=r(41494),c=r(13428),u=r(76736),h=r(2590),p=r(30330);const g=o.forwardRef((function(e,t){return(0,p.tZ)(h.Z,{viewBox:"0 0 22 22",ref:t,...e,children:(0,p.tZ)("path",{d:"M15.801 12.5c-4 0-7.2-3.2-7.2-7.2 0-2.1.9-3.9 2.2-5.2-6-.1-10.7 4.7-10.7 10.5s4.7 10.5 10.5 10.5c5.7 0 10.6-4.6 10.5-10.7-1.4 1.2-3.3 2.1-5.3 2.1z"})})}));var v=r(45055),m=r(69591),Z=r(31394),y=r(19785),x=r(26324),f=r(99159),b=r(74978);const w=(0,a.zo)("div",(e=>{let{$isMobile:t}=e;return{display:"flex",maxWidth:t?"calc(100vw - 84px)":"315px",alignItems:"center"}})),S=(0,a.zo)("div",(()=>({position:"relative",height:"64px",width:"64px",flexShrink:0}))),$=(0,a.zo)("div",(e=>{let{$size:t}=e;return{height:"".concat(t,"px"),width:"".concat(t,"px"),flexShrink:0,borderRadius:"50%",overflow:"hidden",position:"relative"}})),C=(0,a.zo)("div",(()=>({position:"absolute",top:0,left:0}))),k=(0,a.zo)("div",(()=>({position:"absolute",bottom:0,right:0}))),z=(0,a.zo)("div",{position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, .5)",display:"flex",alignItems:"center",justifyContent:"center"}),I=(0,a.zo)(c.Z,(e=>{let{$size:t}=e;return{height:"".concat(t,"px"),width:"".concat(t,"px"),objectFit:"cover",flexShrink:0}})),_=(0,a.zo)("div",(e=>{let{$theme:t,$direction:r}=e;return{justifyContent:"center",display:"flex",flexDirection:"column",minWidth:"0",textAlign:"rtl"===r?"right":"left"}})),B={whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",maxWidth:"500px"},P=(0,a.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.LabelMedium,color:t.colors.contentPrimary,...B}})),O=(0,a.zo)("div",{display:"flex",alignItems:"center"}),T=(0,a.zo)("div",{display:"flex",alignItems:"center",flexDirection:"row"}),L=(0,a.zo)("div",{display:"flex",alignItems:"center",flexDirection:"row"}),D=(0,a.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphSmall,backgroundColor:t.colors.backgroundInversePrimary,borderRadius:"50%",color:t.colors.contentInversePrimary,height:"24px",width:"24px",marginRight:"16px",display:"flex",justifyContent:"center",alignItems:"center"}})),R=(0,a.zo)("div",(e=>{let{$theme:t,$size:r=0,$isHovering:i,$isMobile:o}=e;return{width:"".concat(r+2,"px"),height:"".concat(r+2,"px"),borderRadius:"50%",position:"absolute",bottom:0,right:0,...i?{background:o?t.colors.menuFillHover:t.colors.backgroundSecondary}:{background:t.colors.backgroundPrimary}}})),M=e=>{let t,{overlayIcon:r,size:i=24}=e;if("WEATHER_MOON"===r)t=(0,p.tZ)(g,{color:"white",size:i});else{if("PERSON_MULTIPLE"!==r)return null;t=(0,p.tZ)(u.Z,{color:"white",size:i})}return(0,p.tZ)(z,{children:t})},H=e=>{let{size:t,storeImage:r,title:i,overlayIcon:o,overlayIconSize:n}=e;return(0,p.BX)($,{$size:t,children:[(0,p.tZ)(I,{$size:t,src:r,alt:i}),(0,p.tZ)(M,{overlayIcon:o,size:n})]})},U=e=>{let{storeImages:t,title:i,overlayIcon:o,isHovering:n}=e;const{isMobile:l}=(0,f.hU)(),{isBundledOrder:a}=(0,b.Dz)();if(t.length>1)return(0,p.BX)(S,{children:[(0,p.tZ)(C,{children:(0,p.tZ)(H,{storeImage:t[0],title:i,size:40,overlayIcon:o,overlayIconSize:14})}),(0,p.BX)(k,{children:[a?(0,p.tZ)(R,{$size:40,$isHovering:n,$isMobile:l}):null,(0,p.tZ)(H,{storeImage:t[1],title:i,size:40,overlayIcon:o,overlayIconSize:14})]})]});const d=t[0]||(0,s.pZ)(r(67724));return(0,p.tZ)(H,{storeImage:d,title:i,size:64,overlayIcon:o})},X=e=>{let{cartView:t,isMobile:r,isHovering:i}=e;const{storeImageUrls:o,title:n,tagline1:l,tagline2:a,tagline3:s,overlayIcon:c,itemCount:u}=t,h=(0,Z.gm)();return(0,p.BX)(p.HY,{children:[(0,p.BX)(w,{$isMobile:r,children:[(0,p.tZ)(U,{storeImages:o,overlayIcon:c,title:n,isHovering:i}),(0,p.tZ)(d.ZP,{$width:"16px"}),(0,p.BX)(_,{$direction:h,children:[(0,p.tZ)(P,{children:n}),(0,p.tZ)(v.ZP,{$height:2}),(0,p.tZ)(x.Z,{badge:l,baseFont:"ParagraphSmall",truncateTextWithEllipsis:!0}),(0,p.tZ)(v.ZP,{$height:2}),(0,p.tZ)(x.Z,{badge:a,baseFont:"ParagraphSmall",truncateTextWithEllipsis:!0}),s?(0,p.BX)(p.HY,{children:[(0,p.tZ)(v.ZP,{$height:4}),(0,p.tZ)(y.ZP,{text:s})]}):null]})]}),(0,p.BX)(O,{children:[void 0!==u?(0,p.tZ)(L,{children:(0,p.tZ)(D,{children:u})}):null,(0,p.tZ)(T,{children:(0,p.tZ)(m.Z,{size:12,color:"primary400"})})]})]})};var E=r(83640),A=r(27544);const F=()=>{var e;const t=null===(e=(0,E.O)().data)||void 0===e?void 0:e.topBanner;return(0,p.tZ)(A.ZP,{badge:t,padding:"20px 16px"})};var q=r(78312),V=r(36012),G=r(26602),N=r(5665),Q=r(15194),W=r(40968);const Y=(0,a.zo)("ul",{listStyle:"none",margin:0,padding:0}),j=(0,a.zo)("li",(e=>{let{$theme:t,$isMobile:r}=e;return{padding:"16px",whiteSpace:"nowrap",":hover":{background:r?t.colors.menuFillHover:t.colors.backgroundSecondary},display:"flex",justifyContent:"space-between",cursor:"pointer",borderBottom:"1px solid ".concat(t.colors.borderOpaque),":last-of-type":{borderBottom:"none"}}})),K=e=>{let{isMobile:t,index:r,cartView:o,onCartSelect:a,setCurrentCartsView:s,setMealPlanUUID:d}=e;const c=(0,n.k6)(),u=(0,l.TH)(),h=i.useRef(null),g=(0,N.Z)(h),{setActiveCartViewForRepeatOrder:v}=(0,V.Z)();return(0,p.tZ)(j,{ref:h,role:"menuitem",$isMobile:t,onClick:e=>{switch(o.action){case"OPEN_CHECKOUT":{var i,n,l,h,p;const e=(null===(i=o.metadata)||void 0===i||null===(n=i.openCheckoutMetadata)||void 0===n?void 0:n.draftOrderUUID)||(null===(l=o.metadata)||void 0===l||null===(h=l.openCheckoutMetadata)||void 0===h||null===(p=h.bundleGroupMetadata)||void 0===p?void 0:p.primaryDraftOrderUUID);e&&a(e,r);break}case"OPEN_REPEAT_ORDER_VIEW":if(v(o),t)return void c.push((0,G.ejR)(u));s("repeat_group_order"),e.stopPropagation();break;case"OPEN_MEAL_PLAN_VIEW":{var g,m;const r=null===(g=o.metadata)||void 0===g||null===(m=g.openMealPlanViewMetadata)||void 0===m?void 0:m.mealPlanUUID;if(t)return void c.push((0,W.Q8)(u,r));d(r),s("meal_plan"),e.stopPropagation();break}default:a(o.draftOrderUUID,r)}},children:(0,p.tZ)(X,{isMobile:t,isHovering:g,cartView:o})})},J=e=>{var t,r;const i=null===(t=(0,E.O)())||void 0===t||null===(r=t.data)||void 0===r?void 0:r.carts,[n,l]=(0,o.useState)(null),[a,s]=(0,o.useState)(""),d=(0,o.useCallback)((()=>(0,p.BX)(p.HY,{children:[(0,p.tZ)(F,{}),(0,p.tZ)(Y,{role:"menu",children:null==i?void 0:i.map(((t,r)=>(0,p.tZ)(K,{index:r,isMobile:e.isMobile,cartView:t,setCurrentCartsView:l,setMealPlanUUID:s,onCartSelect:e.onCartSelect},t.draftOrderUUID)))})]})),[i,e]);return e.isMobile?d():"repeat_group_order"===n?(0,p.tZ)(q.Z,{onBackClick:()=>{l(null)},onCartSelect:e.onCartSelect}):"meal_plan"===n?(0,p.tZ)(Q.Z,{mealPlanUUID:a,onBackClick:()=>{l(null),s("")},onCartSelect:e.onCartSelect}):d()}},71975:(e,t,r)=>{r.d(t,{Z:()=>u});var i=r(77808),o=r(64248),n=r(78432),l=r(69262),a=r(46816),s=r(73673),d=r(44335);const c=(0,o.zo)("div",(e=>{let{$theme:t}=e;return{background:t.colors.menuFill,boxShadow:"0px 4px 16px rgba(0, 0, 0, 0.12)",marginTop:"8px",right:"8px",position:"absolute",width:"420px",borderRadius:"16px",maxHeight:"505px",overflow:"auto",zIndex:d.I_.foreground}})),u=e=>{let{isDropdownOpen:t,setIsDropdownOpen:r}=e;const{totalOrders:o,draftOrderUUIDs:d,setActiveDraftOrder:u}=(0,l.Z)(),h=(0,n.Z)(),p=(0,a.ZP)(),g=i.useRef();(0,s.Z)(g,(()=>{r(!1)}),t);const v=i.useCallback((()=>{const e=!t;r(e),e&&p("eats:carts_list_view",{multicart:{numTotalCarts:o,draftOrderUuids:d}})}),[t,r,p,o,d]),m=i.useCallback(((e,t)=>{u(e),h(e,t),r(!1)}),[u,h,r]);return{toggleIsDropdownOpen:v,dropdownRef:g,isDropdownOpen:t,onCartSelect:m,DropdownWrapperDesktop:c}}},40530:(e,t,r)=>{r.d(t,{Z:()=>S});var i=r(77808),o=r(46091),n=r(81922),l=r(37725),a=r(25301),s=r(51294),d=r(82990),c=r(46816),u=r(26602),h=r(20480),p=r(35117),g=r(20312),v=r(38652),m=r(41138),Z=r(50331),y=r(37977),x=r(7410),f=r(4982),b=r(14517),w=r(92346);const S=e=>{let{initialQuery:t,onSuggestionSelected:r,initialIsClosed:S,searchTypeaheadPlaceholder:$,vertical:C,isMultiVerticalDesktop:k}=e;const z=(0,w.TH)(),I=(0,l.k6)(),_=(0,a.T)(),B=(0,h.Z)(),P=(0,c.ZP)(),O=(0,s.Z)("getSearchSuggestionsV1"),T=(0,f.Z)("clear_search_results_cache_on_location_change"),L=(0,o.qp)({...v.J.eats_web_eater_home_search_home_style,defaultValue:""}),D=(0,g.t)({dropPastOrders:k||""!==L},k?{}:{queryObserverOptions:{enabled:!1}}),R=(0,y.Z)(),M=(0,o.ip)({...v.J.cs_other_entrypoint_xlb,defaultValue:!1}),H=(0,f.Z)("can_enable_cs_other_entrypoint_xlb"),{storeDishItemsXP:U}=(0,m.Z)(),{embeddedFeatures:{xlbHeaderBridge:X}}=(0,n.v)((e=>{let{embeddedFeatures:t}=e;return{embeddedFeatures:t}})),E=(0,n.v)((e=>{let{multiVertical:t}=e;return t.verticalList})),{setLastClickedPartialStore:A}=i.useContext(p.C),{userQuery:F}=(0,u.RAN)(z,["userQuery"]),q=i.useCallback((async e=>{if(P("eats:search_end",{userQuery:e.title,page:z.pathname,hasDeliveryLocation:Boolean(B),mvsMeta:{verticalList:E.map((e=>e.verticalType)).join(","),selectedVertical:C||x.g},searchType:"searchFor"!==e.type&&"text"!==e.type||!e.title?"suggestion":"manual"}),r&&r(),!e.store||"store"!==e.type&&"croStore"!==e.type||A({heroImageUrl:e.store.heroImageUrl,title:e.store.title,storeUuid:e.store.uuid}),"store"===e.type&&e.store)I.push((0,u.gfM)(z,{storeSlug:e.store.slug,storeUuid:e.store.uuid}));else if("croStore"===e.type&&e.store){var t;P("eats:search_bar_past_order_store_click",{storeUuid:null===(t=e.store)||void 0===t?void 0:t.uuid})}else"searchFor"!==e.type&&"text"!==e.type||!e.title||I.push((0,u.Xqq)(z,{userQuery:e.title,searchSource:Z.xH.SEARCH_BAR,searchType:"control"!==U?Z.Sc.GLOBAL_SEARCH:void 0}))}),[P,z,B,E,C,r,A,I,U]),V=i.useCallback(((e,t)=>{q({title:e,type:"searchFor"})}),[q]),G=i.useCallback((async e=>{if(!e){if(""!==L)return[];let e;if(D.isFetched){var t,r;if(k)return((null===(r=D.data)||void 0===r?void 0:r.verticalSearchHomeResults)||{})[C||x.g];e=null===(t=D.data)||void 0===t?void 0:t.searchHistory}else{const t=await D.refetch().then((e=>e.data)),r=null==t?void 0:t.verticalSearchHomeResults;if(k)return(r||{})[C||x.g];e=null==t?void 0:t.searchHistory}return e||[]}const{date:i,startTime:o,endTime:n}=(0,u.RAN)(z,["date","startTime","endTime"]);let l=await O({userQuery:e,date:i,startTime:Number(o),endTime:Number(n),vertical:C});return P("eats:global_search_suggestions_viewed",{mvsMeta:{verticalList:E.map((e=>e.verticalType)).join(","),selectedVertical:C||x.g}}),!R||M&&H?l:l.filter((e=>{var t;return!(null!==(t=e.store)&&void 0!==t&&t.actionUrl)}))}),[z,O,C,P,E,R,M,H,L,D,k]),N=i.useCallback((e=>{let{results:t,query:r}=e;return 0===t.length?r?_("shared.noSuggestionsForTerm",{searchTerm:r}):"":r?_("components.MarketplaceSearch.resultsDescription",{numResults:t.length,searchTerm:r}):_("shared.searchResultsCount",{resultsCount:t.length})}),[]),{query:Q,results:W,getLabelProps:Y,getInputProps:j,getMenuProps:K,getItemProps:J,reset:ee,openMenu:te,isOpen:re,highlightedIndex:ie,clearCacheAndRefetchResults:oe}=(0,d.Z)({id:"search-suggestions-typeahead",initialQuery:t||F,fetchResults:G,initialIsClosed:S,onResultSelected:q,getQueryFromResult:e=>(null==e?void 0:e.title)||"",onEnterKeyWithNoSelectedResult:V,getA11yStatusMessage:N,fetchResultsTrigger:C}),ne=$||_("shared.searchPlaceholder");return i.useEffect((()=>{T&&oe&&oe()}),[B]),{query:Q,results:W,isOpen:re,getLabelProps:Y,getInputProps:j,getMenuProps:K,getItemProps:J,openMenu:te,reset:ee,highlightedIndex:ie,placeholder:X?"":ne,getSuggestionAction:e=>["text","searchHistory","popularCategory","searchFor","searchText"].includes(e.type)?{type:"link",to:(0,u.Xqq)(z,{vertical:C||x.g,userQuery:e.searchTerm?e.searchTerm:e.title,searchSource:Z.xH.SEARCH_SUGGESTION,searchType:"control"!==U?Z.Sc.GLOBAL_SEARCH:void 0,...B?{deliveryLocation:B}:{}})}:"store"===e.type&&e.store?function(e,t,r){return e.actionUrl?t?{type:"anchor",href:(0,b.W)(e.actionUrl)}:{type:"anchor",href:e.actionUrl}:{type:"link",to:(0,u.gfM)(r,{storeSlug:e.slug,storeUuid:e.uuid,newQueryParams:{searchSource:Z.xH.SEARCH_SUGGESTION}})}}(e.store,R,z):"croStore"===e.type&&e.store?{type:"link",to:(0,u.gfM)(z,{storeSlug:e.store.slug,storeUuid:e.store.uuid})}:{type:"unknown"}}}},85399:(e,t,r)=>{r.d(t,{ZP:()=>ot});var i=r(77808),o=r(18898),n=r(73086),l=r(64248),a=r(41494),s=r(93046),d=r(17812),c=r(4845),u=r(20312),h=r(70621),p=r(44335),g=r(37725),v=r(92346),m=r(25301),Z=r(25858),y=r(20619),x=r(40324),f=r(68474),b=r(22021),w=r(87655),S=r(3599),$=r(20480),C=r(56105),k=r(86724),z=r(67424),I=r(49900),_=r(90004),B=r(39718),P=r(6593),O=r(23037),T=r(26602),L=r(40530),D=r(84401),R=r(52487),M=r(45055),H=r(25737),U=r(19900),X=r(1240),E=r(30330);const A=(0,l.zo)("ul",(e=>{let{$theme:t}=e;return{width:"100%"}})),F=(0,l.zo)("li",(e=>({backgroundColor:"transparent",height:"64px",cursor:"pointer",display:"flex",alignItems:"center",outline:"none",...e.$showBackground?{":hover":{background:e.$theme.colors.menuFillHover}}:{},transition:"opacity .45s .5s,visibility .45s .5s,transform .45s ease .3s",transform:"translateY(0)",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"}))),q=function(e){var t;if(null===(t=e.suggestions)||void 0===t||!t.length)return null;const r=e.vertical===X.Cf.ALCOHOL?12:6;let i;return e.query?i=e.suggestions.slice(0,7):(i=e.suggestions.slice(0,r),i.length>1&&"sectionTitle"===i[i.length-1].type&&i.pop()),(0,E.tZ)(A,{...e.getMenuProps(),children:i.map(((t,r)=>{const o=r<i.length-1,n=e.getSuggestionAction(t);return(0,E.tZ)(F,{...e.getItemProps({index:r,disabled:"sectionTitle"===t.type}),onClick:()=>{e.onItemClick(t,r)},$showBackground:"sectionTitle"!==t.type,children:"sectionTitle"===t.type?(0,E.tZ)(U.L1,{title:t.title},r):"text"===t.type||"searchText"===t.type?(0,E.tZ)(U.rG,{item:{title:t.title,iconType:"search",url:n},hasBorder:o}):"searchHistory"===t.type?(0,E.tZ)(U.rG,{item:{title:t.title||"",iconType:"clock",eventData:void 0,url:n},hasBorder:o},r):"store"===t.type||"croStore"===t.type?(0,E.tZ)(H.Z,{store:t.store,hasBorder:o,url:n}):"popularCategory"===t.type?(0,E.tZ)(U.rG,{item:{title:t.title||"",url:n,iconType:"search"},hasBorder:o},r):null},r)}))})};var V=r(85360),G=r(72920),N=r(4942),Q=r(34197),W=r(13050),Y=r(7410),j=r(81922),K=r(71938),J=r(46816);const ee=(0,l.zo)("ul",(e=>{let{$theme:t}=e;return{width:"208px",zIndex:p.I_.foreground,background:t.colors.menuFill,position:"absolute",left:"auto",right:0,borderColor:t.colors.borderOpaque,borderStyle:"solid",borderWidth:"0 1px 1px 1px",boxShadow:t.shadows.box,top:"28px"}})),te=(0,l.zo)("li",(e=>{let{$theme:t,$hasBorder:r}=e;return{display:"flex",alignItems:"center",justifyContent:"space-between",flexGrow:1,height:"52px",overflow:"hidden",boxSizing:"border-box",cursor:"pointer",":hover":{background:t.colors.menuFillHover},...r?{borderBottom:"1px solid ".concat(t.colors.borderOpaque)}:{}}})),re=(0,l.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.LabelMedium,display:"flex",alignItems:"center",padding:"0 16px"}})),ie=(0,l.zo)("div",{display:"flex",alignItems:"flex-end",padding:"0 16px"}),oe=e=>{let{closeDropdown:t,analyticsData:r}=e;const i=(0,v.TH)(),n=(0,g.k6)(),l=(0,J.ZP)(),{multiVertical:a}=(0,j.v)((e=>{let{multiVertical:t}=e;return{multiVertical:t}})),s=(0,T.RAN)(i,["vertical"]).vertical||Y.g,d=a.verticalList,c=o.useCallback((e=>()=>{n.replace((0,T.xoo)(i,e)),t&&t(),l("eats:search_vertical_popover_applied",{mvsMeta:r})}),[r,t,l,n,i]);return o.useEffect((()=>{l("eats:search_vertical_popover_view",{mvsMeta:r})}),[]),(0,E.tZ)(ee,{children:d.map(((e,t)=>(0,E.tZ)("div",{children:(0,E.BX)(te,{$hasBorder:t<d.length-1,onClick:c(e.verticalType),children:[(0,E.tZ)(re,{children:e.title}),e.verticalType===s?(0,E.tZ)(E.HY,{children:(0,E.tZ)(ie,{children:(0,E.tZ)(K.Z,{size:18})})}):null]})},t)))})};var ne=r(73673),le=r(41583),ae=r(27619);const se=(0,l.zo)("div",(e=>{let{$theme:t}=e;return{display:"flex",flexDirection:"row",borderRadius:t.borders.pillButtonBorderRadius,backgroundColor:t.colors.backgroundPrimary,alignItems:"center",textAlign:"center",color:t.colors.contentPrimary,height:"32px",padding:"0 16px",maxWidth:"30%",overflow:"hidden",cursor:"pointer"}})),de=(0,l.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.LabelMedium,textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}})),ce=e=>{var t;const r=(0,m.T)()("multiVerticalSearch.PillButtonText",{vertical:(null===(t=e.selectedVertical)||void 0===t?void 0:t.title)||""}),o=(0,J.ZP)();return i.useEffect((()=>{o("eats:search_vertical_dropdown_view",{mvsMeta:e.analyticsData})}),[]),(0,E.BX)(E.HY,{children:[(0,E.BX)(se,{onClick:()=>{e.toggleDropdown&&e.toggleDropdown(),o("eats:search_vertical_dropdown_tapped",{mvsMeta:e.analyticsData})},children:[(0,E.tZ)(de,{children:r}),(0,E.tZ)(a.sA,{}),(0,E.tZ)(ae.Z,{size:8})]}),(0,E.tZ)(a.sA,{})]})},ue=(0,l.zo)("div",(e=>{let{$theme:t,$isFocused:r}=e;return{...t.typography.LabelMedium,backgroundColor:t.colors.inputFill,color:t.colors.inputText,width:"100%",display:"flex",position:"absolute",height:"48px",borderRadius:t.borders.pillButtonBorderRadius,alignItems:"center",right:"0",transform:"translateY(-50%)",...r?{maxWidth:"".concat(1494,"px"),minWidth:"".concat(600,"px")}:{maxWidth:"".concat(1036,"px"),minWidth:"".concat(180,"px")},transition:"min-width 400ms ease, max-width 400ms ease"}})),he=(0,l.zo)("div",(e=>({display:"flex",flexShrink:0,alignSelf:"center"}))),pe=(0,l.zo)("input",(e=>({flex:1,backgroundColor:e.$theme.colors.inputFill,...e.$width?{width:"".concat(e.$width,"px")}:{},appearance:"none",outline:"none","::placeholder":{...e.$theme.typography.LabelMedium,color:e.$theme.colors.contentSecondary},textOverflow:"ellipsis",overflow:"hidden"}))),ge=(0,l.zo)("button",(e=>{let{$theme:t}=e;return{...t.typography.LabelMedium,color:t.colors.contentTertiary,cursor:"pointer"}})),ve=(0,l.zo)("div",(e=>{let{$theme:t}=e;return{width:"1px",margin:"0 16px",backgroundColor:t.colors.borderOpaque}})),me=(0,l.zo)(Q.Z,{cursor:"pointer"}),Ze=e=>{var t,r;const{showMultiVerticalSearchDropdown:o}=(0,W.Z)(),n=i.useRef(null),l=(0,v.TH)(),[s,d]=i.useState(!1),[c,u]=i.useState(!1),h=i.useRef(null),{value:p,...g}=e.getInputProps({onFocus:()=>{e.onFocus&&e.onFocus(),e.setExpandedState&&e.setExpandedState(),u(!0)},onBlur:()=>u(!1),ref:h});i.useEffect((()=>{e.expandedState&&h.current&&h.current.focus()}),[e.expandedState]);const m=e.expandedState?e.query.length>0:e.query.length>0&&o&&!e.isSearchFeed,Z=(0,T.RAN)(l,["vertical"]).vertical||Y.g,y=null===(t=e.verticalLists)||void 0===t?void 0:t.find((e=>e.verticalType===Z)),x=y&&!e.expandedState&&o&&e.isSearchFeed&&!e.isCategoryPage,f=()=>d(!1);(0,ne.Z)(n,f,s);const b={verticalList:null===(r=e.verticalLists)||void 0===r?void 0:r.map((e=>e.verticalType)).join(","),type:"DROPDOWN",surface:"SEARCH_RESULTS",searchTermText:e.query,previousSelectedVertical:(null==y?void 0:y.title)||Y.g,selectedVertical:(null==y?void 0:y.title)||Y.g};return(0,E.BX)(E.HY,{children:[(0,E.BX)(ue,{$isFocused:e.expandedState||c,children:[(0,E.tZ)(a.IQ,{}),(0,E.tZ)(he,{children:(0,E.tZ)(N.Z,{size:14})}),(0,E.tZ)(a.ZP,{$width:"16px"}),(0,E.tZ)(pe,{...g,value:p||"",type:"text",autoComplete:"off",name:"searchTerm",placeholder:e.placeholder,$width:e.queryWidth,onKeyDown:t=>{t.keyCode===le.q7&&e.handleEnterClick&&e.query.length>0&&e.handleEnterClick()}}),(0,E.tZ)(a.ZP,{$width:"8px"}),m?(0,E.BX)(E.HY,{children:[(0,E.tZ)(ge,{type:"button",onClick:()=>{e.reset(),h.current&&(h.current.focus(),e.setExpandedState&&e.setExpandedState())},children:(0,E.tZ)(G.v,{id:"shared.clear"})}),(0,E.tZ)(a.IQ,{})]}):null,x?(0,E.tZ)(ce,{selectedVertical:y,toggleDropdown:()=>d((e=>!e)),analyticsData:b}):null,e.onClose&&e.query.length>0?(0,E.tZ)(ve,{}):null,e.onClose?(0,E.tZ)(me,{onClick:e.onClose}):null]}),s?(0,E.tZ)("div",{ref:n,children:(0,E.tZ)(oe,{closeDropdown:f,analyticsData:b})}):null]})};var ye=r(50331),xe=r(82395),fe=r(2452),be=r(22099),we=r(52431),Se=r(65236),$e=r(90997),Ce=r(46437);const ke=(0,l.zo)("div",{display:"block"}),ze=(0,l.zo)("div",{width:"33%",display:"inline-block",verticalAlign:"top",paddingRight:"12px",boxSizing:"border-box"}),Ie=(0,l.zo)("img",{height:"60px",width:"60px",borderRadius:"100px",objectFit:"cover",display:"inline-block"}),_e=(0,l.zo)("div",{marginBottom:"16px",width:"33%",height:"90px",display:"inline-block",verticalAlign:"top"}),Be=(0,l.zo)("div",{display:"block",width:"300px"}),Pe=(0,l.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.LabelSmall,textAlign:"center",margin:"0 2px"}})),Oe=(0,l.zo)("div",{textAlign:"center"}),Te=function(e){const t=(0,v.TH)(),r=(0,m.T)(),o=(0,J.ZP)(),n=(0,i.useCallback)(((e,t,r)=>{o("eats:zero_state_search_suggestions_mc_clicked",{multiColumnZeroStateSearchItemClick:{columnTitle:e,suggestion:t,suggestionPosition:r}})}),[o]);return(0,i.useEffect)((()=>{o("eats:zero_state_search_suggestions_mc_view",{multiColumnZeroState:{column1Title:e.searches.searchHeading,column1Suggestion:e.searches.searches.map(((e,t)=>e.title)),column2Title:e.searches.middleRowHeading,column2Suggestion:e.searches.middleRow.map(((e,t)=>e.storeUuid)),column3Title:e.searches.categoriesHeading,column3Suggestion:e.searches.categories.map(((e,t)=>e.title))}})}),[o,e.searches.middleRowHeading,e.searches.searchHeading,e.searches,r,e.searches.categoriesHeading]),(0,E.BX)(ke,{children:[(0,E.BX)(ze,{children:[(0,E.tZ)(U.L1,{title:e.searches.searchHeading}),e.searches.searches&&e.searches.searches.map(((r,i)=>(0,E.tZ)(U.rG,{onClick:()=>{e.onItemClick(),n(e.searches.searchHeading,r.title,i)},item:{title:r.title||"",iconType:"clock",eventData:void 0,url:{type:"link",to:(0,T.Xqq)(t,{vertical:"ALL",userQuery:r.title||"",searchSource:e.searches.hasRecentSearches?ye.xH.SEARCH_SUGGESTION:void 0})}},hasBorder:!1},i)))]}),e.searches.middleRow.length?(0,E.BX)(ze,{children:[(0,E.tZ)(U.L1,{title:e.searches.middleRowHeading}),e.searches.middleRow.map(((r,i)=>(0,E.tZ)(Ce.Z,{onClick:()=>{e.onItemClick(),n(e.searches.middleRowHeading,r.storeUuid,i)},store:{...r,uuid:r.storeUuid,slug:r.storeSlug,categories:r.categories||[]},hasBorder:!1,url:r.actionUrl||(0,T.gfM)(t,{storeSlug:r.storeSlug,storeUuid:r.storeUuid})},r.storeUuid)))]}):null,(0,E.BX)(ze,{children:[(0,E.tZ)(U.L1,{title:e.searches.categoriesHeading}),(0,E.tZ)(Be,{children:e.searches.categories.map(((r,i)=>(0,E.tZ)($e.rU,{to:(0,T.Xqq)(t,{userQuery:r.title}),onClick:()=>{e.onItemClick(),n(e.searches.categoriesHeading,r.title,i)},children:(0,E.BX)(_e,{children:[(0,E.tZ)(Oe,{children:(0,E.tZ)(Ie,{src:r.iconUrl})}),(0,E.tZ)(Pe,{children:r.title})]})},i)))})]})]})},Le=(0,l.zo)("div",(e=>{let{$theme:t,$isFocused:r}=e;return{...t.typography.LabelMedium,backgroundColor:t.colors.inputFill,color:t.colors.inputText,width:"100%",display:"flex",position:"absolute",height:"48px",borderRadius:t.borders.pillButtonBorderRadius,alignItems:"center",right:"0",transform:"translateY(-50%)",...r?{maxWidth:"".concat(1494,"px"),minWidth:"".concat(600,"px")}:{maxWidth:"".concat(1036,"px"),minWidth:"".concat(180,"px")},transition:"min-width 400ms ease, max-width 400ms ease"}})),De=(0,l.zo)("div",{display:"flex",flexShrink:0,alignSelf:"center"}),Re=(0,l.zo)("input",(e=>{let{$theme:t,$width:r}=e;return{flex:1,backgroundColor:t.colors.inputFill,...r?{width:"".concat(r,"px")}:{},appearance:"none",outline:"none","::placeholder":{...t.typography.LabelMedium,color:t.colors.contentSecondary},textOverflow:"ellipsis",overflow:"hidden"}})),Me=(0,l.zo)("button",(e=>{let{$theme:t}=e;return{...t.typography.LabelMedium,color:t.colors.contentTertiary,cursor:"pointer"}})),He=(0,l.zo)("div",(e=>{let{$theme:t}=e;return{width:"1px",margin:"0 16px",backgroundColor:t.colors.borderOpaque}})),Ue=(0,l.zo)(Q.Z,{cursor:"pointer"}),Xe=e=>{const{showMultiVerticalSearchDropdown:t}=(0,W.Z)(),[r,o]=i.useState(!1),n=i.useRef(null),{value:l,...s}=e.getInputProps({onFocus:()=>{e.onFocus&&e.onFocus(),e.setExpandedState&&e.setExpandedState(),o(!0)},onBlur:()=>o(!1),ref:n});i.useEffect((()=>{var t;e.expandedState&&n.current&&(null==n||null===(t=n.current)||void 0===t||t.focus())}),[e.expandedState]);const d=e.expandedState?e.query.length>0:e.query.length>0&&t;return(0,E.tZ)(E.HY,{children:(0,E.BX)(Le,{$isFocused:e.expandedState||r,children:[(0,E.tZ)(a.IQ,{}),(0,E.tZ)(De,{children:(0,E.tZ)(N.Z,{size:14})}),(0,E.tZ)(a.ZP,{$width:"16px"}),(0,E.tZ)(Re,{...s,value:l||"",type:"text",autoComplete:"off",name:"searchTerm",placeholder:e.placeholder,$width:e.queryWidth,onKeyDown:t=>{t.keyCode===le.q7&&e.handleEnterClick&&e.query.length>0&&(e.handleEnterClick(),o(!1))}}),(0,E.tZ)(a.ZP,{$width:"8px"}),d?(0,E.BX)(E.HY,{children:[(0,E.tZ)(Me,{type:"button",onClick:()=>{var t;e.reset(),n.current&&(null==n||null===(t=n.current)||void 0===t||t.focus(),e.setExpandedState&&e.setExpandedState())},children:(0,E.tZ)(G.v,{id:"shared.clear"})}),(0,E.tZ)(a.IQ,{})]}):null,e.onClose&&e.query.length>0?(0,E.tZ)(He,{}):null,e.onClose?(0,E.tZ)(Ue,{onClick:e.onClose}):null]})})};var Ee=r(27531),Ae=r(41138),Fe=r(18553);const qe="0.5s",Ve=(0,l.zo)("div",(e=>{let{$theme:t,$showOverlay:r}=e;return{...r?{...t.overlays.full,position:"fixed",top:0,left:0,right:0,height:"100vh",zIndex:p.I_.modal,overflow:"auto",transition:"all ".concat(qe," ease")}:{}}})),Ge=(0,l.w1)(s.Z,(e=>{let{$theme:t}=e;return{color:t.colors.onHeader,position:"relative",display:"flex",flexDirection:"row",alignItems:"center",height:p.sd}})),Ne=(0,l.w1)(xe.Z,{margin:"40px auto"}),Qe=(0,l.zo)("div",(e=>{let{$theme:t}=e;return{minHeight:"472px"}})),We=((0,l.zo)("div",{position:"relative"}),(0,l.zo)("button",{display:"flex",flexDirection:"row",cursor:"pointer",whiteSpace:"nowrap"}),(0,l.zo)("div",(e=>{let{$theme:t,$hasDivider:r}=e;return{width:"100%",background:t.colors.header,margin:"0 auto"}}))),Ye=(0,l.zo)("div",{width:"100%",maxWidth:"722px"}),je=(0,l.zo)("div",{flex:1}),Ke=(0,l.zo)("div",{justifyContent:"flex-end",display:"flex",flexGrow:0,alignItems:"center"}),Je=(0,l.zo)("div",{flexGrow:1,display:"flex",width:"100%"}),et=(0,l.zo)("button",{display:"flex",flexDirection:"row",cursor:"pointer",whiteSpace:"nowrap"}),tt=(0,l.zo)("label",p.E2),rt=(0,l.zo)("div",(e=>{let{$theme:t,$showPopover:r}=e;return{display:"flex",flexDirection:"row",zIndex:p.I_.modal,position:"absolute",background:t.colors.white,width:"100%",maxWidth:"1920px",right:"0",left:"0",margin:"0 auto",boxShadow:"0 6px 4px -4px rgba(0, 0, 0, 0.1)",borderBottomColor:t.colors.borderOpaque,borderBottomStyle:"solid",borderBottomWidth:"1px",transform:"translateY(0)",...r?{opacity:"1"}:{height:"0",visibility:"hidden",opacity:"0"},transition:"all ".concat(qe," ease")}})),it=(0,l.zo)("div",(e=>{let{$theme:t,$showPopover:r}=e;return{display:"flex",width:"100%",flexDirection:"column",...r?{visibility:"visible"}:{visibility:"hidden"}}})),ot=e=>{var t,r,l,s;let{shouldNotRedirectToHomeFeed:p,showDiningMode:H,showCart:U,isSearchFeed:X,showSigninSignup:A,customizedDiningModeToggle:F,logSignInSignUpClick:G,campaign:N,storeUuid:Q}=e;const{user:W}=(0,k.Z)(),j=(0,n.I0)(),K=(0,g.k6)(),ee=(0,x.Z)(),te=(0,$.Z)(),re=null===(t=(0,u.t)({dropPastOrders:!0}).data)||void 0===t?void 0:t.verticalSuggestionLists,ie=(0,J.ZP)(),oe=(0,v.UO)(),{store:le}=(0,Ee.Z)(Q),ae=(null==le||null===(r=le.data)||void 0===r?void 0:r.title)||"";(0,i.useEffect)((()=>{re&&j((0,h.Vw)(re))}),[j,re]),(0,i.useEffect)((()=>{ie("eats:search_bar_impression")}),[ie]);const se=(0,d.WI)("header-location-typeahead"),{closeAndUpdate:de}=(0,w.Z)(),ce=(0,_.Z)(),ue=o.useRef(null),he=(0,v.TH)(),pe=(0,m.T)(),{userQuery:ge,vertical:ve}=(0,T.RAN)(he,["userQuery","vertical"]),{storeSearchQuery:me}=(0,T.RAN)(he,["storeSearchQuery"]),[xe,$e]=(0,i.useState)(ve||Y.g),[Ce,ke]=(0,i.useState)(!1),{storeDishItemsXP:ze}=(0,Ae.Z)(),Ie=(0,Fe.Z)(),_e=Boolean(Q),Be=_e?ye.OT.STORE_SEARCH:X?ye.OT.GLOBAL_SEARCH:""!==Ie?ye.OT.VERTICAL_FEED:ye.OT.HOME_FEED,{feed:Pe}=(0,B.Z)();(0,i.useEffect)((()=>{ve&&$e(ve)}),[ve]);const Oe=()=>{ie("eats:search_multi_vertical_bar_click"),ie("eats:search_bar_clicked"),ke(!0)},Le=()=>{ke(!1)},{query:De,results:Re,getInputProps:Me,getItemProps:He,getMenuProps:Ue,reset:qe,placeholder:ot,getLabelProps:nt,getSuggestionAction:lt}=(0,L.Z)({initialQuery:ge||me,initialIsClosed:!0,searchTypeaheadPlaceholder:pe("shared.mutilVerticalSearchBarHint"),vertical:xe,onSuggestionSelected:Le,isMultiVerticalDesktop:!0}),at=Re.data||[],[st,dt]=(0,i.useState)(!1),ct=(!xe||xe===Y.g)&&!De&&st,ut=(0,we.E)(ct),ht=["t_restaurant","t_dishes"].includes(ut),pt=(0,Se.G)(ct),gt="postmates"===(0,D.Z)();let vt;vt=ce?(0,E.tZ)(I.Z,{startShoppingRedirect:!X&&!_e}):(0,E.tZ)(z.Z,{});const mt=()=>{$e(ve),Le()},Zt=o.useRef(null);(0,ne.Z)(Zt,(()=>{mt()}),Ce),(0,be.Z)((()=>{Le()}));const yt=Boolean(ae),xt=yt?pe("shared.searchInQuery",{query:ae}):ot;return(0,E.tZ)(Ve,{$showOverlay:Ce,children:(0,E.BX)(We,{ref:Zt,children:[(0,E.BX)(Ge,{children:[ee?null:(0,E.BX)(E.HY,{children:[(0,E.tZ)(C.Z,{}),(0,E.tZ)(a.ZP,{$width:"32px"}),(0,E.tZ)(Z.Z,{}),(0,E.tZ)(a.ZP,{$width:"40px"})]}),te?(0,E.BX)(E.HY,{children:[Ce?null:(0,E.BX)(E.HY,{children:[H?(0,E.BX)(E.HY,{children:[F||(0,E.tZ)(S.Z,{isDisabled:Pe.isLoading}),(0,E.tZ)(a.ZP,{$width:"16px"})]}):null,(0,E.tZ)(y.Z,{size:"large",storeUuid:Q}),(0,E.tZ)(a.ZP,{$width:"48px"})]}),ee?null:(0,E.tZ)(Je,{ref:ue,children:(0,E.tZ)(We,{role:"search","aria-label":pe("shared.marketplaceSearchBarHintText"),children:(0,E.BX)(O.Z,{children:[(0,E.tZ)(tt,{...nt(),children:xt}),yt?(0,E.tZ)(Xe,{query:De,getInputProps:Me,reset:()=>{var e;qe(),ie("eats:store_search_clear",{storeUuid:(null==le||null===(e=le.data)||void 0===e?void 0:e.uuid)||""})},placeholder:xt,setExpandedState:Oe,expandedState:Ce,handleEnterClick:()=>(()=>{var e;const t=(0,T.WxO)(oe),r=(0,T.AC5)({location:he,args:t,storeSearchQuery:De});K.push(r),Le(),ie("eats:store_search_fetch_results_enter_press",{storeUuid:(null==le||null===(e=le.data)||void 0===e?void 0:e.uuid)||"",storeSearchQuery:De})})(),onFocus:()=>{var e,t,r,i;dt(!0),ie("eats:store_search_grocery_entrypoint_click",{storeUuid:(null==le||null===(e=le.data)||void 0===e?void 0:e.uuid)||""}),De&&""!==De||ie("eats:store_search_started",{searchSource:Be,storeUuid:(null==le||null===(t=le.data)||void 0===t?void 0:t.uuid)||"",searchDataInfo:{layer:"L1",tab:"SHOP",locationType:null==le||null===(r=le.data)||void 0===r||null===(i=r.location)||void 0===i?void 0:i.locationType}})}}):(0,E.tZ)(Ze,{query:De,getInputProps:Me,reset:qe,placeholder:ot,setExpandedState:Oe,expandedState:Ce,verticalLists:re,handleEnterClick:()=>(ie("eats:search_end",{userQuery:De,page:he.pathname,hasDeliveryLocation:Boolean(te),searchType:"manual"}),K.push((0,T.Xqq)(he,{vertical:xe,userQuery:De,searchSource:ye.xH.SEARCH_BAR,searchType:"control"!==ze?ye.Sc.GLOBAL_SEARCH:void 0})),void Le()),isSearchFeed:X,isCategoryPage:"CATEGORY_PAGE"===(null===(l=Pe.data)||void 0===l?void 0:l.searchDisplayConfig),onFocus:()=>{dt(!0),""===De&&"HOME_FEED"===Be&&ie("eats:search_start",{page:he.pathname,hasDeliveryLocation:Boolean(te),mvsMeta:{verticalList:(null==re?void 0:re.map((e=>e.verticalType)).join(","))||"",selectedVertical:xe||Y.g},searchSource:Be})}})]})})}),(0,E.tZ)(a.ZP,{$width:"24px"})]}):(0,E.BX)(E.HY,{children:[(0,E.tZ)(a.ZP,{$width:"64px"}),(0,E.tZ)(Ye,{children:(0,E.tZ)(b.Z,{registerRef:se,onLocationSelected:e=>{de(e,void 0,p)},initialQuery:te?te.address.address1:"",id:"header"})}),(0,E.tZ)(je,{})]}),(0,E.tZ)(Ke,{children:Ce?(0,E.BX)(E.HY,{children:[(0,E.tZ)(a.jm,{}),(0,E.tZ)(et,{onClick:()=>{mt()},children:(0,E.tZ)(V.Z,{size:18})}),(0,E.tZ)(c.Z,{})]}):(0,E.BX)(E.HY,{children:[te||U?(0,E.tZ)(f.Z,{}):null,(0,E.tZ)(E.HY,{children:vt}),(0,E.tZ)(c.Z,{}),null!==(s=W.data)&&void 0!==s&&s.isLoggedIn?null:(0,E.BX)(E.HY,{children:[(0,E.tZ)(a.ZP,{$width:"24px"}),A?(0,E.tZ)(P.m,{campaign:N}):(0,E.tZ)(fe.Z,{campaign:N,beforeClick:()=>{G&&G("signin","header")}})]})]})})]}),yt?null:(0,E.BX)(rt,{$showPopover:Ce,children:[(0,E.tZ)(a.KG,{$width:gt?"260px":"282px"}),(0,E.BX)(it,{$showPopover:Ce,children:[(0,E.tZ)(R.Z,{onSelect:e=>{$e(e)},selectedVertical:xe,expandedState:Ce,surface:"ZERO_STATE"}),(0,E.BX)(Qe,{children:[(0,E.tZ)(M.ZP,{$height:20}),at.length>0?ht?(0,E.tZ)(Te,{searches:pt,onItemClick:Le}):(0,E.tZ)(q,{vertical:xe,suggestions:at,getMenuProps:Ue,getItemProps:He,query:De,onItemClick:(e,t)=>{Le(),ie("eats:search_end",{userQuery:null==e?void 0:e.title,page:he.pathname,hasDeliveryLocation:Boolean(te),mvsMeta:{verticalList:(re||[]).map((e=>e.verticalType)).join(","),selectedVertical:xe||Y.g},searchType:"suggestion"})},getSuggestionAction:lt}):(0,E.tZ)(Ne,{}),(0,E.tZ)(M.ZP,{$height:69})]})]}),(0,E.tZ)(a.KG,{$width:"148px"})]})]})})}},52487:(e,t,r)=>{r.d(t,{Z:()=>Z});var i=r(77808),o=r(92346),n=r(81922),l=r(85679),a=r.n(l),s=r(64248),d=r(26602),c=r(7410),u=r(20312),h=r(46816),p=r(30330);const g=(0,s.zo)("ul",(e=>{let{$theme:t,$width:r}=e;return{display:"flex",textAlign:"center",marginBottom:"8px",width:r?"".concat(r,"px"):"100%",height:"56px",transition:"opacity .45s .5s,visibility .45s .5s,transform .45s ease .3s"}})),v=(0,s.zo)("li",(e=>{let{$theme:t,$isSelected:r}=e;return{...t.typography.LabelSmall,borderBottom:"5px solid ".concat(r?t.colors.black:t.colors.borderOpaque),alignSelf:"center",padding:"16px",cursor:"pointer",":hover":{background:t.colors.menuFillHover}}})),m=(0,s.zo)("li",(e=>{let{$theme:t}=e;return{borderBottom:"5px solid ".concat(t.colors.borderOpaque),flexGrow:1,padding:"24px",alignSelf:"center"}})),Z=e=>{const t=(0,o.TH)(),r=(0,h.ZP)(),l=(0,n.v)((e=>{let{multiVertical:t}=e;return t.verticalList})),{userQuery:s}=(0,d.RAN)(t,["userQuery"]),[Z,y]=(0,i.useState)(!1),x=(0,u.t)({dropPastOrders:!0}),f=(0,i.useCallback)((e=>{var t,r;return(null==x||null===(t=x.data)||void 0===t||null===(r=t.verticalSearchHomeResults[e])||void 0===r?void 0:r.length)||0}),[x]),b=(0,i.useMemo)((()=>({verticalList:l.map((e=>e.verticalType)).join(","),type:"TAB",surface:e.surface,searchTermText:s,previousSelectedVertical:e.selectedVertical||c.g,selectedVertical:e.selectedVertical||c.g})),[l,e.selectedVertical,e.surface,s]),w=(0,i.useCallback)((t=>()=>{e.onSelect&&e.onSelect(t),r("eats:search_vertical_tab_tapped",{mvsMeta:{...b,selectedVertical:t}}),e.expandedState&&r("eats:global_search_zero_state_viewed",{numberOfSuggestions:f(t),mvsMeta:{verticalList:b.verticalList,selectedVertical:t}})}),[e,r,b,f]),S=a()((()=>{r("eats:search_vertical_tab_scrolled",{mvsMeta:b})}),1e3);return(0,i.useEffect)((()=>{x.data&&!Z&&e.expandedState&&(y(!0),r("eats:global_search_zero_state_viewed",{numberOfSuggestions:f(b.selectedVertical),mvsMeta:{verticalList:b.verticalList,selectedVertical:b.selectedVertical}}))}),[x,r,f,b.verticalList,b.selectedVertical,Z,e.expandedState]),(0,i.useEffect)((()=>{r("eats:search_vertical_tab_view",{mvsMeta:b})}),[]),l.length>1?(0,p.BX)(g,{$width:e.tableWidth,onScroll:S,children:[l.map(((t,r)=>(0,p.tZ)(v,{onClick:w(t.verticalType),$isSelected:t.verticalType===(e.selectedVertical||c.g),children:t.title},r))),(0,p.tZ)(m,{})]}):null}},20312:(e,t,r)=>{r.d(t,{t:()=>l});var i=r(2815),o=r(52753),n=r(30879);function l(e,t){const r=(0,n.Z)("getSearchHomeV2"),l=(0,o.H)("getSearchHomeV2",e);return(0,i.useQuery)({queryKey:l,queryFn:e=>{let{queryKey:t}=e;return r.request("getSearchHomeV2",t[1])},...null==t?void 0:t.queryObserverOptions})}},87813:(e,t,r)=>{r.d(t,{Z:()=>a});var i=r(25301),o=r(54835),n=r(10247),l=r(78369);const a=()=>{const{isEnabled:e}=(0,l.Z)(),t=(0,n.d)(),r=(0,o.Z)();return{shouldOverrideLabel:e&&"PICKUP"===t&&!r,overrideLabel:(0,i.T)()("header.delivery_info.pickup_override_label")}}},87655:(e,t,r)=>{r.d(t,{Z:()=>u});var i=r(77808),o=r(26602),n=r(46816),l=r(20480),a=r(81818),s=r(86724),d=r(37725);const c={location:"eats:enter_delivery_address_start",time:"",search:"eats:search_start",user:"eats:user_menu_open",diningMode:"eats:dining_mode_menu_open"};function u(){const[e,t]=i.useState(null),r=(0,d.TH)(),u=(0,d.k6)(),h=(0,n.ZP)(),p=(0,l.Z)(),g=(0,a.Z)(),{user:v}=(0,s.Z)(),m=()=>t(null);return{activeMenu:e,openMenu:e=>{const r=e&&c[e];r&&h(r),t(e)},closeMenu:m,closeAndUpdate:(e,t,i)=>{if(m(),g(e,t),!e||i)return;if(e.address.title!==(null==p?void 0:p.address.title))return u.push((0,o.dat)(r,{deliveryLocation:e}));const n=(0,o.RAN)(r,["place","startTime"]);(n.place||n.startTime)&&u.push((0,o.m0g)(r,e,t||{asap:!0}))},user:v}}},49731:(e,t,r)=>{r.d(t,{Z:()=>d});var i=r(77808),o=r(25301),n=r(7853),l=r(82990),a=r(51294),s=r(86724);const d=e=>{const t=(0,o.T)(),{fetchLocations:r,handleLocationSelected:d,areLocationDetailsLoading:c,placeholder:u}=(0,n.Z)({onLocationSelected:e.onLocationSelected}),{user:h}=(0,s.Z)(),p=(0,a.Z)("getTaggedLocationsV1"),g=t=>t.isTaggedLocation?(e.onLocationSelected(t.address),Promise.resolve()):d(t),v=(e,t)=>{const r=null==t?void 0:t[0];r&&g(r)},m=i.useCallback((e=>{let{results:r,query:i}=e;return 0===r.length?i?t("components.DeliveryLocationSearch.noResults"):"":i?t("components.MarketplaceSearch.resultsDescription",{numResults:r.length,searchTerm:i}):t("shared.searchResultsCount",{resultsCount:r.length})}),[]),{query:Z,results:y,getLabelProps:x,getInputProps:f,getMenuProps:b,getItemProps:w,reset:S,highlightedIndex:$,isOpen:C,openMenu:k}=(0,l.Z)({id:"location-typeahead-".concat(e.id),initialQuery:e.initialQuery,fetchResults:e=>{var t;return null!==(t=h.data)&&void 0!==t&&t.isLoggedIn&&0===e.length?p():r(e)},onResultSelected:g,getQueryFromResult:e=>e?e.isTaggedLocation?e.address.address.address1:(null==e?void 0:e.addressLine1)||"":"",initialIsClosed:e.initialIsClosed,onEnterKeyWithNoSelectedResult:v,getA11yStatusMessage:m});return{query:Z,locations:y,getLabelProps:x,getInputProps:f,getMenuProps:b,getItemProps:w,reset:S,highlightedIndex:$,placeholder:u,isLoading:c||y.isLoading,showTryAgainMessage:Boolean(Z&&y.hasLoaded&&y.data&&0===y.data.length),isOpen:C,openMenu:k,onSubmitWithNoSelectedResult:v}}},78369:(e,t,r)=>{r.d(t,{Z:()=>l});var i=r(39718),o=r(46091),n=r(6036);const l=()=>{var e;const t=(0,o.ip)({...n.j.eats_web_pickup_map_enabled,defaultValue:!1}),{feed:r}=(0,i.Z)();return{isEnabled:t&&!(null!=r&&null!==(e=r.data)&&void 0!==e&&e.hideMap)}}},46502:(e,t,r)=>{r.d(t,{Z:()=>h});var i=r(77808),o=r(92346),n=r(81922),l=r(46816),a=r(10247),s=r(26602),d=r(7410),c=r(99159),u=r(48281);const h=()=>{const e=(0,c.hU)(),t=(0,u.Z)(),r=e.isMobile||t,h=(0,n.v)((e=>{let{multiVertical:t}=e;return t.verticalList})),p=(0,a.d)(),g=(0,o.TH)(),{vertical:v,userQuery:m}=(0,s.RAN)(g,["vertical","userQuery"]),[Z,y]=i.useState(Boolean(r)&&"PICKUP"!==p&&!m),[x,f]=i.useState(!0),b=(0,l.ZP)(),w=i.useCallback((e=>{r&&b("eats:search_end",{userQuery:e,mvsMeta:{verticalList:h.map((e=>e.verticalType)).join(","),selectedVertical:v||d.g}})}),[b,r,h,v]),S=i.useCallback((e=>{b("eats:search_home_item_click",e)}),[b]),$=i.useCallback((e=>{b("eats:search_home_item_view",e)}),[b]);return{trackSearchCategoryClick:w,showSearchHome:Z,showPastOrdersSuggestions:x,setShowPastOrdersSuggestions:f,searchShortcutsEnabled:r,setShowSearchHome:e=>{r&&y(e)},trackSearchHomeItemClick:S,trackSearchHomeItemView:$}}}}]);