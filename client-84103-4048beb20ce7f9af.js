"use strict";(self.webpackChunkFusion=self.webpackChunkFusion||[]).push([[84103],{46976:(e,r,t)=>{function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}r.Z=void 0;var i=function(e,r){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=l(r);if(t&&t.has(e))return t.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}return i.default=e,t&&t.set(e,i),i}(t(18898)),o=["title","titleId","size"];function l(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(l=function(e){return e?t:r})(e)}function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}var s=i.forwardRef((function(e,r){var t=e.title,n=void 0===t?"Circle check":t,l=e.titleId,s=e.size,u=void 0===s?"1em":s,c=function(e,r){if(null==e)return{};var t,n,i=function(e,r){if(null==e)return{};var t,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)t=o[n],r.indexOf(t)>=0||(i[t]=e[t]);return i}(e,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)t=o[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}(e,o);return i.createElement("svg",a({width:u,height:u,viewBox:"0 0 24 24",fill:"none",ref:r,"aria-labelledby":l},c),void 0===n?i.createElement("title",{id:l},"Circle check"):n?i.createElement("title",{id:l},n):null,i.createElement("path",{d:"M12 1C5.9 1 1 5.9 1 12s4.9 11 11 11 11-4.9 11-11S18.1 1 12 1Zm-1.5 16.1-5.6-5.6L7 9.4l3.4 3.4 6.4-6.4 2.1 2.1-8.4 8.6Z",fill:"currentColor"}))}));r.Z=s},9681:(e,r,t)=>{t.d(r,{DY:()=>n,_b:()=>i}),Object.freeze({UNKNOWN:"UNKNOWN",ACTIVE:"ACTIVE",DELETED:"DELETED",DELETING:"DELETING"});const n=Object.freeze({UNKNOWN:"UNKNOWN",MEAL_PLAN_VIEW:"MEAL_PLAN_VIEW",CARTS_VIEW:"CARTS_VIEW",MEAL_PLAN_VIEW_COMPACT:"MEAL_PLAN_VIEW_COMPACT"}),i=Object.freeze({CREATOR:"CREATOR",PARTICIPANT:"PARTICIPANT",UNKNOWN:"UNKNOWN"})},25035:(e,r,t)=>{t.d(r,{Z:()=>s});var n=t(15776),i=t(74995),o=t(46976),l=t(99074),a=t(30330);const s=()=>{const{enqueue:e}=(0,n.Ds)(),r=r=>{e({...r},i.t.short)};return{successSnackbar:e=>{r({...e,startEnhancer:()=>(0,a.tZ)(o.Z,{size:24})})},errorSnackbar:e=>{r({...e,startEnhancer:()=>(0,a.tZ)(l.Z,{size:24})})}}}},68008:(e,r,t)=>{t.d(r,{_:()=>p});var n=t(12272),i=t(12351),o=t(19785),l=t(11547),a=t(64248),s=t(81922),u=t(18701),c=t(30330);const d=(0,a.zo)("div",(e=>{let{$theme:r,$isMobile:t}=e;return{display:"flex",flex:1,alignItems:"center",justifyContent:"center",flexDirection:"column",textAlign:"center",gap:r.sizing.scale500,marginTop:t?r.sizing.scale600:r.sizing.scale1600,marginBottom:r.sizing.scale800}})),p=e=>{let{emptyState:r}=e;const{isMobile:t}=(0,s.v)((e=>{let{device:r}=e;return r})),{title:a,subtitle:p,button:f,illustration:O,action:y}=r,{handleMealPlanViewOrderClick:v}=(0,u.W)();return(0,c.BX)(d,{$isMobile:t,children:[(0,c.tZ)(i.SZ,{richIllustration:O}),(0,c.tZ)(o.ZP,{text:a}),(0,c.tZ)(o.ZP,{text:p}),f&&y?(0,c.tZ)(n.Z,{width:"auto",marginTop:"scale500",children:(0,c.tZ)(l.Z,{viewModel:f,onClick:e=>{v(y)}})}):null]})}},88558:(e,r,t)=>{t.d(r,{B3:()=>O,EJ:()=>f,G8:()=>a,Nx:()=>o,Tj:()=>c,Uw:()=>s,W5:()=>i,dM:()=>l,ff:()=>u,jF:()=>n,qV:()=>p,xZ:()=>d});const n={HOUR_1:60,HOURS_2:120,HOURS_4:240,HOURS_12:720,HOURS_24:1440,HOURS_48:2880},i=300,o=254,l="443px",a={PAST:"PAST",ACTIVE:"ACTIVE",UPCOMING:"UPCOMING"},s={skipEmptyLines:"greedy",delimiter:"\n"},u=25,c="392px",d="skippedEmails",p={joinOrder:"joinOrder",openCart:"openCart",openStoreFront:"openStoreFront",trackOrder:"trackOrder",viewOrder:"viewOrder",seeAll:"seeAll",createOrder:"createOrder"},f="USD",O={Tail:{style:e=>{let{$theme:r}=e;return{backgroundColor:r.colors.mono400}}},Icon:{style:e=>{let{$theme:r,$isActive:t}=e;const n=t?r.sizing.scale700:r.sizing.scale400;return{width:n,height:n,lineHeight:n,borderTopLeftRadius:n,borderTopRightRadius:n,borderBottomRightRadius:n,borderBottomLeftRadius:n,backgroundColor:t?r.colors.progressStepsActiveFill:r.colors.mono400}}}}},26792:(e,r,t)=>{t.d(r,{M:()=>u});var n=t(10773),i=t.n(n),o=t(2815),l=t(52753),a=t(30879),s=t(40968);const u=e=>{const{uuid:r}=(0,s.fY)(),t=function(e,r){const t=(0,a.Z)("getMealPlanOrdersViewV1"),n=(0,l.H)("getMealPlanOrdersViewV1",e);return(0,o.useQuery)({queryKey:n,queryFn:e=>{let{queryKey:r}=e;return t.request("getMealPlanOrdersViewV1",r[1])},...null==r?void 0:r.queryObserverOptions})}({mealPlanUUID:r,...e},{queryObserverOptions:{refetchOnMount:"always",refetchInterval:e=>{var r,t;const n=null==e||null===(r=e.draftOrderPayload)||void 0===r||null===(t=r.loadingState)||void 0===t?void 0:t.reloadInMs;return!!n&&i().fromValue(n).toNumber()}}}),{data:n,isLoading:u}=t;return{query:t,data:n,isLoading:u}}},24062:(e,r,t)=>{t.d(r,{Z:()=>a,L:()=>s});var n=t(2815),i=t(52753),o=t(30879),l=t(9681);const a=(e,r)=>{var t,a,s,u,c,d,p,f;const O=function(e,r){const t=(0,o.Z)("getMealPlanByUuidV1"),l=(0,i.H)("getMealPlanByUuidV1",e);return(0,n.useQuery)({queryKey:l,queryFn:e=>{let{queryKey:r}=e;return t.request("getMealPlanByUuidV1",r[1])},...null==r?void 0:r.queryObserverOptions})}({mealPlanUUID:e,includeParticipantCount:!0,includeAssociatedParticipantInfo:!0},{queryObserverOptions:{staleTime:1e4}}),y=O.data,v=((e,r)=>{const t="getMealPlanDeliveryLocationV1",i=(0,o.Z)(t),l=[t,e];return(0,n.useQuery)({queryKey:l,queryFn:()=>i.request(t,e),...r})})({placeId:null!==(t=null==y||null===(a=y.mealPlan)||void 0===a||null===(s=a.placeReferenceInfo)||void 0===s?void 0:s.placeID)&&void 0!==t?t:"",provider:null!==(u=null==y||null===(c=y.mealPlan)||void 0===c||null===(d=c.placeReferenceInfo)||void 0===d?void 0:d.provider)&&void 0!==u?u:""},{enabled:!!y&&Boolean(null==r?void 0:r.fetchDeliveryLocation)}),g=null==y||null===(p=y.mealPlan)||void 0===p?void 0:p.associatedParticipantInfo;return{deliveryLocationQuery:v,mealPlanQuery:O,mealPlan:null==y?void 0:y.mealPlan,isCreator:(null==g?void 0:g.role)===l._b.CREATOR,isParticipant:(null==g?void 0:g.role)===l._b.PARTICIPANT,participantCount:null!==(f=null==g?void 0:g.participantCount)&&void 0!==f?f:0,participantUUID:null==g?void 0:g.participantUUID}},s=e=>["getMealPlanByUuidV1",{mealPlanUUID:e}]},18701:(e,r,t)=>{t.d(r,{W:()=>v});var n=t(25301),i=t(2815),o=t(37725),l=t(25035),a=t(17936),s=t(69262),u=t(95073),c=t(99159),d=t(26602),p=t(92346),f=t(88558),O=t(40968),y=t(46816);const v=()=>{const{setActiveDraftOrder:e}=(0,s.Z)(),{toggleSidebarCartVisible:r,closeCartDropdown:t}=(0,u.Lb)(),{isMobile:v}=(0,c.hU)(),{addMemberToDraftOrder:g}=(0,a.Z)(),b=(0,i.useQueryClient)(),{errorSnackbar:U}=(0,l.Z)(),P=(0,n.T)(),m=(0,y.ZP)(),I=(0,o.k6)(),h=(0,p.TH)();return{handleMealPlanViewOrderClick:n=>{if(n&&n.type)switch(n.type){case f.qV.openStoreFront:{const{draftOrderUUID:r,storeUUID:t,storeSlug:i}=n.openStoreFront;e(String(r));const o=(0,d.gfM)(h,{storeSlug:String(i),storeUuid:String(t)});I.push(o);break}case f.qV.openCart:if(e(String(n.openCart.draftOrderUUID)),v){const e=(0,d.C45)(h),r=(0,d.nQQ)(e);I.push(r)}else t(),r();break;case f.qV.joinOrder:(async()=>{try{const{storeUUID:r,storeSlug:t,draftOrderUUID:i}=n.joinOrder;await g.mutateAsync({draftOrderUUID:String(i)}),e(String(i)),b.invalidateQueries(["getMealPlanOrdersViewV1"]),I.push((0,d.gfM)(h,{storeSlug:String(t),storeUuid:String(r)}))}catch(e){U({message:P("components.genericError.title")})}})();break;case f.qV.trackOrder:I.push((0,d._u3)(h,{uuid:String(n.trackOrder.orderUUID)}));break;case f.qV.viewOrder:if(v)return void I.push((0,d.eKu)(h,String(n.viewOrder.orderUUID)));I.push((0,d.vN_)(h,"orderReceipt",String(n.viewOrder.orderUUID)));break;case f.qV.seeAll:I.push((0,O.FO)(h,String(n.seeAll.mealPlanUUID)));break;case f.qV.createOrder:m("eats:meal_plan_create_order_click",{source:"order_view"}),I.push((0,O.n)(h,String(n.createOrder.mealPlanUUID)))}},isLoading:g.isLoading}}}}]);