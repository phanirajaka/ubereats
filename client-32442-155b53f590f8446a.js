(self.webpackChunkFusion=self.webpackChunkFusion||[]).push([[32442],{84304:(e,s,n)=>{"use strict";n.d(s,{DC:()=>b,Eb:()=>f,Nj:()=>r,XC:()=>y,b6:()=>v,b_:()=>p,dR:()=>c,jm:()=>P,og:()=>C,oz:()=>m});var i=n(72920),a=n(57228),l=n(84086),t=n(56051),u=n(30330);function o(e){return!e||e.type===a.Hu.Personal}function d(e){return e.map((e=>e.amountString)).join(", ")}function r(e){if(!e)return null;const s={text:"",displayable:null};switch((e.tokenType||"").toLowerCase()){case"uber_test":case"derivative":case"paytm":s.text=e.cardType||"";break;case"paypal":s.displayable=(0,u.tZ)(i.v,{id:"shared.paypal"});break;case"cash":s.displayable=(0,u.tZ)(i.v,{id:"shared.cash"});break;case"stored_value":s.displayable=(0,u.tZ)(i.v,{id:"shared.uber_cash"});break;case"upi":s.displayable=(0,u.tZ)(i.v,{id:"shared.upi"});break;case"paypay":s.displayable=(0,u.tZ)(i.v,{id:"shared.paypay"});break;case"venmo":s.displayable=(0,u.tZ)(i.v,{id:"shared.venmo"});break;case"braintree":case"zaakpay":case"bancontact":s.text=function(e){const{cardType:s,cardNumber:n}=e,i=s?"".concat(s," - "):"•••• ";return"".concat(i).concat(n||"")}(e);break;case"apple_pay_display":s.text="Apple Pay";break;default:s.text=e.accountName||""}return s}const c=(e,s,n)=>{var a,l,o;if(!e)return null;const d=(0,u.tZ)("div",{children:null==e?void 0:e.name});if(!(null!=e&&null!==(a=e.components)&&void 0!==a&&a.periodicCapComponent||null!=e&&null!==(l=e.components)&&void 0!==l&&l.perTripCapComponent))return{displayable:n?(0,u.tZ)("div",{children:e.description}):(0,u.tZ)(i.v,{id:"checkout.business_payments_balance.billed_to_company"}),text:""};if(null!==(o=e.components)&&void 0!==o&&o.periodicCapComponent){var r;const{amount:n,usage:a,currencyCode:l}=(null===(r=e.validationExtra)||void 0===r?void 0:r.periodicCapBalance)||{},o="number"==typeof n&&"number"==typeof a?(0,t.xG)(s,l||"",100*(n-a)):null;var c,p;if(o)return{displayable:{DAILY:(0,u.tZ)(i.v,{id:"checkout.business_payments_balance.daily",data:{balance:o}}),WEEKLY:(0,u.tZ)(i.v,{id:"checkout.business_payments_balance.weekly",data:{balance:o}}),MONTHLY:(0,u.tZ)(i.v,{id:"checkout.business_payments_balance.monthly",data:{balance:o}}),DEFAULT:d}[(null===(c=e.components)||void 0===c||null===(p=c.periodicCapComponent)||void 0===p?void 0:p.period)||"DEFAULT"],text:""}}else{var y;const{amount:n,currencyCode:a}=(null===(y=e.validationExtra)||void 0===y?void 0:y.perTripCapBalance)||{},l="number"!=typeof n?"":(0,t.xG)(s,a||"",100*n);if(l)return{displayable:(0,u.tZ)(i.v,{id:"checkout.business_payments_balance.per_order",data:{balance:l}}),text:""}}return{displayable:d,text:""}};function p(e){var s,n,i,a;return"ManagedBusiness"===(null==e?void 0:e.type)&&(null==e||null===(s=e.managedBusinessProfileAttributes)||void 0===s||null===(n=s.theme)||void 0===n||null===(i=n.logos)||void 0===i||null===(a=i.Large)||void 0===a?void 0:a.url)||""}function y(e,s){return e.find((e=>e.type===a.Hu.Personal&&e.defaultPaymentProfileUuid===s))}function v(e,s){const n=e.find((e=>e.uuid===s));return o(n)?null:n}function f(e,s,n,l,t,p,y,v,f,m,P,b,C,g){let x={text:"",displayable:null};const B={payment:[],mealProgram:null,expenseCode:null},h={message:{text:"",displayable:null},action:null},E=r(s),Z={text:"",displayable:(0,u.tZ)(i.v,{id:"shared.uber_cash_with_balance",data:{balance:d(t)}})};if(f)if(o(e))x.displayable=(0,u.tZ)(i.v,{id:"components.payments_cell.personal"}),n&&B.payment.push(Z),E&&B.payment.push(E),s||(h.message.displayable=(0,u.tZ)(i.v,{id:"shared.addPaymentMethod"}),h.action=m.getPaymentSelectAction());else{if(x.text=(null==e?void 0:e.name)||"",x.displayable=(0,u.tZ)(i.v,{id:"components.payments_cell.business"}),null!=e&&e.isMealProgramRequired){if(null!=p&&p.isExpenseMemoRequired&&P&&(v||(h.message.displayable=(0,u.tZ)(i.v,{id:"shared.add_expense_memo"}),h.action=m.getAddExpenseMemoAction((null==e?void 0:e.uuid)||"",(null==p?void 0:p.uuid)||""))),null!=p&&p.isExpenseCodeRequired&&P&&(null!=y&&y.expenseCode||(h.message.displayable=(0,u.tZ)(i.v,{id:"shared.add_expense_code"}),h.action=m.getAddExpenseCodeAction((null==e?void 0:e.uuid)||"",(null==p?void 0:p.uuid)||""))),g){const s=r(l.find((s=>s.uuid===(null==e?void 0:e.secondaryPaymentProfileUuid))));s?B.payment.push(s):P&&b&&(h.message.displayable=(0,u.tZ)(i.v,{id:"shared.add_secondary_payment_method"}),h.action=m.getAddSecondaryPaymentMethodAction((null==e?void 0:e.uuid)||"",(null==p?void 0:p.uuid)||""))}var U,_,k;if(p){if((null===(U=e.managedBusinessProfileAttributes)||void 0===U?void 0:U.billingMode)!==a.vO.Decentralized||null!==(_=p.components)&&void 0!==_&&_.periodicCapComponent||null!==(k=p.components)&&void 0!==k&&k.perTripCapComponent){const e=c(p,C,!1);e&&(B.mealProgram=e)}}else h.message.displayable=(0,u.tZ)(i.v,{id:"shared.select_meal_program"}),h.action=m.getSelectMealProgramAction((null==e?void 0:e.uuid)||"")}(function(e){var s;return(null==e?void 0:e.type)===a.Hu.Personal||(null==e?void 0:e.type)===a.Hu.Business||(null==e?void 0:e.type)===a.Hu.ManagedBusiness&&(null==e||null===(s=e.managedBusinessProfileAttributes)||void 0===s?void 0:s.billingMode)===a.vO.Decentralized})(e)&&(E?B.payment.push(E):(h.message.displayable=(0,u.tZ)(i.v,{id:"shared.addPaymentMethod"}),h.action=m.getAddPaymentMethodAction((null==e?void 0:e.uuid)||"")))}else n?(x=Z,E&&B.payment.push(E)):x=E||x;return{primary:x,secondary:B,error:h}}function m(e){const s=((null==e?void 0:e.tokenType)||"unknown").toLowerCase();switch(s){case"google":case"google_pay":return l.Z.google;case"paypal":case"uber_test":case"derivative":case"paytm":case"braintree":case"zaakpay":return function(e){const s=(e||"unknown").toLowerCase();switch(s){case"american_express":case"amex":return l.Z["american express"];default:return l.Z[s]||l.Z.unknown}}(null==e?void 0:e.cardType);case"stored_value":return l.Z.uber;case"apple_pay_display":return l.Z.applepay;default:return l.Z[s]||l.Z.unknown}}function P(e){const s=e.find((e=>"Personal"===e.type));return{profileUuid:(null==s?void 0:s.uuid)||"",paymentProfileUuid:(null==s?void 0:s.defaultPaymentProfileUuid)||""}}function b(e,s){const n=s.find((s=>s.uuid===e));return Boolean(n)}function C(e){const s=e.find((e=>"Personal"!==e.type));return{profileUuid:(null==s?void 0:s.uuid)||"",paymentProfileUuid:(null==s?void 0:s.defaultPaymentProfileUuid)||""}}},84086:(e,s,n)=>{"use strict";n.d(s,{Z:()=>a});var i=n(49147);const a={alipay:(0,i.pZ)(n(49076)),"american express":(0,i.pZ)(n(96084)),applepay:(0,i.pZ)(n(14249)),cash:(0,i.pZ)(n(56492)),cc:(0,i.pZ)(n(86924)),diners:(0,i.pZ)(n(27926)),discover:(0,i.pZ)(n(92023)),google:(0,i.pZ)(n(67915)),india:(0,i.pZ)(n(56492)),jcb:(0,i.pZ)(n(76664)),mastercard:(0,i.pZ)(n(72536)),paypal:(0,i.pZ)(n(17587)),paytm:(0,i.pZ)(n(2244)),uber:(0,i.pZ)(n(99982)),unionpay:(0,i.pZ)(n(4660)),unknown:(0,i.pZ)(n(82542)),ubertest:(0,i.pZ)(n(99982)),venmo:(0,i.pZ)(n(46727)),visa:(0,i.pZ)(n(3174)),upi:(0,i.pZ)(n(978)),paypay:(0,i.pZ)(n(77789)),derivative:(0,i.pZ)(n(38674)),vouchers:(0,i.pZ)(n(47782)),bancontact:(0,i.pZ)(n(17275))}},95791:(e,s,n)=>{"use strict";n.d(s,{Z:()=>b});var i=n(77808),a=n(2815),l=n(37725),t=n(84304),u=n(51294),o=n(59470);function d(e){const[s,n]=(0,i.useState)(null),{searchBusinessExpenseCodes:a,businessExpenseCodes:l,setBusinessExpenseCodes:t}=function(e){const[s,n]=(0,i.useState)({data:null,error:null,hasLoaded:!1,isLoading:!1}),a=(0,u.Z)("searchBusinessExpenseCodesForUserV1"),l=e=>e?e.trim().toLowerCase():"";return{searchBusinessExpenseCodes:(0,i.useCallback)((i=>{var t,u;let{query:d,resetPageToken:r}=i;n({...s,isLoading:!0});const c=l(d),p=Boolean(s.data&&l(s.data.query)===c);if(p&&r)return void n({...s,isLoading:!1});const y=r?"1":null===(t=s.data)||void 0===t||null===(u=t.paging)||void 0===u?void 0:u.nextPageToken;a({profileUuid:e,pagingInfo:{pageToken:y||"1",limit:25},keyword:c}).then((e=>{var i,a;const l=Number(null===(i=e.paging)||void 0===i?void 0:i.currentPage)>1&&p;n({data:{...e,...l?{expenseCodes:[...(null===(a=s.data)||void 0===a?void 0:a.expenseCodes)||[],...e.expenseCodes||[]]}:null},error:null,hasLoaded:!0,isLoading:!1})})).catch((e=>{e instanceof o.F||n({data:null,error:e,hasLoaded:!0,isLoading:!1})}))}),[s,e,a]),businessExpenseCodes:s,setBusinessExpenseCodes:n}}(e.profileUuid);return(0,i.useEffect)((()=>{!e.profileUuid||!e.policyUuid||null!=l&&l.hasLoaded||l.isLoading||a({query:"",resetPageToken:!0})}),[e.policyUuid,e.profileUuid,l,a]),{businessExpenseCodes:l,searchBusinessExpenseCodes:a,setBusinessExpenseCodes:t,selectedBusinessExpenseCode:s,setSelectedBusinessExpenseCode:n}}var r=n(92346),c=n(26602),p=n(57228);function y(e){const[s,n]=(0,i.useState)(null),[a,l]=(0,i.useState)(null),{businessPolicies:t,getBusinessPoliciesForUserFromProfile:d,setBusinessPolicies:r}=function(){const e=(0,u.Z)("getBusinessPoliciesForUserV2"),[s,n]=(0,i.useState)({data:null,error:null,hasLoaded:!1,isLoading:!1});return{businessPolicies:s,getBusinessPoliciesForUserFromProfile:(0,i.useCallback)((s=>{e({profileUuid:s}).then((e=>{n({isLoading:!1,hasLoaded:!0,data:e,error:null})})).catch((e=>{e instanceof o.F||n({isLoading:!1,hasLoaded:!0,data:null,error:e})}))}),[e]),setBusinessPolicies:n}}();return(0,i.useEffect)((()=>{!t.isLoading&&!t.hasLoaded&&null!=s&&s.uuid&&s.type===p.Hu.ManagedBusiness&&e.profileUuid&&d(e.profileUuid)}),[e.profileUuid,t,d,s]),{businessPolicies:t,setBusinessPolicies:r,selectedBusinessProfile:s,selectedBusinessPolicy:a,setSelectedBusinessPolicy:l,setSelectedBusinessProfile:n}}var v=n(46816),f=n(86724),m=n(81922),P=n(30879);function b(){var e;const{user:s}=(0,f.Z)(),n=(0,r.TH)(),u=(0,l.k6)(),o=(0,v.ZP)(),b=(0,m.v)((e=>e.checkout)),C=(null==b?void 0:b.selectedBusinessPayment)||null,[g,x]=(0,i.useState)(!1),B=null===(e=s.data)||void 0===e?void 0:e.isLoggedIn,h=(0,P.Z)("getBusinessProfilesV1"),E=(0,a.useQuery)("getBusinessProfilesV1",(()=>h.request("getBusinessProfilesV1",null)),{enabled:B}),{params:Z,isOnPolicyRoute:U,isOnSecondaryPaymentRoute:_,isOnExpenseCodeRoute:k,isOnExpenseMemoRoute:S,isOnStartGroupOrder:L}=function(){const e=(0,r.TH)(),{modalContext:s}=(0,c.RAN)(e,["modalContext"]),{modalName:n}=(0,c.RAN)(e,["modalName"]),[i,a]=s.split("|"),t="businessSelectPolicy"===n,u="paymentsSelectSecondaryPaymentProfile"===n,o="businessSelectExpenseCode"===n,d="businessEnterExpenseMemo"===n,p=i&&a?{params:{profileUuid:i,policyUuid:a}}:null,y=t&&i?{params:{profileUuid:i}}:null,v=u?p:null,f=o?p:null,m=d?p:null,P=(0,l.LX)(e.pathname,c.YEU),b=(0,l.LX)(e.pathname,c.gqw),C=Boolean(P)||Boolean(b);return{params:(null==y?void 0:y.params)||(null==v?void 0:v.params)||(null==f?void 0:f.params)||(null==m?void 0:m.params)||(null==P?void 0:P.params)||(null==b?void 0:b.params)||{},isOnPolicyRoute:t,isOnSecondaryPaymentRoute:u,isOnExpenseCodeRoute:o,isOnExpenseMemoRoute:d,isOnStartGroupOrder:C}}(),M=U||_||k||S,O=Z.profileUuid||(null==C?void 0:C.profileUuid)||"",T=(E.data||[]).some((e=>e.type!==p.Hu.Personal)),{businessPolicies:q,setBusinessPolicies:R,selectedBusinessProfile:w,selectedBusinessPolicy:H,setSelectedBusinessPolicy:A,setSelectedBusinessProfile:D}=y({profileUuid:O}),{businessExpenseCodes:F,searchBusinessExpenseCodes:N,setBusinessExpenseCodes:I,selectedBusinessExpenseCode:G,setSelectedBusinessExpenseCode:V}=d({profileUuid:O,policyUuid:Z.policyUuid||""}),[z,j]=function(e){const[s,n]=(0,i.useState)(null);return[s,n]}(Z.policyUuid),{currentStep:X}=function(e){const[s,n]=(0,i.useState)("PROFILE"),{selectedBusinessPayment:a,selectedBusinessProfile:l,selectedBusinessPolicy:t,selectedBusinessExpenseCode:u,selectedBusinessExpenseMemo:o}=e;return(0,i.useEffect)((()=>{l||n("PROFILE"),l&&!t&&n("POLICY"),l&&t&&null!=l&&l.isMealProgramRequired&&(t.isExpenseCodeRequired||n("COMPLETE"),null!=t&&t.isExpenseCodeRequired&&!u&&n("EXPENSE_CODE"),null!=t&&t.isExpenseCodeRequired&&!t.isExpenseMemoRequired&&u&&n("COMPLETE"),null!=t&&t.isExpenseCodeRequired&&u&&null!=t&&t.isExpenseMemoRequired&&n(o?"COMPLETE":"EXPENSE_MEMO")),null!=a&&a.paymentProfileUuid&&(null==l?void 0:l.type)===p.Hu.Business&&n("COMPLETE")}),[a,l,t,u,o]),{currentStep:s}}({selectedBusinessPayment:C,selectedBusinessProfile:w,selectedBusinessPolicy:H,selectedBusinessExpenseCode:G,selectedBusinessExpenseMemo:z}),Y=(0,i.useCallback)((()=>{if(U)return(0,c.vN_)(n,"paymentsSelectProfile");if(_||k)return q&&q.data&&q.data&&q.data.length>1&&w&&w.uuid?(0,c.vN_)(n,"businessSelectPolicy",w.uuid):(0,c.vN_)(n,"paymentsSelectProfile");if(S){if(H&&w&&w.uuid){const e=H.uuid,s=w.uuid;return(0,c.vN_)(n,"businessSelectExpenseCode","".concat(s,"|").concat(e))}return(0,c.vN_)(n,"paymentsSelectProfile")}return(0,c.C45)(n)}),[q,k,S,_,U,n,H,w]),K=(0,i.useCallback)((e=>"group_order"===e?(0,c.Ljk)(n,(0,c.WxO)(Z)):(0,c.C45)(n)),[n,Z]),W=(0,i.useCallback)((()=>{D(null),j(null),V(null),A(null),R({isLoading:!1,hasLoaded:!1,data:null,error:null}),I({isLoading:!1,hasLoaded:!1,data:null,error:null})}),[I,R,V,j,A,D]),Q=(0,i.useCallback)(((e,s)=>{W(),o("eats:business_switch_profile_type",{businessDetails:{parentFlow:s||"checkout"}});const i=(E.data||[]).find((s=>s.uuid===e));if(!E.data||!i)return u.replace(K(s));if(D(i),!i.isManagedBusiness)return u.replace(K(s));const a="group_order"===s?(0,c.$m7)(n,(0,c.WxO)(Z),e):(0,c.vN_)(n,"businessSelectPolicy",e);return u.replace(a)}),[K,E.data,u,n,W,D,Z,o]),$=(0,i.useCallback)((()=>w?{profileUUID:null==w?void 0:w.uuid,profileType:null==w?void 0:w.type,policyUUID:null==H?void 0:H.uuid,policyVersion:null==H?void 0:H.version,expenseCode:null==G?void 0:G.expenseCode,expenseMemo:z}:{policyUUID:null,profileUUID:null,policyVersion:null,profileType:p.Hu.Personal,expenseCode:null,expenseMemo:null}),[w,H,G,z]);return(0,i.useEffect)((()=>{var e;Z.profileUuid&&Z.profileUuid!==(null==w?void 0:w.uuid)&&Q(Z.profileUuid),(U||L)&&null!=q&&q.hasLoaded&&(null==w?void 0:w.uuid)===Z.profileUuid&&1===(null==q||null===(e=q.data)||void 0===e?void 0:e.length)&&A(((null==q?void 0:q.data)||[])[0])}),[q,E,u,U,n,Q,Z,w,R,A,L]),(0,i.useEffect)((()=>{if(!M&&!w&&E.data&&C&&C.profileUuid&&C.profileUuid!==(null==w?void 0:w.uuid)){const e=(0,t.b6)(E.data,C.profileUuid);D(e)}if(!M&&q.data&&C&&C.policyUuid&&C.policyUuid!==(null==H?void 0:H.uuid)){const e=((null==q?void 0:q.data)||[]).find((e=>e.uuid===C.policyUuid));A(e)}}),[M,C,E.data,D,w,q,A,H]),{businessPolicies:q,businessProfiles:E,getBusinessProfiles:E.refetch,onSelectBusinessProfile:Q,setSelectedBusinessProfile:D,hasBusinessProfile:T,selectedBusinessProfile:w,selectedBusinessPolicy:H,setSelectedBusinessPolicy:A,businessExpenseCodes:F,searchBusinessExpenseCodes:N,selectedBusinessExpenseCode:G,setSelectedBusinessExpenseCode:V,selectedBusinessExpenseMemo:z,setSelectedBusinessExpenseMemo:j,requiresProfileFlow:e=>{if(!E.data||!e)return!1;const s=E.data.find((s=>s.uuid===e));return(null==s?void 0:s.type)===p.Hu.ManagedBusiness||(null==s?void 0:s.type)===p.Hu.Business},getBackUrl:Y,handleBusinessBackButton:()=>{j(null),V(null),N({query:"",resetPageToken:!0}),(k||U||_)&&A(null),u.replace(Y())},currentStep:X,confirmedProfileSelected:g,setConfirmedProfileSelected:x,getInitialUrl:K,getBusinessDetails:$}}},34842:(e,s,n)=>{"use strict";n.d(s,{Z:()=>m});var i=n(77808),a=n(73086),l=n(81922),t=n(86724),u=n(46816),o=n(25018),d=n(27531),r=n(60442);function c(e){let{cartCurrencyCode:s,storeCurrencyCode:n}=e;return Boolean(s&&n&&s!==n)}var p=n(43287),y=n(57228),v=n(83809),f=n(45577);function m(e){var s;let{businessProfiles:n}=e;const m=(0,a.I0)(),P=(0,u.ZP)(),{user:b}=(0,t.Z)(),{creditBalances:C}=function(){var e,s,n,a,l,p,y;const{serverCart:v}=(0,o.Z)(),{store:f}=(0,d.Z)(null===(e=v.data)||void 0===e?void 0:e.storeUuid),m=(0,u.ZP)(),{user:P}=(0,t.Z)(),b=null===(s=P.data)||void 0===s?void 0:s.isLoggedIn,C=null===(n=v.data)||void 0===n?void 0:n.cartUuid,g=(null===(a=v.data)||void 0===a?void 0:a.currencyCode)||"",x=null===(l=f.data)||void 0===l?void 0:l.uuid,B=(null===(p=f.data)||void 0===p?void 0:p.currencyCode)||"";(0,i.useEffect)((()=>{c({cartCurrencyCode:g,storeCurrencyCode:B})?m("eats:cart__currency_code__mismatch",{cartCurrencyCodeMismatch:{detectionSource:"useGetCreditBalancesHook",cartInfo:{cartUuid:C,currencyCode:g},storeInfo:{storeUuid:x,currencyCode:B}}}):g&&B&&m("eats:cart__currency_code__match",{cartCurrencyCodeMismatch:{detectionSource:"useGetCreditBalancesHook",cartInfo:{cartUuid:C,currencyCode:g},storeInfo:{storeUuid:x,currencyCode:B}}})}),[C,x,g,B,m]);let h=g;c({cartCurrencyCode:g,storeCurrencyCode:B})&&(h=B);const E=(0,r.b)({currencyCode:h},{queryObserverOptions:{enabled:Boolean(h)&&b}});return{isLoading:E.isLoading,isError:E.isError,getCreditBalances:E.refetch,creditBalances:(null===(y=E.data)||void 0===y?void 0:y.creditBalances)||[]}}(),g=(0,l.v)((e=>e.checkout)),{useCredits:x,extraPaymentData:B,selectedPersonalPayment:h}=g||{},[E,Z]=(0,i.useState)(null),[U,_]=(0,i.useState)(null),{shouldUsePaymentsHub:k,paymentsHubProfiles:S,publishableKey:L,integrationName:M,preferredProfileUUID:O}=(0,f.Z)(),{lastSelectedProfile:T,paymentProfiles:q}=(null===(s=b.data)||void 0===s?void 0:s.paymentProfiles)||{lastSelectedProfile:"",paymentProfiles:[]},R=k&&S?S:q,w=(0,i.useCallback)((e=>R&&e?R.find((s=>s.uuid===e)):null),[R]),H=(0,v.Z)(),A=w(null==h?void 0:h.uuid),D=(n.data||[]).find((e=>e.defaultPaymentProfileUuid===(null==h?void 0:h.uuid))),F=w(O),N=w(T),I=(null==A?void 0:A.uuid)||(null==F?void 0:F.uuid)||(null==N?void 0:N.uuid),G=(n.data||[]).find((e=>e.type===y.Hu.Personal)),V=w(null==G?void 0:G.defaultPaymentProfileUuid),z=(0,i.useCallback)((e=>{const s=w(e);s&&m((0,p.yG)({uuid:s.uuid}))}),[m,w]);return(0,i.useEffect)((()=>{T.length>0&&!R.includes(T)&&P("eats:payment_hub_last_profile_uuid_miss",{lastProfileUuid:T,webPayments:{key:L,integrationName:M}})}),[P,M,T,R,L]),(0,i.useEffect)((()=>{!H&&F&&m((0,p.yG)({uuid:null==F?void 0:F.uuid}))}),[F,H,m]),(0,i.useEffect)((()=>{if(H){const e=R.find((e=>"paypay"===(null==e?void 0:e.tokenType)));null!=e&&e.uuid&&(null==h?void 0:h.uuid)!==(null==e?void 0:e.uuid)&&m((0,p.yG)({uuid:null==e?void 0:e.uuid}))}else A||D||!h?null!=h&&h.uuid||!(I||null!=V&&V.uuid||R.length>0)||m((0,p.yG)({uuid:(null==A?void 0:A.uuid)||(null==F?void 0:F.uuid)||(null==N?void 0:N.uuid)||(null==V?void 0:V.uuid)||R[0].uuid})):m((0,p.yG)(null))}),[m,N,F,h,A,I,H,w,V,R,D]),{selectedPersonalPayment:A||F||N,updateSelectedPersonalPayment:z,guestPaymentProfile:E,setGuestPaymentProfile:Z,guestPaymentProfileV2:U,setGuestPaymentProfileV2:_,extraPaymentData:B,paymentProfiles:R,creditBalances:C,useCredits:x}}},60442:(e,s,n)=>{"use strict";n.d(s,{b:()=>t});var i=n(2815),a=n(52753),l=n(30879);function t(e,s){const n=(0,l.Z)("getCreditBalancesV1"),t=(0,a.H)("getCreditBalancesV1",e);return(0,i.useQuery)({queryKey:t,queryFn:e=>{let{queryKey:s}=e;return n.request("getCreditBalancesV1",s[1])},...null==s?void 0:s.queryObserverOptions})}},25018:(e,s,n)=>{"use strict";n.d(s,{Z:()=>o});var i=n(57734),a=n(41718),l=n(83095),t=n(35121),u=n(71463);const o=e=>{const s=(0,a.Z)(),n=(0,i.Ah)(s),o=(0,t.Z)(e).cart,d=(0,u.Z)(n);return{serverCart:o,cartData:o.data||l.g0,hasCartToLoad:Boolean(n),hasCartChanged:d!==n}}},57228:(e,s,n)=>{"use strict";n.d(s,{$C:()=>u,Hu:()=>l,TW:()=>a,vO:()=>t});var i=n(8683);const a={...i.E,data:[]},l={Personal:"Personal",Business:"Business",ManagedBusiness:"ManagedBusiness",ManagedFamily:"ManagedFamily",Commuter:"Commuter"},t={Centralized:"Centralized",Decentralized:"Decentralized"},u=(i.E,{...i.E,data:{expenseCodes:[],hasMore:!1,query:""}})},17275:(e,s,n)=>{e.exports=n.p+"f93f7c0e3996c021.svg"},56492:(e,s,n)=>{e.exports=n.p+"37053d4d3972ae6d.svg"},96084:(e,s,n)=>{e.exports=n.p+"472475c485d211d4.svg"},27926:(e,s,n)=>{e.exports=n.p+"4dbcffc65086d2a1.svg"},92023:(e,s,n)=>{e.exports=n.p+"298c5d3f9e2f0415.svg"},76664:(e,s,n)=>{e.exports=n.p+"4a8c2b5a0ef3d828.svg"},72536:(e,s,n)=>{e.exports=n.p+"85573f825c72de21.svg"},99982:(e,s,n)=>{e.exports=n.p+"16de2f01b2abfcd4.svg"},3174:(e,s,n)=>{e.exports=n.p+"c57afa92c9773650.svg"},86924:(e,s,n)=>{e.exports=n.p+"a90ee32180aec8e4.svg"},38674:(e,s,n)=>{e.exports=n.p+"0b243493e38d216d.svg"},49076:(e,s,n)=>{e.exports=n.p+"7d599df78947c601.svg"},14249:(e,s,n)=>{e.exports=n.p+"a01e1bb4a6328427.svg"},67915:(e,s,n)=>{e.exports=n.p+"6b22c989b1553e5e.svg"},17587:(e,s,n)=>{e.exports=n.p+"29c3a6a2d4cd40fa.svg"},77789:(e,s,n)=>{e.exports=n.p+"ace8b254555025fb.svg"},2244:(e,s,n)=>{e.exports=n.p+"807d3e39daf4977c.svg"},4660:(e,s,n)=>{e.exports=n.p+"82144546657e40d2.svg"},82542:(e,s,n)=>{e.exports=n.p+"155e5c4d6a0dd96b.svg"},978:(e,s,n)=>{e.exports=n.p+"bd8dd7999964321d.svg"},46727:(e,s,n)=>{e.exports=n.p+"7bcefd4dbe11d684.svg"},47782:(e,s,n)=>{e.exports=n.p+"899713dd6dea5932.svg"}}]);