"use strict";(self.webpackChunkFusion=self.webpackChunkFusion||[]).push([[32077],{39486:(E,e,L)=>{L.d(e,{LK:()=>R,fn:()=>_,ko:()=>t,nJ:()=>O});const O=Object.freeze({UNKNOWN:"UNKNOWN",GROUP_ORDER:"GROUP_ORDER",SEE_SIMILAR:"SEE_SIMILAR",STORE_BUNDLING:"STORE_BUNDLING",OVERFLOW:"OVERFLOW",SCHEDULE:"SCHEDULE"}),_=(Object.freeze({DISMISS:"DISMISS",SCHEDULE:"SCHEDULE",SWITCH_ASAP:"SWITCH_ASAP"}),Object.freeze({UNKNOWN:"UNKNOWN",EMBEDDED_VIEW:"EMBEDDED_VIEW",ACTION_SHEET:"ACTION_SHEET",RESERVED_2:"RESERVED_2",RESERVED_3:"RESERVED_3",RESERVED_4:"RESERVED_4",RESERVED_5:"RESERVED_5",RESERVED_6:"RESERVED_6",RESERVED_7:"RESERVED_7"}),Object.freeze({UNKNOWN:"UNKNOWN",BYOC:"BYOC",TOP_EATS:"TOP_EATS"}),Object.freeze({UNKNOWN:"UNKNOWN",BYOC:"BYOC",TOP_EATS:"TOP_EATS",IN_STORE_PRICING:"IN_STORE_PRICING"}),Object.freeze({STANDARD:"STANDARD",SLIM:"SLIM"}),Object.freeze({DEFAULT:"DEFAULT",VEG_PREVALENT_MARKET:"VEG_PREVALENT_MARKET"}),Object.freeze({NONE:"NONE",FILTER:"FILTER"}),Object.freeze({STANDARD:"STANDARD",USE_SECTION_AS_CATEGORY:"USE_SECTION_AS_CATEGORY"}),Object.freeze({DEFAULT:"DEFAULT"}),Object.freeze({DISCLAIMER:"DISCLAIMER",STANDARD_METADATA:"STANDARD_METADATA",NUTRITION_FACTS:"NUTRITION_FACTS",UNKNOWN:"UNKNOWN",PRICING:"PRICING",CUSTOMIZATION_METADATA:"CUSTOMIZATION_METADATA",CATALOG_SECTION:"CATALOG_SECTION",QUANTITY_SELECTOR:"QUANTITY_SELECTOR",ALERT:"ALERT",REMOVE_ITEM_BUTTON:"REMOVE_ITEM_BUTTON",STORES_WITH_PRODUCT:"STORES_WITH_PRODUCT",VARIANT_OPTIONS_GROUP:"VARIANT_OPTIONS_GROUP",MINI_STORE_CARD:"MINI_STORE_CARD",REPLACEMENT_PREFERENCES:"REPLACEMENT_PREFERENCES",ALLERGY_PREFERENCES:"ALLERGY_PREFERENCES",SPECIAL_INSTRUCTIONS:"SPECIAL_INSTRUCTIONS"})),t=Object.freeze({TILE:"TILE",DROPDOWN:"DROPDOWN",PILL:"PILL"}),R=(Object.freeze({SUCCESS:"SUCCESS",INFO:"INFO",WARNING:"WARNING",FAILURE:"FAILURE",CUSTOM:"CUSTOM"}),Object.freeze({COLLAPSED:"COLLAPSED",EXPANDED:"EXPANDED"}),Object.freeze({UNDEFINED:"UNDEFINED",VEGETARIAN:"VEGETARIAN",VEGAN:"VEGAN",GLUTEN_FREE:"GLUTEN_FREE",PLACEHOLDER_4:"PLACEHOLDER_4",PLACEHOLDER_5:"PLACEHOLDER_5",PLACEHOLDER_6:"PLACEHOLDER_6",PLACEHOLDER_7:"PLACEHOLDER_7",PLACEHOLDER_8:"PLACEHOLDER_8",PLACEHOLDER_9:"PLACEHOLDER_9"}),Object.freeze({HORIZONTAL_GRID:"HORIZONTAL_GRID",VERTICAL_GRID:"VERTICAL_GRID",EXPLORE_MENU:"EXPLORE_MENU",EATER_MESSAGE:"EATER_MESSAGE",CATEGORY_LIST_ITEM:"CATEGORY_LIST_ITEM",SPECIAL_REQUEST:"SPECIAL_REQUEST",EMPTY_STATE:"EMPTY_STATE",AD_CANVAS:"AD_CANVAS",BUNDLE_STORE:"BUNDLE_STORE"}));Object.freeze({UNKNOWN:"UNKNOWN",MENU:"MENU",COLLECTION:"COLLECTION"}),Object.freeze({SPECIAL_REQUEST:"SPECIAL_REQUEST",REFRESH:"REFRESH",DISMISS:"DISMISS"}),Object.freeze({ITEM:"ITEM",COMBO:"COMBO",INTER_SUBSECTION_CAROUSEL:"INTER_SUBSECTION_CAROUSEL"}),Object.freeze({DEFAULT:"DEFAULT",CAROUSEL:"CAROUSEL"}),Object.freeze({DEFAULT:"DEFAULT",COLLAPSED:"COLLAPSED"}),Object.freeze({DEFAULT:"DEFAULT",PROMOTION:"PROMOTION"}),Object.freeze({UBER_CASH:"UBER_CASH"}),Object.freeze({NOOP:"NOOP",INSERT:"INSERT"}),Object.freeze({DEFAULT:"DEFAULT",PHYSICAL:"PHYSICAL",VIRTUAL:"VIRTUAL",DELIVERY_API:"DELIVERY_API",STANDALONE_VIRTUAL:"STANDALONE_VIRTUAL",GROCERY_STORE:"GROCERY_STORE",RESERVED_6:"RESERVED_6",RESERVED_7:"RESERVED_7"}),Object.freeze({FLAT:"FLAT",PERCENT:"PERCENT",FREE_DELIVERY:"FREE_DELIVERY",DISCOUNT_DELIVERY:"DISCOUNT_DELIVERY",PLACEHOLDER_0:"PLACEHOLDER_0",DO_NOT_USE_FREE_ITEM:"DO_NOT_USE_FREE_ITEM",DO_NOT_USE_DISCOUNTED_ITEM:"DO_NOT_USE_DISCOUNTED_ITEM",VIRTUALPROMO_UBERCASH:"VIRTUALPROMO_UBERCASH",PLACEHOLDER_9:"PLACEHOLDER_9",PLACEHOLDER_10:"PLACEHOLDER_10",PLACEHOLDER_11:"PLACEHOLDER_11",PLACEHOLDER_12:"PLACEHOLDER_12",PLACEHOLDER_13:"PLACEHOLDER_13",PLACEHOLDER_14:"PLACEHOLDER_14",PLACEHOLDER_15:"PLACEHOLDER_15",PLACEHOLDER_16:"PLACEHOLDER_16",PLACEHOLDER_17:"PLACEHOLDER_17",PLACEHOLDER_18:"PLACEHOLDER_18",PLACEHOLDER_19:"PLACEHOLDER_19",PLACEHOLDER_20:"PLACEHOLDER_20",PLACEHOLDER_21:"PLACEHOLDER_21",PLACEHOLDER_22:"PLACEHOLDER_22",PLACEHOLDER_23:"PLACEHOLDER_23",PLACEHOLDER_24:"PLACEHOLDER_24",PLACEHOLDER_25:"PLACEHOLDER_25",PLACEHOLDER_26:"PLACEHOLDER_26",PLACEHOLDER_27:"PLACEHOLDER_27",PLACEHOLDER_28:"PLACEHOLDER_28",PLACEHOLDER_29:"PLACEHOLDER_29",PLACEHOLDER_30:"PLACEHOLDER_30",PLACEHOLDER_31:"PLACEHOLDER_31",PLACEHOLDER_32:"PLACEHOLDER_32"}),Object.freeze({UNKNOWN:"UNKNOWN",ALCOHOL:"ALCOHOL",PLACE_HOLDER_2:"PLACE_HOLDER_2",PLACE_HOLDER_3:"PLACE_HOLDER_3",PLACE_HOLDER_4:"PLACE_HOLDER_4",PLACE_HOLDER_5:"PLACE_HOLDER_5",PLACE_HOLDER_6:"PLACE_HOLDER_6",PLACE_HOLDER_7:"PLACE_HOLDER_7",PLACE_HOLDER_8:"PLACE_HOLDER_8",PLACE_HOLDER_9:"PLACE_HOLDER_9",PLACE_HOLDER_10:"PLACE_HOLDER_10"}),Object.freeze({UNKNOWN:"UNKNOWN",ALCOHOL:"ALCOHOL",PLACE_HOLDER_2:"PLACE_HOLDER_2",PLACE_HOLDER_3:"PLACE_HOLDER_3",PLACE_HOLDER_4:"PLACE_HOLDER_4",PLACE_HOLDER_5:"PLACE_HOLDER_5",PLACE_HOLDER_6:"PLACE_HOLDER_6",PLACE_HOLDER_7:"PLACE_HOLDER_7",PLACE_HOLDER_8:"PLACE_HOLDER_8",PLACE_HOLDER_9:"PLACE_HOLDER_9",PLACE_HOLDER_10:"PLACE_HOLDER_10"}),Object.freeze({UNKNOWN:"UNKNOWN",INSTAGRAM:"INSTAGRAM",PLACEHOLDER_2:"PLACEHOLDER_2",PLACEHOLDER_3:"PLACEHOLDER_3",PLACEHOLDER_4:"PLACEHOLDER_4",PLACEHOLDER_5:"PLACEHOLDER_5",PLACEHOLDER_6:"PLACEHOLDER_6",PLACEHOLDER_7:"PLACEHOLDER_7",PLACEHOLDER_8:"PLACEHOLDER_8",PLACEHOLDER_9:"PLACEHOLDER_9",PLACEHOLDER_10:"PLACEHOLDER_10"}),Object.freeze({STORE_OPENING_SOON:"STORE_OPENING_SOON",STORE_CLOSING_SOON:"STORE_CLOSING_SOON",STORE_CLOSED:"STORE_CLOSED",NOT_ACCEPTING_ORDERS:"NOT_ACCEPTING_ORDERS",TOO_FAR_TO_DELIVER:"TOO_FAR_TO_DELIVER",NO_COURIERS_NEARBY:"NO_COURIERS_NEARBY",CLOSING_TOO_SOON_TO_DELIVER:"CLOSING_TOO_SOON_TO_DELIVER",PLACEHOLDER_2:"PLACEHOLDER_2",AVAILABLE:"AVAILABLE",UNKNOWN:"UNKNOWN"}),Object.freeze({CAMERA:"CAMERA",GALLERY:"GALLERY",DISMISS:"DISMISS"}),Object.freeze({NONE:"NONE",JPEG:"JPEG",PNG:"PNG"})},32077:(E,e,L)=>{L.d(e,{ck:()=>n,fy:()=>D,xZ:()=>r});var O=L(74978),_=L(66791),t=L(68910),R=L(10247),A=L(76893);function n(E){var e;return E&&(null==E||null===(e=E.customizationsList)||void 0===e?void 0:e.filter((E=>E.minPermitted>0||E.minPermittedUnique>0)).length)||0}function r(){var E,e,L;const{serverCart:R}=(0,O.iQ)(),{validationErrorTypes:n}=(0,O.Dz)(),r=null===(E=R.data)||void 0===E?void 0:E.storeUuid,D=(null===(e=R.data)||void 0===e?void 0:e.items)||[],C=(0,t.Z)(),i=(0,_.kF)(C),o=(0,A.dH)(D),l=(0,A.cJ)(D),T=(0,_.eX)(r||""),a=(0,A.DR)(null===(L=R.data)||void 0===L?void 0:L.items);return{quantity:o,numDistinctItem:l,deliveryTime:T,modality:(null==C?void 0:C.diningMode)||"",orderRole:i||"",subTotal:a,validationErrors:n}}function D(E,e){var L,A,r,D,C,i,o,l,T,a,S,N;const{serverCart:P}=(0,O.iQ)(),d=(0,R.d)(),u=null!==(L=null===(A=P.data)||void 0===A?void 0:A.storeUuid)&&void 0!==L?L:"",I=(0,t.Z)(),s=null!==(r=(0,_.kF)(I))&&void 0!==r?r:"",c=(0,_.eX)(u),H=null==E?void 0:E.data,U=null!==(D=(null!==(C=null==H?void 0:H.images)&&void 0!==C?C:[]).length)&&void 0!==D?D:0,v=n(H),f=null!==(i=null==H?void 0:H.price)&&void 0!==i?i:0;return{quantity:null!=e?e:0,numImages:U,deliveryTime:c,orderRole:s,numRequiredCustomizations:v,diningMode:d,hasCaloricInfo:Boolean(null==H?void 0:H.nutritionalInfo),hasDescription:Boolean(null==H?void 0:H.itemDescription),localPrice:f,hasRating:"confidence_builders_eater_endorsed"===(null==H?void 0:H.endorsementAnalyticsTag),ratings:String((null==H||null===(o=H.endorsement)||void 0===o||null===(l=o.text)||void 0===l||null===(T=l.split(","))||void 0===T?void 0:T[1])||""),pctLiked:String((null==H||null===(a=H.endorsement)||void 0===a||null===(S=a.text)||void 0===S||null===(N=S.split(","))||void 0===N?void 0:N[0])||"")}}},66791:(E,e,L)=>{L.d(e,{kF:()=>l,uD:()=>S,IJ:()=>a,eX:()=>T});var O=L(36248),_=L(68910);let t=function(E){return E.groupOrderCreator="group_order_creator",E.groupOrderParticipant="group_order_participant",E.singleOrder="single_order",E}({}),R=function(E){return E.asap="asap",E.scheduled="scheduled",E}({});var A=L(10247),n=L(46816),r=L(88386),D=L(77808),C=L(3892),i=L(72431),o=L(39926);function l(E){return E.isDraftOrderCreator?t.groupOrderCreator:E.isDraftOrderParticipant?t.groupOrderParticipant:t.singleOrder}function T(E){const e=(0,r.Z)(E);return"object"==typeof e.deliveryTime&&"scheduled"in e.deliveryTime?R.scheduled:R.asap}function a(E){var e,L,t;let{store:R,isLegacyStorePayload:a,activeSectionUuid:S}=E;const N=(0,O.Tz)(),P=l((0,_.Z)()),d=(0,A.d)(),u=T(R.uuid),I=(0,n.ZP)(),s=function(E){var e;return"USE_SECTION_AS_CATEGORY"===E.menuDisplayType?1:(null===(e=E.sections)||void 0===e?void 0:e.length)||0}(R),c=R.timing,H=(null===(e=R.parentChain)||void 0===e?void 0:e.uuid)||"",U=R.citySlug||"",{title:v,uuid:f,currencyCode:M,status:m}=(0,C.TG)(R),G=null===(L=R.storeInfoMetadata)||void 0===L||null===(t=L.storeAvailablityStatus)||void 0===t?void 0:t.state,{activePreferenceType:y}=(0,r.Z)(R.uuid),p="USE_SECTION_AS_CATEGORY"===R.menuDisplayType?"grocery":"restaurant",V=((E,e)=>{var L;if(!e)return"Single Level List";const O=(0,o.A)(E)?"Multi Level":"Single Level",_=(null===(L=E.catalogSectionsMap)||void 0===L?void 0:L[e])||[],t=_.some((E=>{const e=(0,i.FA)(E);return((null==e?void 0:e.catalogItems)||[]).some((E=>"LIST"===E.displayType))})),R=_.some((E=>{const e=(0,i.FA)(E);return((null==e?void 0:e.catalogItems)||[]).some((E=>"GRID"===E.displayType))})),A=t&&R?"Mixed":t?"List":"Grid";return"".concat(O," ").concat(A)})(R,S);(0,D.useEffect)((()=>{c&&I("eats:store",{store:{title:v,uuid:f,currencyCode:M,status:m},isLegacyStorePayload:a,storeAvailabilityState:G,activePreferenceType:y,vertical:p,slug:U,storeMainView:{previousPath:N,diningMode:d,numMenus:s,chainUUID:H,orderRole:P,deliveryTime:u,storeLayout:V,loadTime:c}})}),[I,v,f,M,G,m,a,y,U,N,d,s,p,H,P,u,V,c])}function S(){const E=(0,n.ZP)(),e=(0,_.Z)();return function(L,O){E("eats:store_menu_switcher_select",{storeMenuSwitcher:{storeUUID:L,isMenuOpen:O,orderRole:l(e)}})}}},72431:(E,e,L)=>{L.d(e,{E0:()=>n,FA:()=>_,Tm:()=>C,Yx:()=>i,ex:()=>r,kR:()=>t,n$:()=>R,qY:()=>D,uw:()=>l,xZ:()=>o});var O=L(39486);function _(E){var e;return"standardItemsPayload"===(null===(e=E.payload)||void 0===e?void 0:e.type)?E.payload.standardItemsPayload:null}function t(E){return Object.values(E||{}).flat().find((E=>E.type===O.LK.BUNDLE_STORE))}function R(E,e,L){if(!E)return null;const O=L?E[L]:A(E);if(O)for(const E of O){const L=_(E),O=((null==L?void 0:L.catalogItems)||[]).find((E=>E.uuid===e));if(O)return O}return null}const A=E=>(Object.values(E||{})||[]).reduce(((E,e)=>E.concat(e)),[]);function n(E){var e;if(!E)return null;const L=_(E);return L?null===(e=L.title)||void 0===e?void 0:e.text:null}function r(E){if(!E)return null;const e=_(E);return e?null==e?void 0:e.ctaMetadata:null}function D(E,e,L){var O;if(!E||!L)return[];let _=E;return e&&L&&L[e]&&(_=L[e]),null!==(O=_)&&void 0!==O?O:[]}function C(E,e){let L=0;return E.reduce(((E,O)=>{var _,t,R;const A=O.catalogSectionUUID;if(!A||"standardItemsPayload"!==(null===(_=O.payload)||void 0===_?void 0:_.type))return E;const n=(null===(t=O.payload)||void 0===t||null===(R=t.standardItemsPayload)||void 0===R?void 0:R.catalogItems)||[];if(L+n.length>=e){const O=e-L;return L+=O,{...E,[A]:O}}return L+=n.length,{...E,[A]:n.length}}),{})}const i=E=>{let{catalogItem:e,sectionUuid:L,catalogSectionUuid:O,isGrocery:_,isMerchantOffersEnabled:t}=E;return!_&&t?L:e.sectionUuid?e.sectionUuid:O},o=(E,e)=>{var L;let O="";var _;if(null==E||null===(L=E.endorsement)||void 0===L||!L.text||"confidence_builders_eater_endorsed"!==(null==E?void 0:E.endorsementAnalyticsTag))return null==E||null===(_=E.endorsement)||void 0===_?void 0:_.text;{const L=E.endorsement.text.split(",");"treatment_1"===e&&(O=parseInt(L[0])<60?"":L[0]+"% ("+L[1]+")"),"treatment_2"===e&&(O=parseInt(L[0])<80?"":L[0]+"% ("+L[1]+")")}return O},l=(E,e)=>{let L=0,O=0,_=0;return"treatment_1"!==e&&"treatment_2"!==e||null==E||E.forEach((E=>{var t,R,A,n;"standardItemsPayload"===(null==E||null===(t=E.payload)||void 0===t?void 0:t.type)&&null!=E&&null!==(R=E.payload)&&void 0!==R&&R.standardItemsPayload&&((null==E||null===(A=E.payload)||void 0===A||null===(n=A.standardItemsPayload)||void 0===n?void 0:n.catalogItems)||[]).forEach((E=>{O=++O,"confidence_builders_eater_endorsed"===E.endorsementAnalyticsTag&&(L=++L,o(E,e)&&(_=++_))}))})),{totalMenuItems:O,totalMenuItemsWithRatings:L,totalMenuItemsWithRatingsInTreatment:_}}},39926:(E,e,L)=>{L.d(e,{A:()=>O,E:()=>_});const O=E=>"USE_SECTION_AS_CATEGORY"===E.menuDisplayType,_=E=>O(E)?"grocery":"restaurant"}}]);