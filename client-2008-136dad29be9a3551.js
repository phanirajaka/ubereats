(self.webpackChunkFusion=self.webpackChunkFusion||[]).push([[2008],{90145:(e,t,i)=>{"use strict";i.d(t,{Z:()=>v});var n=i(59869),a=i(41494),r=i(90997),o=i(58252),d=i(64248),l=i(46816),s=i(90004),c=i(10988),p=i(68910),u=i(27531),g=i(72920),h=i(50725),m=i(30330);const x=(0,d.w1)(n.Bi,{padding:"0px 12px 0 8px"}),f=(0,d.zo)("div",(e=>{let{$theme:t}=e;return t.typography.LabelSmall})),v=e=>{const t=(0,s.Z)(),i=(0,l.ZP)(),n=(0,c.Z)(),{deliveryAddress:d,deliveryTime:v,diningMode:y,storeUuid:Z,isDraftOrderParticipant:b}=(0,p.Z)(),{getStore:S}=(0,u.Z)(Z,{deliveryAddress:d,deliveryTime:v,diningMode:y,isGroupOrderParticipant:b}),{restaurantLink:z}=(0,h.Z)({storeUuid:Z});return z?(0,m.BX)(x,{"data-testid":"add-items-mini-button",$as:r.rU,to:z,onClick:()=>{t&&(n(),S()),i("eats:click_store_link",{source:e.source,...t?{activePreferenceType:"draft_order"}:{}}),e.onClick&&e.onClick()},children:[(0,m.tZ)(o.Z,{type:"PlusSmall"}),(0,m.tZ)(a.Q3,{}),(0,m.tZ)(f,{children:(0,m.tZ)(g.v,{id:"shared.addItems"})})]}):null}},3599:(e,t,i)=>{"use strict";i.d(t,{Z:()=>$});var n=i(77808),a=i(64248),r=i(26200),o=i(46816),d=i(3892),l=i(44335),s=i(46158),c=i(44522),p=i(88386),u=i(40324),g=i(48532),h=i(37725),m=i(26602),x=i(20480),f=i(4982),v=i(92346),y=i(30330);const Z=(0,a.zo)("div",(e=>{let{$isFullWidth:t}=e;return{display:"flex",position:"relative",width:t?"100%":"auto"}})),b=(0,a.w1)(s.Z,(e=>{let{$theme:t}=e;return{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",...t.typography.LabelSmall,textAlign:"center",height:"100%",padding:"0 16px",borderRadius:t.borders.pillButtonBorderRadius,transition:l.pB.default}})),S=(0,a.zo)("div",(e=>{let{$theme:t,$background:i,$smallPill:n,$isDisabled:a}=e;return{background:t.colors[i||"backgroundTertiary"],display:"flex",width:"100%",borderRadius:t.borders.pillButtonBorderRadius,padding:"".concat(4,"px"),boxSizing:"border-box",whiteSpace:"nowrap",height:n?"40px":"48px",...a?{...(0,g.Z)(t)}:{}}})),z=(0,a.zo)("div",(e=>{let{$theme:t,$isDisabled:i}=e;return{width:"50%",display:"flex",justifyContent:"center",zIndex:l.I_.surface,...i?{pointerEvents:"none"}:{}}})),L=(0,a.zo)("div",(e=>{let{$background:t,$position:i,$theme:n,$width:a}=e;return{position:"absolute",transform:"translateX(".concat(i,"px)"),height:"calc(100% - ".concat(8,"px)"),width:"".concat(a||0,"px"),background:n.colors[t],borderRadius:n.borders.pillButtonBorderRadius,zIndex:l.I_.base,transition:a?l.pB.default:"none"}})),$=e=>{const t=(0,h.k6)(),i=(0,v.TH)(),a=(0,o.ZP)(),l=(0,n.useRef)([]),s=(0,n.useRef)(!1),[g,$]=(0,n.useState)({position:0,width:0}),{diningModes:I,handleDiningModeClick:B}=(0,r.ZP)(null),C=(0,c.Z)(I),{modalName:k}=(0,m.RAN)(i,["modalName"]),{diningMode:w}=(0,p.Z)();(0,r.OT)(C);const P=(0,u.Z)(),_=(0,f.Z)("apple_maps_checkout_dining_mode_listener"),E=function(){const e=(0,x.Z)();return"apple_maps_store_inherit"===(null==e?void 0:e.originType)}();let R=e.supportedDiningModes?e.supportedDiningModes:C;const D=R&&R.length<2||!e.supportedDiningModes&&!C;if((0,n.useEffect)((()=>{D||!R||s.current||(s.current=!0,a("eats:dining_mode_selector",{diningModes:(0,d.rG)(R),diningMode:w}))}),[a,R,w,D]),(0,n.useEffect)((()=>{_&&E&&(Boolean(k)||"DELIVERY"===w&&(B("PICKUP"),a("eats:apple_maps_checkout_dining_mode_reset_activated")))}),[k,E,w,B,_,a]),(0,n.useEffect)((()=>{if(R){let e=0;R.forEach(((t,i)=>{var n;const a=(null===(n=l.current[i])||void 0===n?void 0:n.getBoundingClientRect())||null;w===t.mode&&a&&$({position:e,width:a.width}),e+=(null==a?void 0:a.width)||0}))}}),[R,w]),D)return null;let T;return T=e.isDisabled&&e.inverseColors?"contentStateDisabled":P?"primary":e.inverseColors?"backgroundInversePrimary":"backgroundPrimary",(0,y.tZ)(Z,{$isFullWidth:Boolean(e.isFullWidth),children:(0,y.BX)(S,{$smallPill:e.smallPill,$background:e.inverseColors?"backgroundPrimary":void 0,$isDisabled:e.isDisabled,children:[(R||[]).map(((n,r)=>{const o=w===n.mode;let d;return d=e.isDisabled?e.inverseColors&&o?"disabled":"contentStateDisabled":P&&o?"buttonPrimaryText":P&&!o?"contentPrimary":e.inverseColors&&o?"contentInversePrimary":"contentPrimary",(0,y.tZ)(z,{ref:e=>{l.current[r]=e},$isDisabled:e.isDisabled,children:(0,y.tZ)(b,{type:"radio",color:d,label:n.title,value:n.mode,checked:o,hideBackground:!0,onChange:()=>{e.isDisabled||(a("eats:dining_mode_click",{diningMode:n.mode}),B(n.mode),E&&"DELIVERY"===n.mode&&t.push((0,m.vN_)(i,"locationManager","DELIVERY_LOCATION_MANAGER")))}})},n.mode)})),(0,y.tZ)(L,{$background:T,$position:g.position,$width:g.width})]})})}},66501:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o});var n=i(77808),a=i(2590),r=i(30330);const o=n.forwardRef((function(e,t){return(0,r.tZ)(a.Z,{viewBox:"0 0 24 24",ref:t,...e,children:(0,r.tZ)("path",{d:"M9.4 12l7.7 10h-3.8L5.6 12l7.7-10h3.8L9.4 12z"})})}))},46158:(e,t,i)=>{"use strict";i.d(t,{Z:()=>d});var n=i(64248),a=i(41583),r=i(30330);const o=(0,n.zo)("div",(e=>{let{$color:t,$checked:i,$hideBackground:n,$theme:a}=e;return{...a.typography.LabelSmall,padding:"8px 12px",boxSizing:"border-box",...i?{backgroundColor:a.colors.buttonPrimaryFill,color:a.colors.buttonPrimaryText}:{backgroundColor:a.colors.buttonSecondaryFill,color:a.colors.buttonSecondaryText},...n?{backgroundColor:"initial"}:{},...t?{color:a.colors[t]}:{},cursor:"pointer",userSelect:"none"}})),d=(0,n.Le)(o,(e=>function(t){return(0,r.tZ)(e,{$color:t.color,$checked:t.checked,$hideBackground:t.hideBackground,role:t.type,"aria-checked":t.checked,tabIndex:0,"aria-label":t.label,onClick:()=>t.onChange(t.value),onKeyDown:e=>e.keyCode===a.Fx&&t.onChange(t.value),$as:t.$as,to:t.to,children:t.label})}))},25641:(e,t,i)=>{"use strict";i.d(t,{Ug:()=>s,bL:()=>h,rj:()=>u,wl:()=>c});var n=i(77808),a=i(64248),r=i(31394),o=i(30330);const d=n.createContext({}),l=(0,a.zo)("div",(e=>{let{$gridGutter:t,$gridGap:i,$wrap:n}=e;return{boxSizing:"border-box",display:"flex",flexWrap:n?"wrap":"nowrap",marginLeft:"-".concat(t/2,"px"),marginRight:"-".concat(t/2,"px"),marginBottom:"-".concat(i,"px")}})),s=12,c=24,p=24,u=(0,a.Le)(l,(e=>n.forwardRef((function(t,i){const{children:n,gridColumns:a=s,gridGutter:r=c,gridGap:l=p,wrap:u=!1,...g}=t;return(0,o.tZ)(e,{ref:i,...g,$gridGutter:r,$gridGap:l,$wrap:u,children:(0,o.tZ)(d.Provider,{value:{gridColumns:a,gridGutter:r,gridGap:l},children:n})})})))),g=(0,a.zo)("div",(e=>{let{$dir:t,$gridColumns:i,$gridGap:n,$gridGutter:a,$skip:r,$span:o}=e;const d="".concat(100/i*Math.min(r,i-1),"%");return{boxSizing:"border-box",display:"block",flex:"none",width:"".concat(100/i*Math.min(o,i),"%"),paddingLeft:"".concat(a/2,"px"),paddingRight:"".concat(a/2,"px"),marginBottom:"".concat(n,"px"),..."ltr"===t?{marginLeft:d}:{marginRight:d}}})),h=(0,a.Le)(g,(e=>n.forwardRef((function(t,i){const a=(0,r.gm)(),l=n.useContext(d),{children:s,skip:c=0,span:p=1,...u}=t;return(0,o.tZ)(e,{ref:i,...u,$dir:a,$gridColumns:l.gridColumns,$gridGap:l.gridGap,$gridGutter:l.gridGutter,$skip:c,$span:p,children:s})}))))},41190:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var n=i(18898),a=i(64248),r=i(26539),o=i(32567),d=i(30330);const l=(0,a.zo)("div",(e=>{let{$shouldStartAlign:t,$shouldVerticalCenterAlign:i,$margin:n}=e;return{width:"100%",display:"flex",position:"relative",...n?{margin:"0 -".concat(n/2,"px")}:{},...t?null:{justifyContent:"center"},...i?{alignItems:"center"}:{}}}));function s(e){const{displayIndex:t,displaySlides:i,changeDisplaySlide:a,onTransitionEnd:s,useTransition:c,stopAutoScroll:p}=(0,o.Z)({slides:e.slides,pageSize:e.pageSize,autoScrollInterval:e.autoScrollInterval,onSlidesDisplayed:e.onSlidesDisplayed,initialIndex:e.initialIndex,isInfinite:e.isInfinite});if(n.useEffect((()=>{var t;e.shouldUpdateOnIndexChange&&a({index:null!==(t=e.initialIndex)&&void 0!==t?t:0,useTransition:!1})}),[e.shouldUpdateOnIndexChange,e.initialIndex,a]),0===e.slides.length)return null;if(e.slides.length<=e.pageSize)return(0,d.tZ)(l,{$shouldStartAlign:e.shouldStartAlign,$margin:e.margin,children:e.slides.map(((t,i)=>(0,d.tZ)(r.Mi,{$as:"div",$margin:e.margin,$pageSize:e.pageSize,children:e.renderSlide({slide:t,carouselSlideProps:{isDummy:!1,isVisible:!0,index:i}})},i)))});{const n=e.renderPagination,o=e.slides.length>e.pageSize;return(0,d.BX)(l,{$shouldVerticalCenterAlign:!0,children:[o&&e.renderPrevButton?e.renderPrevButton(e.isInfinite||0!==t?()=>a({index:"back"}):null):null,(0,d.tZ)(r.ZP,{displayIndex:t,displaySlides:i,renderSlide:e.renderSlide,pageSize:e.pageSize,margin:e.margin,useTransition:c,onTransitionEnd:s,overflowVisible:e.overflowVisible,onHoverStart:p}),o&&e.renderNextButton?e.renderNextButton(!e.isInfinite&&t+e.pageSize>=e.slides.length?null:()=>a({index:"forward"})):null,n&&e.slides.length>e.pageSize&&e.slides.length%e.pageSize==0?n({currentPage:Math.floor(t/e.pageSize),numPages:e.slides.length/e.pageSize,onChangePage:t=>a({index:t*e.pageSize})}):null]})}}},13928:(e,t,i)=>{"use strict";i.d(t,{Z:()=>u});var n=i(25301),a=i(64248),r=i(27879),o=i(84401),d=i(7274),l=i(66501),s=i(31394),c=i(30330);const p=(0,a.w1)(r.c,(e=>{let{$theme:t,$size:i=40,$type:n="floating"}=e;return{width:"".concat(i,"px"),height:"".concat(i,"px"),..."floating"===n?{boxShadow:t.shadows.floatingButton}:{}}})),u=(0,a.Le)(p,(e=>function(t){let{onClick:i,direction:a,size:r,disabled:p,type:u}=t;const g=(0,s.gm)(),h=(0,n.T)(),m="postmates"===(0,o.Z)()?l.Z:d.Z;let x="backward"===a;return"rtl"===g&&(x=!x),(0,c.tZ)(e,{"aria-label":h("forward"===a?"shared.previous":"shared.next"),onClick:i?()=>i():void 0,disabled:p,$size:r,$type:u,children:(0,c.tZ)(m,{size:16,rotate:x?0:180})})}))},13753:(e,t,i)=>{"use strict";i.d(t,{Z:()=>ee});var n=i(77808),a=i(64248),r=i(72920),o=i(34004),d=i(22465),l=i(2123),s=i(41190),c=i(13928),p=i(79476),u=i(38798),g=i(44335),h=i(62855);const m={[o.cx.HOME_FEED_ITEM]:!0,[o.cx.VERTICAL_FEED_BILLBOARD]:!0,[o.cx.STOREFRONT_CATALOG_ITEM]:!0,[o.cx.UNKNOWN]:!0},x={contentPadding:{padding:"12px 16px"},titleFont:{responsiveFontFamily:{[o._u.REGULAR]:"DisplayBold3XSmall",[o._u.SMALL]:"LabelLarge"},commonFontFamily:{[o._u.REGULAR]:{LEVEL_1:{typography:"DisplayBold5XSmall",lineHeight:"24px"},DEFAULT:{typography:"DisplayBold4XSmall",lineHeight:"26px"}},[o._u.SMALL]:{LEVEL_1:{typography:"LabelSmall"},DEFAULT:{typography:"LabelLarge"}}}}},f=(e,t,i)=>{const n=(e=>Boolean(m[e]))(e)?((e,t)=>({getContentPadding:i=>e===o._u.REGULAR?i===u.zK.FULLWIDTH?{padding:"16px","@media screen and (max-width: 1366px)":{padding:"12px"}}:"ltr"===t?{padding:"16px 8px 16px 16px","@media screen and (max-width: 1366px)":{padding:"12px 8px 12px 12px"}}:{padding:"16px 16px 16px 8px","@media screen and (max-width: 1366px)":{padding:"12px 12px 12px 8px"}}:{padding:"12px 16px",["@media screen and (max-width: 1650px) and (min-width: ".concat(l.aj,"px)")]:{padding:"12px"},["@media screen and (max-width: ".concat(l.aj-1,"px) and (min-width: 1367px)")]:{padding:"12px 16px"},"@media screen and (max-width: 1366px)":{padding:"12px"}},getTitleFont:(t,i,n)=>{if(e===o._u.REGULAR){const e=1===i?1.4:1.9,a=e/100,r=g.zV*a,o=g.B7*a;return{...t.typography[n],lineHeight:"1.3",fontSize:"".concat(r,"px"),["@media screen and (max-width: ".concat(g.zV,"px)")]:{fontSize:"".concat(e,"vw")},["@media screen and (max-width: ".concat(g.B7,"px)")]:{fontSize:"".concat(o,"px")}}}const a=1===i?.9:1.15,r=1===i?1.05:1.35,d=a/100,s=r/100,c=g.zV*d,p=g.B7*s;return{...t.typography[n],lineHeight:"1.3",fontSize:"".concat(c,"px"),["@media screen and (max-width: ".concat(g.zV,"px) and (min-width: ").concat(l.aj,"px)")]:{fontSize:"".concat(a,"vw")},["@media screen and (max-width: ".concat(l.aj-1,"px) and (min-width: ").concat(g.B7+1,"px)")]:{fontSize:"".concat(r,"vw")},["@media screen and (max-width: ".concat(g.B7,"px)")]:{fontSize:"".concat(p,"px")}}},getSubtitleFont:t=>e===o._u.REGULAR?{...t.typography.ParagraphSmall,"@media screen and (max-width: 1366px)":{...t.typography.ParagraphXSmall}}:t.typography.ParagraphSmall,getCtaFont:t=>e===o._u.REGULAR?{...t.typography.LabelSmall,paddingTop:t.sizing.scale300,paddingBottom:t.sizing.scale300,paddingLeft:t.sizing.scale500,paddingRight:t.sizing.scale500,"@media screen and (max-width: 1366px)":{...t.typography.LabelXSmall,paddingTop:t.sizing.scale100,paddingBottom:t.sizing.scale100,paddingLeft:t.sizing.scale300,paddingRight:t.sizing.scale300}}:{...t.typography.LabelXSmall,paddingTop:t.sizing.scale100,paddingBottom:t.sizing.scale100,paddingLeft:t.sizing.scale300,paddingRight:t.sizing.scale300}}))(t,i):null,a=(0,h.Om)(t);return{CARD:{getContentPadding:e=>n?n.getContentPadding(e):x.contentPadding,getTitleFont:e=>{let{$theme:t,$fontSizeLevel:i=2}=e;if(n){const e=x.titleFont.responsiveFontFamily[a];return n.getTitleFont(t,i,e)}const r=1===i?"LEVEL_1":"DEFAULT",o=x.titleFont.commonFontFamily[a][r];return{...t.typography[o.typography],..."lineHeight"in o?{lineHeight:o.lineHeight}:{}}},getSubtitleFont:e=>{let{$theme:t}=e;return n?n.getSubtitleFont(t):t.typography.ParagraphSmall},getCtaFont:e=>{let{$theme:i}=e;return n?n.getCtaFont(i):t===o._u.REGULAR?{...i.typography.LabelSmall,paddingTop:i.sizing.scale300,paddingBottom:i.sizing.scale300,paddingLeft:i.sizing.scale500,paddingRight:i.sizing.scale500}:{...i.typography.LabelXSmall,paddingTop:i.sizing.scale100,paddingBottom:i.sizing.scale100,paddingLeft:i.sizing.scale300,paddingRight:i.sizing.scale300}},getLayoutSize:()=>t===o._u.REGULAR?{minHeight:"".concat(l.lC,"px"),cardAspectRatio:"".concat(100*l.Jh,"%"),splitImageAspectRatio:"".concat(100*l.Bu,"%"),splitImageFit:"cover",spacer:"4px"}:{minHeight:"".concat(l.PO,"px"),cardAspectRatio:"".concat(100*l.Kk,"%"),splitImageAspectRatio:"".concat(100*l.eo,"%"),splitImageFit:"cover",spacer:"4px"}}}};var v=i(36100),y=i(39201),Z=i(31394),b=i(25641),S=i(41494),z=i(93046),L=i(18553),$=i(76319),I=i(84401),B=i(44156),C=i(85865),k=i(56632),w=i(58631);const P=e=>{let{surface:t,initialLimit:i=l.SB}=e;const{cardLimit:n,setCardLimit:a}=(0,w.N8)();return(0,k.Z)()((()=>{if(t!==o.cx.STOREFRONT_CATALOG_ITEM)return;const e=()=>{C.Z&&C.Z.innerWidth>=l.aj?a(i+1):a(i)};return e(),C.Z&&C.Z.addEventListener("resize",e),()=>{C.Z&&C.Z.removeEventListener("resize",e)}}),[t,a,i]),n};var _=i(30330);const E=(0,a.zo)("div",(e=>{let{$placeLeft:t,$isHovering:i}=e;return{zIndex:g.I_.surface,position:"absolute",top:"50%",transform:"translate(0, -50%)",opacity:i?1:0,transition:"opacity 300ms ease-in-out",...t?{left:"-".concat(l.L/2,"px")}:{right:"-".concat(l.L/2,"px")}}})),R=(0,a.zo)("div",(e=>{let{$size:t,$direction:i}=e;return{zIndex:g.I_.surface,position:"absolute",top:"".concat(-t-l.lS,"px"),..."ltr"===i?{right:"".concat(t+4,"px")}:{left:"".concat(t+4,"px")}}})),D=(0,a.zo)("div",(e=>{let{$size:t,$direction:i}=e;return{zIndex:g.I_.surface,position:"absolute",top:"".concat(-t-l.lS,"px"),..."ltr"===i?{right:0}:{left:0}}})),T=(0,a.w1)(z.b,(e=>{let{$hasButton:t}=e;return{padding:t?"24px":"24px 40px"}})),A=(0,a.w1)(b.rj,{display:"flex",alignItems:"center"}),M=(0,a.zo)("div",{position:"relative"}),F=(0,a.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.DisplayBoldSmall,"@media screen and (max-width: 1366px)":{...t.typography.DisplayBoldXSmall},marginBottom:"8px"}})),O=(0,a.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphMedium}})),U=e=>{let{cardCarousel:t,surface:i,isHovering:n,verticalPosition:a}=e;const u=(0,I.Z)()===B.s.postmates,g=(0,L.Z)(),h=(0,Z.gm)(),m=t.template||"",{filteredItems:x,initialIndex:z,onSlidesDisplayed:C}=(0,v.Z)(t.carouselItems||[],i,m,a),k=P({surface:i});if(!x.length)return null;const w=(0,$.N)(t),U=(0,$.f)(w),G=e=>{let{slide:t,carouselSlideProps:n}=e;return(0,_.tZ)(p.Z,{slide:t,slides:x,surface:i,template:m,verticalPosition:a,carouselSlideProps:n,eaterMessageStyles:f(i,m,h)})},N=(e,t)=>function(i){return i?(0,_.tZ)(E,{$isHovering:e,$placeLeft:"rtl"!==h,children:(0,_.tZ)(c.Z,{direction:"backward",onClick:i,size:t})}):null},H=(e,t)=>function(i){return i?(0,_.tZ)(E,{$isHovering:e,$placeLeft:"rtl"===h,children:(0,_.tZ)(c.Z,{direction:"forward",onClick:i,size:t})}):null},V=e=>function(t){return(0,_.BX)(_.HY,{children:[(0,_.tZ)(c.Z,{direction:"backward",onClick:t,size:e,type:"regular"}),(0,_.tZ)(S.ZP,{$width:"4px"})]})},X=e=>function(t){return(0,_.BX)(_.HY,{children:[(0,_.tZ)(S.ZP,{$width:"4px"}),(0,_.tZ)(c.Z,{direction:"forward",onClick:t,size:e,type:"regular"})]})};switch(i){case"promo_manager":case o.cx.PROMO_MANAGER_BOTTOM_CAROUSEL:case o.cx.CHECKOUT_PROMO_MANAGER_BOTTOM_CAROUSEL:case o.cx.PICKUP_FEED_ITEM:case o.cx.ORDER_TRACKING_FEED_ITEM:return(0,_.tZ)(y.K2,{children:(0,_.tZ)(y.qY,{$centerPadding:l.R4,children:(0,_.tZ)(s.Z,{autoScrollInterval:1===x.length?0:U,initialIndex:z,slides:x,renderSlide:G,renderPrevButton:N(n,l.L),renderNextButton:H(n,l.L),pageSize:1,margin:l.uJ,onSlidesDisplayed:C,overflowVisible:!0})})});case o.cx.HOME_FEED_ITEM:{const e=x.length<3,i=x.length<=3?0:t.shouldAutoScroll?U||4e3:0,n=()=>{let e=(0,_.tZ)(r.v,{id:"billboard.heading"}),t=(0,_.tZ)(r.v,{id:"billboard.subheading"});return u&&(e=(0,_.tZ)(r.v,{id:"postmates.components.feed_enter_address.heading"}),t=(0,_.tZ)(r.v,{id:"postmates.components.feed_enter_address.subtitle"})),(0,_.BX)(b.bL,{span:4,children:[(0,_.tZ)(F,{children:e}),(0,_.tZ)(O,{children:t})]})};return(0,_.tZ)(T,{$ignorePadding:!0,$hasButton:x.length>3,children:(0,_.BX)(A,{"data-testid":"billboard-grid",children:[e?n():null,(0,_.tZ)(b.bL,{span:e?8:12,children:(0,_.tZ)(y.rB,{children:(0,_.tZ)(s.Z,{autoScrollInterval:i,initialIndex:z,slides:x,renderSlide:G,renderPrevButton:V(l.VJ),renderNextButton:X(l.VJ),pageSize:e?2:3,margin:l.pU,onSlidesDisplayed:C,isInfinite:!0})})})]})})}case o.cx.VERTICAL_FEED_BILLBOARD:{const e=x.length<3,t=t=>{if(!e||!t)return null;let i=(0,_.tZ)(r.v,{id:"billboard.verticalFeeds.header"}),n=(0,_.tZ)(r.v,{id:"billboard.verticalFeeds.subHeader"});return t===d.Cf.GROCERY&&(i=(0,_.tZ)(r.v,{id:"billboard.verticalFeeds.grocery.header"}),n=(0,_.tZ)(r.v,{id:"billboard.verticalFeeds.grocery.subHeader"})),(0,_.BX)(b.bL,{span:4,children:[(0,_.tZ)(F,{children:i}),(0,_.tZ)(O,{children:n})]})};return(0,_.tZ)(T,{$ignorePadding:!0,$hasButton:x.length>3,children:(0,_.BX)(A,{children:[t(g),(0,_.tZ)(b.bL,{span:e?8:12,children:(0,_.tZ)(y.rB,{children:(0,_.tZ)(s.Z,{initialIndex:z,slides:x,renderSlide:G,renderPrevButton:V(l.VJ),renderNextButton:X(l.VJ),pageSize:e?2:3,margin:l.pU,onSlidesDisplayed:C,isInfinite:!0})})})]})})}case o.cx.STOREFRONT_CATALOG_ITEM:{const e=e=>(0,_.tZ)(R,{$size:l.VJ,$direction:h,children:(0,_.tZ)(c.Z,{direction:"backward",onClick:e,type:"regular",size:l.VJ,disabled:!e})}),t=e=>(0,_.tZ)(D,{$size:l.VJ,$direction:h,children:(0,_.tZ)(c.Z,{direction:"forward",onClick:e,type:"regular",size:l.VJ,disabled:!e})});return(0,_.tZ)(M,{children:(0,_.tZ)(s.Z,{initialIndex:z,slides:x,renderSlide:G,renderPrevButton:e,renderNextButton:t,pageSize:k,margin:l.pU,onSlidesDisplayed:C,shouldStartAlign:!0})})}}return(0,_.tZ)(y.K2,{children:(0,_.tZ)(y.qY,{$centerPadding:l.R4,children:(0,_.tZ)(s.Z,{initialIndex:z,slides:x,renderSlide:G,renderPrevButton:N(n,l.L),renderNextButton:H(n,l.L),pageSize:3,margin:l.pU,onSlidesDisplayed:C,overflowVisible:!0})})})};var G=i(46816),N=i(44599),H=i(24413),V=i(92346),X=i(19785),K=i(80738),j=i(12620);const J=(0,a.zo)("div",(e=>{let{$color:t}=e;return{height:"58px",display:"flex",justifyContent:"center",alignItems:"center",...t?{backgroundColor:t}:{}}})),Y=e=>{var t;let{campaignBanner:i}=e;const{pathname:n}=(0,V.TH)(),a=(0,j.Z)();if("/feed"!==n)return null;const{animatedBackground:r,carouselItems:o}=i,{animationUrl:d,fallbackImageUrl:l,loopAnimation:s,backgroundColor:c}=r||{animationUrl:""};return(0,_.BX)(J,{$color:a({color:c}),children:[d?(0,_.BX)(_.HY,{children:[(0,_.tZ)(K.Z,{animationUrl:d,placeholderImageUrl:l||"",loop:s||!1}),(0,_.tZ)(S.sA,{})]}):null,null!=o&&o.length?(0,_.tZ)(X.ZP,{text:null===(t=o[0])||void 0===t?void 0:t.text}):null]})};var W=i(84312);const q=e=>{var t;let{cardItem:i,surface:a,verticalPosition:r}=e;const[o,d]=(0,n.useState)(!1),l=(0,G.ZP)(),s=i.cardItem,c=i.uuid||"",p=(null===(t=i.metadata)||void 0===t?void 0:t.trackingID)||"",u="cardItemPayload";(0,n.useEffect)((()=>{l("eats:eater_message_view",{eaterMessage:{uuid:c,verticalPosition:r,surface:a,itemType:u,trackingID:p}})}),[l,c,p,a,r]);const h=e=>{e.stopPropagation(),e.preventDefault(),d(!0),l("eats:eater_message_dismiss",{eaterMessage:{uuid:c,itemType:u,verticalPosition:r,surface:a,trackingID:p}})};switch(null==s?void 0:s.type){case"systemBanner":{var m;if(o)return null;const{systemBanner:e}=s,t=()=>(0,_.tZ)(H.Z,{dismissAction:h,systemBanner:e,systemBannerStyles:{getContentPadding:()=>({padding:"16px ".concat(g.Jy,"px")})}});return(0,_.tZ)(W.Z,{messageKey:"system-banner",children:null!==(m=e.cta)&&void 0!==m&&m.action?(0,_.tZ)(N.ZP,{linkStyleType:N.co.BANNER,action:e.cta.action,actionTrackingID:e.cta.trackingID||"",surface:a,analytics:{uuid:c,template:"",verticalPosition:r,itemType:u,trackingID:p},children:t()}):t()})}case"campaignBanner":{var x;const{campaignBanner:e}=s,t=()=>(0,_.tZ)(Y,{campaignBanner:e});return(0,_.tZ)(W.Z,{messageKey:"campaign-banner",children:null!==(x=e.primaryCta)&&void 0!==x&&x.action?(0,_.tZ)(N.ZP,{linkStyleType:N.co.BANNER,action:e.primaryCta.action,actionTrackingID:e.primaryCta.trackingID||"",surface:a,analytics:{uuid:c,verticalPosition:r,itemType:u,trackingID:p},children:t()}):t()})}}return null};var Q=i(5665);const ee=e=>{let{eaterMessage:{payload:t,surfaceId:i},feedIndex:a=0}=e;const r=(0,n.useRef)(null),o=(0,Q.Z)(r);if(!t)return null;let d=null;switch(t.type){case"cardCarousel":d=(0,_.tZ)(w.ZP,{children:(0,_.tZ)(U,{cardCarousel:t.cardCarousel,surface:i||"",isHovering:o,verticalPosition:a})});break;case"cardItemPayload":d=(0,_.tZ)(q,{cardItem:t.cardItemPayload,surface:i||"",verticalPosition:a})}return d?(0,_.tZ)("div",{ref:r,children:d}):null}},26735:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var n=i(77808);function a(){const[e,t]=(0,n.useState)(null),i=(0,n.useCallback)((i=>{if(i){const n=i.getBoundingClientRect();e&&(null==e?void 0:e.height)===n.height&&(null==e?void 0:e.width)===n.width||t(n)}}),[e]);return[e,i]}},26200:(e,t,i)=>{"use strict";i.d(t,{OT:()=>Z,ZP:()=>y});var n=i(25018),a=i(77808),r=i(73086),o=i(37725),d=i(27531),l=i(10247),s=i(76893),c=i(26602),p=i(39718),u=i(90004),g=i(9798),h=i(92346),m=i(91305);const x="WAIT",f="UPDATE",v="CONFIRM";function y(e,t){var i;const g=(()=>{const{feed:{data:e,isLoading:t,hasLoaded:i,error:n}}=(0,p.Z)();return{isLoading:t,error:n,hasLoaded:i,data:null==e?void 0:e.diningModes}})(),{cartData:y,serverCart:Z}=(0,n.Z)(),b=(0,m.Z)(),S=null!=t?t:b?"":null==y?void 0:y.storeUuid,{store:z,shouldGetStore:L,getStore:$}=(0,d.Z)(S),[I,B]=(0,a.useState)(null),C=(0,l.g)(),k=null===(i=z.data)||void 0===i?void 0:i.supportedDiningModes,w=(0,o.k6)(),P=(0,h.TH)(),_=(0,l.d)(),E=(0,r.I0)(),R=0===(0,s.dH)(null==y?void 0:y.items),D=(0,u.Z)(),T=(0,a.useCallback)((()=>k||g.data),[g,k]),A=(0,a.useCallback)((e=>{const t=T();return(e=>{let{isInMulticart:t,isEmptyCart:i,shouldGetStore:n,supportedDiningModes:a,cartData:r,mode:o,getStore:d}=e;return t?0===(null==a?void 0:a.length)?x:(a||[]).some((e=>e.mode===o))?f:v:null!=r&&r.items?i?f:n?(d(),x):a?a.some((e=>e.mode===o))?f:v:x:x})({isInMulticart:D,isEmptyCart:R,shouldGetStore:L,getStore:$,supportedDiningModes:t,cartData:y,mode:e})}),[y,$,R,L,T,D]);(0,a.useEffect)((function(){if(D)return;if(!I)return;const e=A(I);e===f?(C(I),B(null)):e===v&&(w.push((0,c.vN_)(P,"unsupportedDining",I)),B(null))}),[E,A,w,R,P,I,C,D]);const M=(0,a.useCallback)((t=>{if(t!==_||S)switch(A(t)){case x:B(t);break;case f:C(t,{storeUuid:S}),w.replace((0,c.wc4)(P,t));break;case v:w.push((0,c.vN_)(P,"unsupportedDining",t))}else e&&B(e.mode)}),[_,A,w,P,C,e,S]);return{diningModes:g,handleDiningModeClick:M,newMode:I,isLoading:Boolean(I&&(z.isLoading||Z.isLoading))}}function Z(e){const t=(0,l.d)(),i=(0,l.g)(),n=(0,h.TH)(),{diningMode:r}=(0,c.RAN)(n,["diningMode"]),o=(0,g.Ee)(r);(0,a.useEffect)((function(){const n=(e=>{let{diningModes:t,currentDiningMode:i,ensuredDiningModeParam:n}=e;return Array.isArray(t)&&0!==t.length?t.some((e=>e.mode===i))?n&&n!==i&&t.some((e=>e.mode===n))?n:null==n&&null!=i&&t.some((e=>e.mode===i))?i:void 0:null===(a=t[0])||void 0===a?void 0:a.mode:null;var a})({diningModes:e,ensuredDiningModeParam:o,currentDiningMode:t});n&&i(n)}),[t,e,o,i])}},67724:(e,t,i)=>{e.exports=i.p+"4e76c3bddd07ac48.svg"}}]);