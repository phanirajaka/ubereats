"use strict";(self.webpackChunkFusion=self.webpackChunkFusion||[]).push([[30195],{23241:(e,t,r)=>{r.d(t,{K:()=>u,Z:()=>p});var n=r(64248),i=r(13428),o=r(58252),a=r(30330);const s={width:"40px",height:"40px",borderRadius:"50%",flexShrink:0},d=(0,n.zo)(i.Z,{...s}),l=(0,n.zo)("div",{position:"relative"}),c=(0,n.zo)("div",(e=>{let{$theme:t,$mask:r}=e;return{...s,...r==u.POSITIVE?{backgroundColor:t.colors.contentPositive}:{},opacity:.7,position:"absolute",top:0,display:"flex",justifyContent:"center",alignItems:"center"}})),u={POSITIVE:"POSITIVE"},p=e=>e.$mask?(0,a.BX)(l,{children:[(0,a.tZ)(d,{src:e.avatarUrl}),(0,a.tZ)(c,{$mask:e.$mask,children:e.$mask==u.POSITIVE?(0,a.tZ)(o.Z,{type:"Checkmark",color:"white",height:"16px",width:"18px"}):null})]}):(0,a.tZ)(d,{src:e.avatarUrl})},9420:(e,t,r)=>{r.d(t,{Z:()=>f});var n=r(77808),i=r(34120),o=r(4281),a=r(83158),s=r(73086),d=r(54932),l=r(90004),c=r(92346);function u(){return(0,c.TH)().pathname.includes("/bill-split-confirmation")}var p=r(69262),g=r(53567),m=r(88057),h=r(4982);const f=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=(0,l.Z)(),r=u(),{refetchCartsView:c}=(0,p.Z)(),{guestCheckoutEnabled:f}=(0,o.Z)();let v=["cartItems","subtotal","basketSize","promotion","restrictedItems","venueSectionPicker","locationInfo"];const y=(0,h.Z)("canonical_product_smart_cart");y&&v.push("canonicalProductStorePickerPayload");const[Z,C]=(0,i.Z)(v),b=(0,a.Z)(),x=(0,s.I0)(),{refetch:I}=(0,g.h)({});(0,m.Z)("venueSectionPicker"),(0,d.Z)(e),n.useEffect((()=>{b&&!r||!Z||(C(),f&&I({}),t&&c())}),[b,C,Z,t,r,x,c,f,I])}},4281:(e,t,r)=>{r.d(t,{Z:()=>p});var n=r(77808),i=r(46091),o=r(46816),a=r(86724),s=r(38652),d=r(95353),l=r(74978),c=r(27531),u=r(43743);function p(){var e;const{user:t,isUnregisteredUser:r}=(0,a.Z)(),p=null===(e=t.data)||void 0===e?void 0:e.isLoggedIn,g=(0,i.ip)({...s.J.guest_checkout,defaultValue:d.n.guest_checkout.defaultValue}),m=(0,i.qp)({...s.J.guest_checkout_guest_mode,defaultValue:d.n.guest_checkout_guest_mode.defaultValue}),h="control"!==m,f=function(){var e,t;const{serverCart:r}=(0,l.iQ)(),n=null===(e=r.data)||void 0===e?void 0:e.storeUuid,{store:i}=(0,c.Z)(n);return Boolean(null===(t=i.data)||void 0===t?void 0:t.isVenueStore)}();return{guestCheckoutEnabled:(0,n.useMemo)((()=>{const e=!p&&r;return!(!f||!e)||e&&(g||h)}),[g,p,r,f,h]),emitGuestCheckoutEvent:function(e,t,r,i){const a=(0,o.ZP)(),s=(0,u.Z)(),d=s?"eats:guest_checkout_in_guest_mode_enabled_citrus_xp":"eats:guest_checkout_enabled_citrus_xp",l=s?"eats:guest_checkout_in_guest_mode_enabled_citrus_xp_all_events":"eats:guest_checkout_enabled_citrus_xp_all_events",c=s?i:r;return(0,n.useCallback)((r=>{!e&&t&&a(d,{param_name:"guest.checkout.enabled",param_value:String(c),isGuestCheckoutEligible:Boolean(r)}),a(l,{param_name:"guest.checkout.enabled",param_value:String(c),isGuestCheckoutEligible:Boolean(r),isLoggedIn:Boolean(e),isUnregisteredUser:Boolean(t),isGuestModeApp:Boolean(s)})}),[a,e,t,s,d,l,c])}(Boolean(p),r,g,h),guestCheckoutInGuestModeXP:m}}},30195:(e,t,r)=>{r.d(t,{cp:()=>Oe,aM:()=>Ie,pS:()=>xe,Ef:()=>Be,q4:()=>Ce,jf:()=>Me});var n=r(18898),i=r(92346),o=r(72732),a=r(77808),s=r(60783),d=r(9024),l=r(20873);const c=(0,d.zo)("ul",{listStyleType:"none",marginBottom:0,marginTop:0,paddingLeft:0,paddingRight:0,width:"100%"});c.displayName="Root";const u=(0,d.zo)("li",(e=>{const{$expanded:t,$theme:{colors:r}}=e;return{listStyleType:"none",width:"100%",borderBottomWidth:"1px",borderBottomStyle:"solid",borderBottomColor:r.borderOpaque}}));u.displayName="PanelContainer";const p=(0,d.zo)("div",(e=>{const{$disabled:t,$isFocusVisible:r,$theme:{colors:n,sizing:i,typography:o}}=e;return{...o.font350,color:n.contentPrimary,cursor:t?"not-allowed":"pointer",backgroundColor:n.listHeaderFill,paddingTop:i.scale600,paddingBottom:i.scale600,paddingLeft:i.scale700,paddingRight:i.scale700,marginTop:0,marginBottom:0,marginLeft:0,marginRight:0,display:"flex",alignItems:"center",outline:r?"3px solid ".concat(n.borderAccent):"none",outlineOffset:"-3px",justifyContent:"space-between",":hover":{color:n.contentPrimary}}}));p.displayName="Header";const g=(0,d.zo)("svg",(e=>{const{$theme:t,$disabled:r,$color:n}=e;return{...(0,l.u)(e),flexShrink:0,color:n||t.colors.contentPrimary,cursor:r?"not-allowed":"pointer"}}));g.displayName="ToggleIcon";const m=(0,d.zo)("g",(e=>{const{$theme:t,$expanded:r}=e;return{transform:r?"rotate(0)":"rotate(-90deg)",transformOrigin:"center",transitionProperty:"transform",transitionDuration:t.animation.timing500,transitionTimingFunction:t.animation.easeOutQuinticCurve}}));m.displayName="ToggleIconGroup";const h=(0,d.zo)("div",(e=>{const{$theme:{animation:t,colors:r,sizing:n,typography:i},$expanded:o}=e;return{...i.font200,backgroundColor:r.listBodyFill,color:r.contentPrimary,paddingTop:n.scale800,paddingBottom:n.scale1000,paddingLeft:n.scale800,paddingRight:n.scale800,marginTop:0,marginBottom:0,marginLeft:0,marginRight:0,boxSizing:"border-box",overflow:"hidden",opacity:o?1:0,visibility:o?"visible":"hidden",transitionProperty:"opacity,visibility",transitionDuration:t.timing500,transitionDelay:t.timing200,transitionTimingFunction:t.easeOutQuinticCurve}}));h.displayName="Content";const f=(0,d.zo)("div",(e=>{const{$height:t,$theme:{animation:r}}=e;return{height:"".concat(t),overflow:"hidden",transitionProperty:"height",transitionDuration:r.timing500,transitionTimingFunction:r.easeOutQuinticCurve}}));f.displayName="ContentAnimationContainer";var v=r(30330);function y(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Z extends a.Component{constructor(){super(...arguments),y(this,"state",{expanded:[],...this.props.initialState}),y(this,"itemRefs",[])}onPanelChange(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];let o=this.state.expanded;const{accordion:a}=this.props;if(a)o=o[0]===e?[]:[e];else{o=[...o];const t=o.indexOf(e);t>-1?o.splice(t,1):o.push(e)}const s={expanded:o};this.internalSetState("expand",s),"function"==typeof t&&t(...n)}internalSetState(e,t){const{stateReducer:r,onChange:n}=this.props,i=r(e,t,this.state);this.setState(i),"function"==typeof n&&n(i)}handleKeyDown(e){if(this.props.disabled)return;const t=this.itemRefs;if(36===e.keyCode){e.preventDefault();const r=t[0];r.current&&r.current.focus()}if(35===e.keyCode){e.preventDefault();const r=t[t.length-1];r.current&&r.current.focus()}if(38===e.keyCode){e.preventDefault();const r=t.findIndex((e=>e.current===document.activeElement));if(r>0){const e=t[r-1];e.current&&e.current.focus()}}if(40===e.keyCode){e.preventDefault();const r=t.findIndex((e=>e.current===document.activeElement));if(r<t.length-1){const e=t[r+1];e.current&&e.current.focus()}}}getItems(){var e=this;const{expanded:t}=this.state,{accordion:r,disabled:n,children:i,renderAll:o,overrides:s}=this.props;return a.Children.map(i,((i,d)=>{if(!i)return;const l=a.createRef();this.itemRefs.push(l);const c=i.key||String(d);let u=!1;u=r?t[0]===c:t.includes(c);const p={key:c,ref:l,expanded:u||i.props.expanded,accordion:r,renderAll:o,overrides:i.props.overrides||s,disabled:i.props.disabled||n,onChange:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.onPanelChange(c,i.props.onChange,...r)}};return a.cloneElement(i,p)}))}render(){const{overrides:e={}}=this.props,{Root:t}=e,[r,n]=(0,s.jb)(t,c);return(0,v.tZ)(r,{"data-baseweb":"accordion",$disabled:this.props.disabled,$isFocusVisible:!1,onKeyDown:this.handleKeyDown.bind(this),...n,children:this.getItems()})}}y(Z,"defaultProps",{accordion:!0,disabled:!1,initialState:{expanded:[]},onChange:()=>{},overrides:{},renderAll:!1,stateReducer:(e,t)=>t});var C=r(44792),b=r(98529);const x=a.forwardRef(((e,t)=>{let{"aria-controls":r,children:n,disabled:i=!1,expanded:o=!1,onChange:d=(()=>{}),onClick:l=(()=>{}),onKeyDown:c=(()=>{}),overrides:y={},title:Z="",renderAll:x=!1}=e;const[I,k]=a.useState({expanded:o,isFocusVisible:!1,elementHeight:0,animationInProgress:!1}),B=a.useCallback((e=>{(0,b.E)(e)&&k({...I,isFocusVisible:!0})}),[I]),_=a.useCallback((e=>{I.isFocusVisible&&k({...I,isFocusVisible:!1})}),[I]),O=a.useCallback((e=>{i||("function"==typeof d&&d({expanded:!o}),"function"==typeof l&&l(e))}),[o,i,d,l]),M=a.useCallback((e=>{i||(13!==e.keyCode&&32!==e.keyCode||("function"==typeof d&&d({expanded:!o}),32===e.keyCode&&e.preventDefault()),"function"==typeof c&&c(e))}),[o,i,d,c]),S=a.useRef(null);a.useEffect((()=>{if(S.current){const e=S.current.getBoundingClientRect().height;o!==I.expanded?k({...I,expanded:o,animationInProgress:!0}):parseInt(I.elementHeight)!==e&&k({...I,elementHeight:e?"".concat(e,"px"):0})}}),[S.current,o,I.elementHeight,I.expanded,k]);const P=a.useMemo((()=>{if(!o&&I.expanded){const e=S.current.getBoundingClientRect().height;return k({...I,elementHeight:e?"".concat(e,"px"):0}),I.elementHeight}return I.expanded?I.animationInProgress?I.elementHeight:"auto":0}),[o,I.expanded,I.animationInProgress,I.elementHeight]),U={$disabled:i,$expanded:o,$isFocusVisible:I.isFocusVisible},{PanelContainer:T,Header:$,Content:w,ContentAnimationContainer:z,ToggleIcon:D,ToggleIconGroup:E}=y,[R,H]=(0,s.jb)(T,u),[G,V]=(0,s.jb)($,p),[L,F]=(0,s.jb)(w,h),[Q,j]=(0,s.jb)(z,f),[A,N]=(0,s.jb)(E,m),[X,q]=(0,s.jb)(D,g);return(0,v.tZ)(C.R.Consumer,{children:e=>(0,v.BX)(R,{...U,...H,children:[(0,v.BX)(G,{tabIndex:0,role:"button","aria-expanded":o,"aria-disabled":i||null,...U,...V,...r?{"aria-controls":r}:{},onClick:O,onKeyDown:M,onFocus:(0,b.Ah)(V,B),onBlur:(0,b.Z5)(V,_),ref:t,children:[Z,(0,v.BX)(X,{viewBox:"0 0 24 24",title:I.expanded?e.accordion.collapse:e.accordion.expand,size:16,...q,...U,children:[(0,v.tZ)(A,{...U,...N,children:(0,v.tZ)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 12C6 11.4477 6.44772 11 7 11H17C17.5523 11 18 11.4477 18 12C18 12.5523 17.5523 13 17 13H7C6.44772 13 6 12.5523 6 12Z"})}),(0,v.tZ)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 12C6 11.4477 6.44772 11 7 11H17C17.5523 11 18 11.4477 18 12C18 12.5523 17.5523 13 17 13H7C6.44772 13 6 12.5523 6 12Z"})]})]}),(0,v.tZ)(Q,{...U,...j,$height:P,onTransitionEnd:()=>{I.animationInProgress&&k({...I,animationInProgress:!1})},children:(0,v.tZ)(L,{ref:S,...U,...F,...r?{id:r}:{},children:I.expanded||x||I.animationInProgress?n:null})})]})})}));x.displayName="Panel";const I=x;var k=r(41994),B=r(98479),_=r(64248),O=r(76893),M=r(26602),S=r(18225),P=r(72920),U=r(37725),T=r(74978),$=r(73086),w=r(32750),z=r(41494),D=r(59869),E=r(23241),R=r(78548),H=r(38458),G=r(25301),V=r(44501),L=r(12272);const F=(0,_.zo)("div",{minWidth:"200px",display:"flex",alignItems:"center"});function Q(e){let{numItems:t,isCurrentUser:r,isDraftOrderCreator:n,cartByMember:i,isBillSplitOrder:a}=e;const s=(0,G.T)(),[,d]=(0,_.hQ)(),l=()=>(0,v.tZ)(o.aM,{color:d.colors.contentSecondary,children:(0,v.tZ)(P.v,{id:"go.no_items_added_yet"})}),c=()=>(0,v.BX)(F,{children:[(0,v.tZ)(o.S$,{color:d.colors.positive,children:(0,v.tZ)(P.v,{id:"go.participant.checked.out.subtext"})}),(0,v.tZ)(V.Z,{}),(0,v.tZ)(o.aM,{color:d.colors.contentPrimary,children:s(1===t?"go.single_cart_item":"go.multiple_cart_items",{num:t})})]});if(a)if(n){if(!r)return 0===t?(0,v.tZ)(l,{}):null!=i&&i.confirmed?(0,v.tZ)(o.S$,{color:d.colors.positive,children:(0,v.tZ)(P.v,{id:"go.participant.has.paid"})}):(0,v.tZ)(o.S$,{color:d.colors.contentWarning,children:(0,v.tZ)(P.v,{id:"go.participant.has.not.paid"})});if(0===t)return(0,v.tZ)(l,{})}else{if(r)return 0===t?(0,v.tZ)(o.S$,{color:d.colors.contentWarning,children:(0,v.tZ)(P.v,{id:"go.banner_add_items"})}):null!=i&&i.confirmed?(0,v.tZ)(c,{}):(0,v.tZ)(L.Z,{width:"240px",children:(0,v.tZ)(o.S$,{color:d.colors.contentWarning,children:(0,v.tZ)(P.v,{id:"go.participant.not.paid.subtext"})})});if(0===t)return(0,v.tZ)(l,{})}else if(!a)if(n){if(0===t)return(0,v.tZ)(l,{})}else{if(r)return 0===t?(0,v.tZ)(o.S$,{color:d.colors.contentWarning,children:(0,v.tZ)(P.v,{id:"go.banner_add_items"})}):(0,v.tZ)(c,{});if(0===t)return(0,v.tZ)(l,{})}return 1===t?(0,v.tZ)(o.aM,{color:d.colors.contentPrimary,children:s("go.single_cart_item",{num:t})}):(0,v.tZ)(o.aM,{color:d.colors.contentPrimary,children:s("go.multiple_cart_items",{num:t})})}var j=r(17075),A=r(45364),N=r(34319);const X=(0,_.zo)("div",{display:"flex",flex:1}),q=(0,_.zo)("div",{display:"flex",flexDirection:"column",alignItems:"flex-start"}),K=(0,_.zo)("div",{marginBottom:"4px"}),W=(0,_.zo)("div",{display:"flex",flexDirection:"row"}),Y=(0,_.zo)("div",{display:"inline-flex",alignItems:"center"}),J=(0,_.zo)("div",{justifyContent:"center",paddingBottom:"16px"}),ee=e=>{const{cartByMember:t,showMask:r=!0,avatarUrl:n}=e;return(0,v.tZ)(E.Z,{avatarUrl:n,$mask:t.confirmed&&r?E.K.POSITIVE:void 0})},te=e=>{const{cartByMember:t,participantNumItems:r,isDraftOrderCreator:n,isBillSplitOrder:i}=e;return(0,v.tZ)(X,{children:(0,v.BX)(q,{children:[(0,v.tZ)(K,{children:(0,v.tZ)(o.Uc,{children:t.isCurrentUser?(0,v.tZ)(P.v,{id:"go.cart_summary_current_user",data:{name:t.name}}):t.name})}),(0,v.tZ)(Y,{children:(0,v.tZ)(Q,{numItems:r,isDraftOrderCreator:n,isCurrentUser:t.isCurrentUser,cartByMember:t,isBillSplitOrder:i})})]})})},re=e=>{var t;const{cartByMember:r,updateItemQuantity:n,getItemClickUrl:i,draftOrderMetadata:o,canEditGroupOrderCart:a}=e,{serverCart:s}=(0,T.iQ)(),d=(0,O.Tg)((null===(t=s.data)||void 0===t?void 0:t.items)||[]),{isDraftOrderParticipant:l,isDraftOrderCreator:c,isBillSplitOrder:u,isDraftOrderCartLocked:p}=o;return(0,v.tZ)(w.Z,{separator:()=>(0,v.tZ)(S.Z,{$margin:"16px 0",$height:"1px"}),children:r.items.map(((e,t)=>{var o;const{shoppingCartItemUuid:g,title:m,specialInstructions:h,customizations:f}=e,y=d[g]||[],Z=s.isLoading||!a||l&&!r.isCurrentUser||u&&!r.isCreator&&(c||p),C=(0,N.O$)(e.pricedByUnit);return(0,v.BX)(W,{children:[(0,v.tZ)(j.Z,{itemUuid:e.uuid,value:e.quantity,updateItemQuantity:t=>n(e.shoppingCartItemUuid,t),disabled:Z,pricedByUnit:e.pricedByUnit,itemQuantity:e.itemQuantity,sellingOption:e.sellingOption,isInCart:!0}),(0,v.tZ)(z.ZP,{$width:"16px"}),(0,v.tZ)(A.Z,{itemUuid:e.uuid,storeUuid:e.storeUuid,isDisabled:Z||C,to:i(e,r.isCurrentUser),title:m,allCustomizations:f,changedCustomizations:y,currencyCode:(null===(o=s.data)||void 0===o?void 0:o.currencyCode)||"",shoppingCartItemUuid:g,specialInstructions:h})]},"grouped-eater-item-".concat(t))}))})},ne=e=>{const t=(0,U.k6)(),r=(0,i.TH)(),n=(0,$.I0)(),{cartByMember:o,draftOrderMetadata:a}=e,s=a.isDraftOrderCreator&&!o.isCurrentUser,d=a.isHandledHighCapacityOrder;return s?(0,v.tZ)(J,{children:(0,v.BX)(D.Bi,{onClick:()=>{n((0,H.i0)(o)),t.push((0,M.vN_)(r,"removeParticipant"))},children:[(0,v.tZ)(R.Z,{size:16,color:"negative"}),(0,v.tZ)(z.ZP,{$width:"8px"}),d?(0,v.tZ)(P.v,{id:"shared.remove_guest_by_name",data:{name:o.name||""}}):(0,v.tZ)(P.v,{id:"shared.remove_person"})]})}):null};var ie=r(45055),oe=r(68910),ae=r(27531),se=r(73081),de=r(9420),le=r(62638),ce=r(58851),ue=r(92202),pe=r(44856);const ge=(0,_.zo)("div",(e=>{let{$theme:t}=e;return{flexGrow:1}})),me=(0,_.zo)("div",{flex:1}),he={width:"100%",display:"flex",justifyContent:"space-between"},fe=(0,_.zo)("button",{...he,cursor:"pointer"}),ve=(0,_.zo)("div",{...he}),ye=(0,_.zo)("li",{display:"flex",flexDirection:"row",alignItems:"flex-start"}),Ze=(0,_.zo)("span",(e=>{let{$theme:t}=e;return{background:t.colors.contentWarning,display:"flex",width:"40px",height:"40px",borderRadius:"100%",justifyContent:"center",alignItems:"center"}})),Ce=e=>{const{cartMemberIndex:t,cartByMember:r,getItemClickUrl:i,updateItemQuantity:o,draftOrderMetadata:a,canEditGroupOrderCart:s,startExpanded:d,showRemoveParticipantButton:l}=e,[,c]=(0,_.hQ)(),[u,p]=n.useState(Boolean(d)),g=(0,O.dH)(r.items),{isDraftOrderCreator:m}=a,h=g>0,f=m?r.isCurrentUser&&h||!r.isCurrentUser:h,y=a.billSplitOption===B.x.SPLIT_BY_SUBTOTAL,Z=r.isCurrentUser&&!m&&y&&!(null!=r&&r.confirmed);return(0,v.tZ)(n.Fragment,{children:(0,v.BX)(ye,{children:[Z?(0,v.tZ)(Ze,{children:(0,v.tZ)(k.Z,{color:c.colors.primaryB,size:16})}):(0,v.tZ)(ee,{showMask:!1,cartByMember:r,avatarUrl:r.avatarUrl}),(0,v.tZ)(z.Tr,{}),(0,v.BX)(ge,{children:[f?(0,v.BX)(fe,{onClick:()=>p(!u),children:[(0,v.tZ)(te,{cartByMember:r,isDraftOrderCreator:m,participantNumItems:g,isBillSplitOrder:y}),(0,v.tZ)(me,{}),u?(0,v.tZ)(ce.c.TriangleUp,{size:24}):(0,v.tZ)(ce.c.TriangleDown,{size:24})]}):(0,v.tZ)(ve,{children:(0,v.tZ)(te,{cartByMember:r,isDraftOrderCreator:m,participantNumItems:g,isBillSplitOrder:y})}),u?(0,v.BX)(v.HY,{children:[(0,v.tZ)(ie.ZP,{$height:12}),(0,v.tZ)(re,{cartByMember:r,updateItemQuantity:o,getItemClickUrl:i,draftOrderMetadata:a,canEditGroupOrderCart:s}),l?(0,v.BX)(v.HY,{children:[(0,v.tZ)(ie.ZP,{$height:12}),(0,v.tZ)(ne,{cartByMember:r,draftOrderMetadata:a})]}):null]}):null]})]},"grouped-eater-".concat(t))},t)},be=(0,_.zo)("div",{padding:"0 16px"}),xe=e=>{let{cartByMember:t,showRemoveParticipantButton:r,cartMemberIndex:n,startExpanded:i=!1,updateCartItemQuantity:o,location:a,isDraftOrderCreator:s,canEditGroupOrderCart:d,storeUuid:l,storeSlug:c,draftOrderMetadata:u}=e;return(0,v.BX)("div",{children:[(0,v.tZ)(ie.ZP,{$height:16}),(0,v.tZ)(be,{children:(0,v.tZ)(Ce,{cartByMember:t,cartMemberIndex:n,startExpanded:i,updateItemQuantity:o,getItemClickUrl:(e,t)=>s||t?(0,M.vN_)(a,"editItem",e.shoppingCartItemUuid):(0,M.yz4)({location:a,args:{storeUuid:l,storeSlug:c,sectionUuid:e.sectionUuid,subsectionUuid:e.subsectionUuid,itemUuid:e.uuid}}),draftOrderMetadata:u,canEditGroupOrderCart:d,showRemoveParticipantButton:r})}),(0,v.tZ)(ie.ZP,{$height:16}),(0,v.tZ)(S.Z,{$height:"1px",$margin:"0"})]})},Ie=e=>{var t,r,n;const{groupedItems:o,showRemoveParticipantButton:a=!1}=e,{serverCart:s}=(0,T.iQ)(),{store:d}=(0,ae.Z)(null===(t=s.data)||void 0===t?void 0:t.storeUuid),l=(null===(r=d.data)||void 0===r?void 0:r.slug)||"",c=(null===(n=d.data)||void 0===n?void 0:n.uuid)||"";(0,de.Z)();const u=(0,se.Z)(),p=(0,i.TH)(),g=(0,oe.Z)(),{isDraftOrderCreator:m}=g,{canEditGroupOrderCart:h}=(0,le.Z)(c);return(0,v.tZ)(v.HY,{children:o.map(((e,t)=>(0,v.tZ)(xe,{cartMemberIndex:t,cartByMember:e,updateCartItemQuantity:u,location:p,isDraftOrderCreator:m,canEditGroupOrderCart:h,showRemoveParticipantButton:a,storeUuid:c,storeSlug:l,draftOrderMetadata:g},t)))})},ke=e=>{let{title:t}=e;return"Collapse"===t?(0,v.tZ)(ce.c.TriangleUp,{size:24}):(0,v.tZ)(ce.c.TriangleDown,{size:24})},Be=e=>{const{groupedItems:t,groupingTitle:r}=e;return(0,v.tZ)(Z,{children:(0,v.tZ)(I,{disabled:!t.length,title:r,overrides:{ToggleIcon:{component:ke},Header:{style:e=>{let{$theme:t}=e;return{backgroundColor:t.colors.backgroundSecondary}}},Content:{style:e=>{let{$theme:t}=e;return{padding:"4px 4px 0px 4px"}}}},children:(0,v.tZ)(Ie,{groupedItems:t,showRemoveParticipantButton:!0})})})},_e=(0,_.zo)("div",{display:"flex",flexDirection:"column",margin:"2px 0px 2px"}),Oe=e=>{const{groupingTitle:t,groupingDescription:r}=e;return(0,v.BX)(_e,{children:[(0,v.tZ)(o.Uc,{display:"inline-flex",marginBottom:"scale200",children:t}),(0,v.tZ)(o.aM,{display:"inline-flex",color:"contentTertiary",children:r})]})},Me=e=>{const{groupingTitle:t,groupingDescription:r,onClick:n}=e,{setIsManagingGroupOrder:i}=(0,ue.Z)(),[,o]=(0,_.hQ)();return(0,v.tZ)(v.HY,{children:(0,v.tZ)(pe.zx,{kind:pe.TO.tertiary,onClick:()=>{n(),i(!0)},endEnhancer:()=>(0,v.tZ)(ce.c.TriangleRight,{color:o.colors.contentInverseTertiary,size:24}),overrides:{BaseButton:{style:{width:"100%",justifyContent:"space-between"}}},children:(0,v.tZ)(Oe,{groupingTitle:t,groupingDescription:r})})})}},92202:(e,t,r)=>{r.d(t,{Z:()=>l});var n=r(18898),i=r(37725),o=r(26602),a=r(68910),s=r(69996),d=r(92346);function l(){const e=(0,d.TH)(),t=(0,i.k6)(),{isHandledHighCapacityOrder:r}=(0,a.Z)(),{loManageOrder:l}=(0,o.RAN)(e,["loManageOrder"]),c=n.useCallback((r=>{let{isManaging:n,isGroupOrder:i}=r;n?t.push((0,o.LcV)(e,i)):t.replace({search:(0,o.CiO)(e,["loManageOrder"]).search})}),[t,e]);return{isManagingGroupOrder:r&&l===s.kO.GUESTS,isManagingItems:r&&l===s.kO.ITEMS,setIsManagingGroupOrder:e=>c({isManaging:e,isGroupOrder:!0}),setIsManagingItems:e=>c({isManaging:e,isGroupOrder:!1})}}},54932:(e,t,r)=>{r.d(t,{Z:()=>u});var n=r(77808),i=r(54713),o=r(68910),a=r(93197),s=r(81922),d=r(90004),l=r(54008),c=r(74978);const u=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=(0,d.Z)(),r=(0,l.CF)(),{draftOrder:u,draftOrderMaybe:p}=(0,c.Dz)(),g=(0,i.A4)(),{deliveryAddress:m,diningMode:h}=(0,o.Z)(),[f,v]=n.useState(!1),y=(0,s.v)((e=>{let{stores:t}=e;return t[(null==u?void 0:u.storeUuid)||""]}))||{isLoading:!1,hasLoaded:!1,data:null,error:null};n.useEffect((()=>{var n,i;if(e||!t||!p.hasLoaded||!(r.hasLoaded||null!=y&&y.hasLoaded)||f)return;const o=((null===(n=r.data)||void 0===n?void 0:n.validationErrors)||[])[0],s=null==y||null===(i=y.error)||void 0===i?void 0:i.message;!o&&!s||(null==o?void 0:o.type)!==a.cz.INVALID_DELIVERY_TIME_RANGE&&"eats.get_store_invalid_delivery_time"!==s||(g.updateDraftOrder({overrides:{deliveryTime:{asap:!0},deliveryLocation:m,diningMode:h}}),v(!0))}),[e,t,g,m,h,r.data,r.hasLoaded,y,f,p.hasLoaded])}},53567:(e,t,r)=>{r.d(t,{h:()=>a});var n=r(2815),i=r(52753),o=r(30879);function a(e,t){const r=(0,o.Z)("getGuestCheckoutEligibilityV1"),a=(0,i.H)("getGuestCheckoutEligibilityV1",e);return(0,n.useQuery)({queryKey:a,queryFn:e=>{let{queryKey:t}=e;return r.request("getGuestCheckoutEligibilityV1",t[1])},...null==t?void 0:t.queryObserverOptions})}}}]);